function MS(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function VS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var l1={exports:{}},Gc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PS=Symbol.for("react.transitional.element"),kS=Symbol.for("react.fragment");function u1(t,e,n){var i=null;if(n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),"key"in e){n={};for(var r in e)r!=="key"&&(n[r]=e[r])}else n=e;return e=n.ref,{$$typeof:PS,type:t,key:i,ref:e!==void 0?e:null,props:n}}Gc.Fragment=kS;Gc.jsx=u1;Gc.jsxs=u1;l1.exports=Gc;var g=l1.exports,c1={exports:{}},W={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dm=Symbol.for("react.transitional.element"),LS=Symbol.for("react.portal"),US=Symbol.for("react.fragment"),jS=Symbol.for("react.strict_mode"),zS=Symbol.for("react.profiler"),BS=Symbol.for("react.consumer"),HS=Symbol.for("react.context"),qS=Symbol.for("react.forward_ref"),FS=Symbol.for("react.suspense"),GS=Symbol.for("react.memo"),h1=Symbol.for("react.lazy"),KS=Symbol.for("react.activity"),Py=Symbol.iterator;function YS(t){return t===null||typeof t!="object"?null:(t=Py&&t[Py]||t["@@iterator"],typeof t=="function"?t:null)}var f1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},d1=Object.assign,m1={};function ya(t,e,n){this.props=t,this.context=e,this.refs=m1,this.updater=n||f1}ya.prototype.isReactComponent={};ya.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ya.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function p1(){}p1.prototype=ya.prototype;function Om(t,e,n){this.props=t,this.context=e,this.refs=m1,this.updater=n||f1}var Mm=Om.prototype=new p1;Mm.constructor=Om;d1(Mm,ya.prototype);Mm.isPureReactComponent=!0;var ky=Array.isArray;function rd(){}var Re={H:null,A:null,T:null,S:null},g1=Object.prototype.hasOwnProperty;function Vm(t,e,n){var i=n.ref;return{$$typeof:Dm,type:t,key:e,ref:i!==void 0?i:null,props:n}}function QS(t,e){return Vm(t.type,e,t.props)}function Pm(t){return typeof t=="object"&&t!==null&&t.$$typeof===Dm}function $S(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Ly=/\/+/g;function of(t,e){return typeof t=="object"&&t!==null&&t.key!=null?$S(""+t.key):e.toString(36)}function XS(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(rd,rd):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function Es(t,e,n,i,r){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"bigint":case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Dm:case LS:a=!0;break;case h1:return a=t._init,Es(a(t._payload),e,n,i,r)}}if(a)return r=r(t),a=i===""?"."+of(t,0):i,ky(r)?(n="",a!=null&&(n=a.replace(Ly,"$&/")+"/"),Es(r,e,n,"",function(c){return c})):r!=null&&(Pm(r)&&(r=QS(r,n+(r.key==null||t&&t.key===r.key?"":(""+r.key).replace(Ly,"$&/")+"/")+a)),e.push(r)),1;a=0;var l=i===""?".":i+":";if(ky(t))for(var u=0;u<t.length;u++)i=t[u],s=l+of(i,u),a+=Es(i,e,n,s,r);else if(u=YS(t),typeof u=="function")for(t=u.call(t),u=0;!(i=t.next()).done;)i=i.value,s=l+of(i,u++),a+=Es(i,e,n,s,r);else if(s==="object"){if(typeof t.then=="function")return Es(XS(t),e,n,i,r);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return a}function Yl(t,e,n){if(t==null)return t;var i=[],r=0;return Es(t,i,"","",function(s){return e.call(n,s,r++)}),i}function JS(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Uy=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},WS={map:Yl,forEach:function(t,e,n){Yl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Yl(t,function(){e++}),e},toArray:function(t){return Yl(t,function(e){return e})||[]},only:function(t){if(!Pm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};W.Activity=KS;W.Children=WS;W.Component=ya;W.Fragment=US;W.Profiler=zS;W.PureComponent=Om;W.StrictMode=jS;W.Suspense=FS;W.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Re;W.__COMPILER_RUNTIME={__proto__:null,c:function(t){return Re.H.useMemoCache(t)}};W.cache=function(t){return function(){return t.apply(null,arguments)}};W.cacheSignal=function(){return null};W.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var i=d1({},t.props),r=t.key;if(e!=null)for(s in e.key!==void 0&&(r=""+e.key),e)!g1.call(e,s)||s==="key"||s==="__self"||s==="__source"||s==="ref"&&e.ref===void 0||(i[s]=e[s]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var a=Array(s),l=0;l<s;l++)a[l]=arguments[l+2];i.children=a}return Vm(t.type,r,i)};W.createContext=function(t){return t={$$typeof:HS,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:BS,_context:t},t};W.createElement=function(t,e,n){var i,r={},s=null;if(e!=null)for(i in e.key!==void 0&&(s=""+e.key),e)g1.call(e,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}if(t&&t.defaultProps)for(i in a=t.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return Vm(t,s,r)};W.createRef=function(){return{current:null}};W.forwardRef=function(t){return{$$typeof:qS,render:t}};W.isValidElement=Pm;W.lazy=function(t){return{$$typeof:h1,_payload:{_status:-1,_result:t},_init:JS}};W.memo=function(t,e){return{$$typeof:GS,type:t,compare:e===void 0?null:e}};W.startTransition=function(t){var e=Re.T,n={};Re.T=n;try{var i=t(),r=Re.S;r!==null&&r(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(rd,Uy)}catch(s){Uy(s)}finally{e!==null&&n.types!==null&&(e.types=n.types),Re.T=e}};W.unstable_useCacheRefresh=function(){return Re.H.useCacheRefresh()};W.use=function(t){return Re.H.use(t)};W.useActionState=function(t,e,n){return Re.H.useActionState(t,e,n)};W.useCallback=function(t,e){return Re.H.useCallback(t,e)};W.useContext=function(t){return Re.H.useContext(t)};W.useDebugValue=function(){};W.useDeferredValue=function(t,e){return Re.H.useDeferredValue(t,e)};W.useEffect=function(t,e){return Re.H.useEffect(t,e)};W.useEffectEvent=function(t){return Re.H.useEffectEvent(t)};W.useId=function(){return Re.H.useId()};W.useImperativeHandle=function(t,e,n){return Re.H.useImperativeHandle(t,e,n)};W.useInsertionEffect=function(t,e){return Re.H.useInsertionEffect(t,e)};W.useLayoutEffect=function(t,e){return Re.H.useLayoutEffect(t,e)};W.useMemo=function(t,e){return Re.H.useMemo(t,e)};W.useOptimistic=function(t,e){return Re.H.useOptimistic(t,e)};W.useReducer=function(t,e,n){return Re.H.useReducer(t,e,n)};W.useRef=function(t){return Re.H.useRef(t)};W.useState=function(t){return Re.H.useState(t)};W.useSyncExternalStore=function(t,e,n){return Re.H.useSyncExternalStore(t,e,n)};W.useTransition=function(){return Re.H.useTransition()};W.version="19.2.4";c1.exports=W;var V=c1.exports;const Li=VS(V),ZS=MS({__proto__:null,default:Li},[V]);var y1={exports:{}},Kc={},_1={exports:{}},v1={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(q,te){var J=q.length;q.push(te);e:for(;0<J;){var Ee=J-1>>>1,je=q[Ee];if(0<r(je,te))q[Ee]=te,q[J]=je,J=Ee;else break e}}function n(q){return q.length===0?null:q[0]}function i(q){if(q.length===0)return null;var te=q[0],J=q.pop();if(J!==te){q[0]=J;e:for(var Ee=0,je=q.length,Er=je>>>1;Ee<Er;){var Tr=2*(Ee+1)-1,ds=q[Tr],Gt=Tr+1,ci=q[Gt];if(0>r(ds,J))Gt<je&&0>r(ci,ds)?(q[Ee]=ci,q[Gt]=J,Ee=Gt):(q[Ee]=ds,q[Tr]=J,Ee=Tr);else if(Gt<je&&0>r(ci,J))q[Ee]=ci,q[Gt]=J,Ee=Gt;else break e}}return te}function r(q,te){var J=q.sortIndex-te.sortIndex;return J!==0?J:q.id-te.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],c=[],f=1,d=null,p=3,y=!1,C=!1,M=!1,D=!1,A=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function I(q){for(var te=n(c);te!==null;){if(te.callback===null)i(c);else if(te.startTime<=q)i(c),te.sortIndex=te.expirationTime,e(u,te);else break;te=n(c)}}function k(q){if(M=!1,I(q),!C)if(n(u)!==null)C=!0,H||(H=!0,N());else{var te=n(c);te!==null&&sn(k,te.startTime-q)}}var H=!1,T=-1,v=5,b=-1;function x(){return D?!0:!(t.unstable_now()-b<v)}function R(){if(D=!1,H){var q=t.unstable_now();b=q;var te=!0;try{e:{C=!1,M&&(M=!1,E(T),T=-1),y=!0;var J=p;try{t:{for(I(q),d=n(u);d!==null&&!(d.expirationTime>q&&x());){var Ee=d.callback;if(typeof Ee=="function"){d.callback=null,p=d.priorityLevel;var je=Ee(d.expirationTime<=q);if(q=t.unstable_now(),typeof je=="function"){d.callback=je,I(q),te=!0;break t}d===n(u)&&i(u),I(q)}else i(u);d=n(u)}if(d!==null)te=!0;else{var Er=n(c);Er!==null&&sn(k,Er.startTime-q),te=!1}}break e}finally{d=null,p=J,y=!1}te=void 0}}finally{te?N():H=!1}}}var N;if(typeof S=="function")N=function(){S(R)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,dt=w.port2;w.port1.onmessage=R,N=function(){dt.postMessage(null)}}else N=function(){A(R,0)};function sn(q,te){T=A(function(){q(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):v=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(q){switch(p){case 1:case 2:case 3:var te=3;break;default:te=p}var J=p;p=te;try{return q()}finally{p=J}},t.unstable_requestPaint=function(){D=!0},t.unstable_runWithPriority=function(q,te){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var J=p;p=q;try{return te()}finally{p=J}},t.unstable_scheduleCallback=function(q,te,J){var Ee=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?Ee+J:Ee):J=Ee,q){case 1:var je=-1;break;case 2:je=250;break;case 5:je=1073741823;break;case 4:je=1e4;break;default:je=5e3}return je=J+je,q={id:f++,callback:te,priorityLevel:q,startTime:J,expirationTime:je,sortIndex:-1},J>Ee?(q.sortIndex=J,e(c,q),n(u)===null&&q===n(c)&&(M?(E(T),T=-1):M=!0,sn(k,J-Ee))):(q.sortIndex=je,e(u,q),C||y||(C=!0,H||(H=!0,N()))),q},t.unstable_shouldYield=x,t.unstable_wrapCallback=function(q){var te=p;return function(){var J=p;p=te;try{return q.apply(this,arguments)}finally{p=J}}}})(v1);_1.exports=v1;var ew=_1.exports,E1={exports:{}},At={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tw=V;function T1(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function yi(){}var bt={d:{f:yi,r:function(){throw Error(T1(522))},D:yi,C:yi,L:yi,m:yi,X:yi,S:yi,M:yi},p:0,findDOMNode:null},nw=Symbol.for("react.portal");function iw(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:nw,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}var go=tw.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Yc(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}At.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=bt;At.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(T1(299));return iw(t,e,null,n)};At.flushSync=function(t){var e=go.T,n=bt.p;try{if(go.T=null,bt.p=2,t)return t()}finally{go.T=e,bt.p=n,bt.d.f()}};At.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,bt.d.C(t,e))};At.prefetchDNS=function(t){typeof t=="string"&&bt.d.D(t)};At.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,i=Yc(n,e.crossOrigin),r=typeof e.integrity=="string"?e.integrity:void 0,s=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?bt.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:i,integrity:r,fetchPriority:s}):n==="script"&&bt.d.X(t,{crossOrigin:i,integrity:r,fetchPriority:s,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};At.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=Yc(e.as,e.crossOrigin);bt.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&bt.d.M(t)};At.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,i=Yc(n,e.crossOrigin);bt.d.L(t,n,{crossOrigin:i,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};At.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=Yc(e.as,e.crossOrigin);bt.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else bt.d.m(t)};At.requestFormReset=function(t){bt.d.r(t)};At.unstable_batchedUpdates=function(t,e){return t(e)};At.useFormState=function(t,e,n){return go.H.useFormState(t,e,n)};At.useFormStatus=function(){return go.H.useHostTransitionStatus()};At.version="19.2.4";function b1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(b1)}catch(t){console.error(t)}}b1(),E1.exports=At;var rw=E1.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ze=ew,A1=V,sw=rw;function L(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function S1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function cl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function w1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function x1(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function jy(t){if(cl(t)!==t)throw Error(L(188))}function aw(t){var e=t.alternate;if(!e){if(e=cl(t),e===null)throw Error(L(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return jy(r),t;if(s===i)return jy(r),e;s=s.sibling}throw Error(L(188))}if(n.return!==i.return)n=r,i=s;else{for(var a=!1,l=r.child;l;){if(l===n){a=!0,n=r,i=s;break}if(l===i){a=!0,i=r,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,i=r;break}if(l===i){a=!0,i=s,n=r;break}l=l.sibling}if(!a)throw Error(L(189))}}if(n.alternate!==i)throw Error(L(190))}if(n.tag!==3)throw Error(L(188));return n.stateNode.current===n?t:e}function R1(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=R1(t),e!==null)return e;t=t.sibling}return null}var Ce=Object.assign,ow=Symbol.for("react.element"),Ql=Symbol.for("react.transitional.element"),ro=Symbol.for("react.portal"),Rs=Symbol.for("react.fragment"),C1=Symbol.for("react.strict_mode"),sd=Symbol.for("react.profiler"),I1=Symbol.for("react.consumer"),qn=Symbol.for("react.context"),km=Symbol.for("react.forward_ref"),ad=Symbol.for("react.suspense"),od=Symbol.for("react.suspense_list"),Lm=Symbol.for("react.memo"),vi=Symbol.for("react.lazy"),ld=Symbol.for("react.activity"),lw=Symbol.for("react.memo_cache_sentinel"),zy=Symbol.iterator;function Xa(t){return t===null||typeof t!="object"?null:(t=zy&&t[zy]||t["@@iterator"],typeof t=="function"?t:null)}var uw=Symbol.for("react.client.reference");function ud(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===uw?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Rs:return"Fragment";case sd:return"Profiler";case C1:return"StrictMode";case ad:return"Suspense";case od:return"SuspenseList";case ld:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case ro:return"Portal";case qn:return t.displayName||"Context";case I1:return(t._context.displayName||"Context")+".Consumer";case km:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Lm:return e=t.displayName||null,e!==null?e:ud(t.type)||"Memo";case vi:e=t._payload,t=t._init;try{return ud(t(e))}catch{}}return null}var so=Array.isArray,Q=A1.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he=sw.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,kr={pending:!1,data:null,method:null,action:null},cd=[],Cs=-1;function Dn(t){return{current:t}}function rt(t){0>Cs||(t.current=cd[Cs],cd[Cs]=null,Cs--)}function be(t,e){Cs++,cd[Cs]=t.current,t.current=e}var bn=Dn(null),ko=Dn(null),Ui=Dn(null),Fu=Dn(null);function Gu(t,e){switch(be(Ui,e),be(ko,t),be(bn,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?K_(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=K_(e),t=$T(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}rt(bn),be(bn,t)}function Zs(){rt(bn),rt(ko),rt(Ui)}function hd(t){t.memoizedState!==null&&be(Fu,t);var e=bn.current,n=$T(e,t.type);e!==n&&(be(ko,t),be(bn,n))}function Ku(t){ko.current===t&&(rt(bn),rt(ko)),Fu.current===t&&(rt(Fu),Yo._currentValue=kr)}var lf,By;function Cr(t){if(lf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);lf=e&&e[1]||"",By=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+lf+t+By}var uf=!1;function cf(t,e){if(!t||uf)return"";uf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(e){var d=function(){throw Error()};if(Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(y){var p=y}Reflect.construct(t,[],d)}else{try{d.call()}catch(y){p=y}t.call(d.prototype)}}else{try{throw Error()}catch(y){p=y}(d=t())&&typeof d.catch=="function"&&d.catch(function(){})}}catch(y){if(y&&p&&typeof y.stack=="string")return[y.stack,p.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=i.DetermineComponentFrameRoot(),a=s[0],l=s[1];if(a&&l){var u=a.split(`
`),c=l.split(`
`);for(r=i=0;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;for(;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;if(i===u.length||r===c.length)for(i=u.length-1,r=c.length-1;1<=i&&0<=r&&u[i]!==c[r];)r--;for(;1<=i&&0<=r;i--,r--)if(u[i]!==c[r]){if(i!==1||r!==1)do if(i--,r--,0>r||u[i]!==c[r]){var f=`
`+u[i].replace(" at new "," at ");return t.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",t.displayName)),f}while(1<=i&&0<=r);break}}}finally{uf=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?Cr(n):""}function cw(t,e){switch(t.tag){case 26:case 27:case 5:return Cr(t.type);case 16:return Cr("Lazy");case 13:return t.child!==e&&e!==null?Cr("Suspense Fallback"):Cr("Suspense");case 19:return Cr("SuspenseList");case 0:case 15:return cf(t.type,!1);case 11:return cf(t.type.render,!1);case 1:return cf(t.type,!0);case 31:return Cr("Activity");default:return""}}function Hy(t){try{var e="",n=null;do e+=cw(t,n),n=t,t=t.return;while(t);return e}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var fd=Object.prototype.hasOwnProperty,Um=Ze.unstable_scheduleCallback,hf=Ze.unstable_cancelCallback,hw=Ze.unstable_shouldYield,fw=Ze.unstable_requestPaint,jt=Ze.unstable_now,dw=Ze.unstable_getCurrentPriorityLevel,N1=Ze.unstable_ImmediatePriority,D1=Ze.unstable_UserBlockingPriority,Yu=Ze.unstable_NormalPriority,mw=Ze.unstable_LowPriority,O1=Ze.unstable_IdlePriority,pw=Ze.log,gw=Ze.unstable_setDisableYieldValue,hl=null,zt=null;function Ni(t){if(typeof pw=="function"&&gw(t),zt&&typeof zt.setStrictMode=="function")try{zt.setStrictMode(hl,t)}catch{}}var Bt=Math.clz32?Math.clz32:vw,yw=Math.log,_w=Math.LN2;function vw(t){return t>>>=0,t===0?32:31-(yw(t)/_w|0)|0}var $l=256,Xl=262144,Jl=4194304;function Ir(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Qc(t,e,n){var i=t.pendingLanes;if(i===0)return 0;var r=0,s=t.suspendedLanes,a=t.pingedLanes;t=t.warmLanes;var l=i&134217727;return l!==0?(i=l&~s,i!==0?r=Ir(i):(a&=l,a!==0?r=Ir(a):n||(n=l&~t,n!==0&&(r=Ir(n))))):(l=i&~s,l!==0?r=Ir(l):a!==0?r=Ir(a):n||(n=i&~t,n!==0&&(r=Ir(n)))),r===0?0:e!==0&&e!==r&&!(e&s)&&(s=r&-r,n=e&-e,s>=n||s===32&&(n&4194048)!==0)?e:r}function fl(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function Ew(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function M1(){var t=Jl;return Jl<<=1,!(Jl&62914560)&&(Jl=4194304),t}function ff(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function dl(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Tw(t,e,n,i,r,s){var a=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var l=t.entanglements,u=t.expirationTimes,c=t.hiddenUpdates;for(n=a&~n;0<n;){var f=31-Bt(n),d=1<<f;l[f]=0,u[f]=-1;var p=c[f];if(p!==null)for(c[f]=null,f=0;f<p.length;f++){var y=p[f];y!==null&&(y.lane&=-536870913)}n&=~d}i!==0&&V1(t,i,0),s!==0&&r===0&&t.tag!==0&&(t.suspendedLanes|=s&~(a&~e))}function V1(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var i=31-Bt(e);t.entangledLanes|=e,t.entanglements[i]=t.entanglements[i]|1073741824|n&261930}function P1(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-Bt(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}function k1(t,e){var n=e&-e;return n=n&42?1:jm(n),n&(t.suspendedLanes|e)?0:n}function jm(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function zm(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function L1(){var t=he.p;return t!==0?t:(t=window.event,t===void 0?32:ab(t.type))}function qy(t,e){var n=he.p;try{return he.p=t,e()}finally{he.p=n}}var fr=Math.random().toString(36).slice(2),ot="__reactFiber$"+fr,Dt="__reactProps$"+fr,_a="__reactContainer$"+fr,dd="__reactEvents$"+fr,bw="__reactListeners$"+fr,Aw="__reactHandles$"+fr,Fy="__reactResources$"+fr,ml="__reactMarker$"+fr;function Bm(t){delete t[ot],delete t[Dt],delete t[dd],delete t[bw],delete t[Aw]}function Is(t){var e=t[ot];if(e)return e;for(var n=t.parentNode;n;){if(e=n[_a]||n[ot]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=J_(t);t!==null;){if(n=t[ot])return n;t=J_(t)}return e}t=n,n=t.parentNode}return null}function va(t){if(t=t[ot]||t[_a]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function ao(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(L(33))}function zs(t){var e=t[Fy];return e||(e=t[Fy]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function it(t){t[ml]=!0}var U1=new Set,j1={};function ns(t,e){ea(t,e),ea(t+"Capture",e)}function ea(t,e){for(j1[t]=e,t=0;t<e.length;t++)U1.add(e[t])}var Sw=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Gy={},Ky={};function ww(t){return fd.call(Ky,t)?!0:fd.call(Gy,t)?!1:Sw.test(t)?Ky[t]=!0:(Gy[t]=!0,!1)}function _u(t,e,n){if(ww(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var i=e.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function Wl(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function Pn(t,e,n,i){if(i===null)t.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+i)}}function Yt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function z1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function xw(t,e,n){var i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var r=i.get,s=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function md(t){if(!t._valueTracker){var e=z1(t)?"checked":"value";t._valueTracker=xw(t,e,""+t[e])}}function B1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=z1(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Qu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Rw=/[\n"\\]/g;function Xt(t){return t.replace(Rw,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function pd(t,e,n,i,r,s,a,l){t.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?t.type=a:t.removeAttribute("type"),e!=null?a==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Yt(e)):t.value!==""+Yt(e)&&(t.value=""+Yt(e)):a!=="submit"&&a!=="reset"||t.removeAttribute("value"),e!=null?gd(t,a,Yt(e)):n!=null?gd(t,a,Yt(n)):i!=null&&t.removeAttribute("value"),r==null&&s!=null&&(t.defaultChecked=!!s),r!=null&&(t.checked=r&&typeof r!="function"&&typeof r!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?t.name=""+Yt(l):t.removeAttribute("name")}function H1(t,e,n,i,r,s,a,l){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.type=s),e!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||e!=null)){md(t);return}n=n!=null?""+Yt(n):"",e=e!=null?""+Yt(e):n,l||e===t.value||(t.value=e),t.defaultValue=e}i=i??r,i=typeof i!="function"&&typeof i!="symbol"&&!!i,t.checked=l?t.checked:!!i,t.defaultChecked=!!i,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.name=a),md(t)}function gd(t,e,n){e==="number"&&Qu(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function Bs(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+Yt(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function q1(t,e,n){if(e!=null&&(e=""+Yt(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+Yt(n):""}function F1(t,e,n,i){if(e==null){if(i!=null){if(n!=null)throw Error(L(92));if(so(i)){if(1<i.length)throw Error(L(93));i=i[0]}n=i}n==null&&(n=""),e=n}n=Yt(e),t.defaultValue=n,i=t.textContent,i===n&&i!==""&&i!==null&&(t.value=i),md(t)}function ta(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Cw=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Yy(t,e,n){var i=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":i?t.setProperty(e,n):typeof n!="number"||n===0||Cw.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function G1(t,e,n){if(e!=null&&typeof e!="object")throw Error(L(62));if(t=t.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||e!=null&&e.hasOwnProperty(i)||(i.indexOf("--")===0?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="");for(var r in e)i=e[r],e.hasOwnProperty(r)&&n[r]!==i&&Yy(t,r,i)}else for(var s in e)e.hasOwnProperty(s)&&Yy(t,s,e[s])}function Hm(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Iw=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Nw=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function vu(t){return Nw.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Fn(){}var yd=null;function qm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ns=null,Hs=null;function Qy(t){var e=va(t);if(e&&(t=e.stateNode)){var n=t[Dt]||null;e:switch(t=e.stateNode,e.type){case"input":if(pd(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Xt(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=i[Dt]||null;if(!r)throw Error(L(90));pd(i,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(e=0;e<n.length;e++)i=n[e],i.form===t.form&&B1(i)}break e;case"textarea":q1(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&Bs(t,!!n.multiple,e,!1)}}}var df=!1;function K1(t,e,n){if(df)return t(e,n);df=!0;try{var i=t(e);return i}finally{if(df=!1,(Ns!==null||Hs!==null)&&(ah(),Ns&&(e=Ns,t=Hs,Hs=Ns=null,Qy(e),t)))for(e=0;e<t.length;e++)Qy(t[e])}}function Lo(t,e){var n=t.stateNode;if(n===null)return null;var i=n[Dt]||null;if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(L(231,e,typeof n));return n}var Jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_d=!1;if(Jn)try{var Ja={};Object.defineProperty(Ja,"passive",{get:function(){_d=!0}}),window.addEventListener("test",Ja,Ja),window.removeEventListener("test",Ja,Ja)}catch{_d=!1}var Di=null,Fm=null,Eu=null;function Y1(){if(Eu)return Eu;var t,e=Fm,n=e.length,i,r="value"in Di?Di.value:Di.textContent,s=r.length;for(t=0;t<n&&e[t]===r[t];t++);var a=n-t;for(i=1;i<=a&&e[n-i]===r[s-i];i++);return Eu=r.slice(t,1<i?1-i:void 0)}function Tu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Zl(){return!0}function $y(){return!1}function Ot(t){function e(n,i,r,s,a){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Zl:$y,this.isPropagationStopped=$y,this}return Ce(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Zl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Zl)},persist:function(){},isPersistent:Zl}),e}var is={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$c=Ot(is),pl=Ce({},is,{view:0,detail:0}),Dw=Ot(pl),mf,pf,Wa,Xc=Ce({},pl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Wa&&(Wa&&t.type==="mousemove"?(mf=t.screenX-Wa.screenX,pf=t.screenY-Wa.screenY):pf=mf=0,Wa=t),mf)},movementY:function(t){return"movementY"in t?t.movementY:pf}}),Xy=Ot(Xc),Ow=Ce({},Xc,{dataTransfer:0}),Mw=Ot(Ow),Vw=Ce({},pl,{relatedTarget:0}),gf=Ot(Vw),Pw=Ce({},is,{animationName:0,elapsedTime:0,pseudoElement:0}),kw=Ot(Pw),Lw=Ce({},is,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Uw=Ot(Lw),jw=Ce({},is,{data:0}),Jy=Ot(jw),zw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qw(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Hw[t])?!!e[t]:!1}function Gm(){return qw}var Fw=Ce({},pl,{key:function(t){if(t.key){var e=zw[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Tu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Bw[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gm,charCode:function(t){return t.type==="keypress"?Tu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Tu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Gw=Ot(Fw),Kw=Ce({},Xc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wy=Ot(Kw),Yw=Ce({},pl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gm}),Qw=Ot(Yw),$w=Ce({},is,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xw=Ot($w),Jw=Ce({},Xc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ww=Ot(Jw),Zw=Ce({},is,{newState:0,oldState:0}),ex=Ot(Zw),tx=[9,13,27,32],Km=Jn&&"CompositionEvent"in window,yo=null;Jn&&"documentMode"in document&&(yo=document.documentMode);var nx=Jn&&"TextEvent"in window&&!yo,Q1=Jn&&(!Km||yo&&8<yo&&11>=yo),Zy=" ",e_=!1;function $1(t,e){switch(t){case"keyup":return tx.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function X1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ds=!1;function ix(t,e){switch(t){case"compositionend":return X1(e);case"keypress":return e.which!==32?null:(e_=!0,Zy);case"textInput":return t=e.data,t===Zy&&e_?null:t;default:return null}}function rx(t,e){if(Ds)return t==="compositionend"||!Km&&$1(t,e)?(t=Y1(),Eu=Fm=Di=null,Ds=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Q1&&e.locale!=="ko"?null:e.data;default:return null}}var sx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function t_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!sx[t.type]:e==="textarea"}function J1(t,e,n,i){Ns?Hs?Hs.push(i):Hs=[i]:Ns=i,e=fc(e,"onChange"),0<e.length&&(n=new $c("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var _o=null,Uo=null;function ax(t){KT(t,0)}function Jc(t){var e=ao(t);if(B1(e))return t}function n_(t,e){if(t==="change")return e}var W1=!1;if(Jn){var yf;if(Jn){var _f="oninput"in document;if(!_f){var i_=document.createElement("div");i_.setAttribute("oninput","return;"),_f=typeof i_.oninput=="function"}yf=_f}else yf=!1;W1=yf&&(!document.documentMode||9<document.documentMode)}function r_(){_o&&(_o.detachEvent("onpropertychange",Z1),Uo=_o=null)}function Z1(t){if(t.propertyName==="value"&&Jc(Uo)){var e=[];J1(e,Uo,t,qm(t)),K1(ax,e)}}function ox(t,e,n){t==="focusin"?(r_(),_o=e,Uo=n,_o.attachEvent("onpropertychange",Z1)):t==="focusout"&&r_()}function lx(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Jc(Uo)}function ux(t,e){if(t==="click")return Jc(e)}function cx(t,e){if(t==="input"||t==="change")return Jc(e)}function hx(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var qt=typeof Object.is=="function"?Object.is:hx;function jo(t,e){if(qt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!fd.call(e,r)||!qt(t[r],e[r]))return!1}return!0}function s_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function a_(t,e){var n=s_(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=s_(n)}}function eE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?eE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function tE(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Qu(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Qu(t.document)}return e}function Ym(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var fx=Jn&&"documentMode"in document&&11>=document.documentMode,Os=null,vd=null,vo=null,Ed=!1;function o_(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ed||Os==null||Os!==Qu(i)||(i=Os,"selectionStart"in i&&Ym(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),vo&&jo(vo,i)||(vo=i,i=fc(vd,"onSelect"),0<i.length&&(e=new $c("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=Os)))}function Rr(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ms={animationend:Rr("Animation","AnimationEnd"),animationiteration:Rr("Animation","AnimationIteration"),animationstart:Rr("Animation","AnimationStart"),transitionrun:Rr("Transition","TransitionRun"),transitionstart:Rr("Transition","TransitionStart"),transitioncancel:Rr("Transition","TransitionCancel"),transitionend:Rr("Transition","TransitionEnd")},vf={},nE={};Jn&&(nE=document.createElement("div").style,"AnimationEvent"in window||(delete Ms.animationend.animation,delete Ms.animationiteration.animation,delete Ms.animationstart.animation),"TransitionEvent"in window||delete Ms.transitionend.transition);function rs(t){if(vf[t])return vf[t];if(!Ms[t])return t;var e=Ms[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in nE)return vf[t]=e[n];return t}var iE=rs("animationend"),rE=rs("animationiteration"),sE=rs("animationstart"),dx=rs("transitionrun"),mx=rs("transitionstart"),px=rs("transitioncancel"),aE=rs("transitionend"),oE=new Map,Td="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Td.push("scrollEnd");function mn(t,e){oE.set(t,e),ns(e,[t])}var $u=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Kt=[],Vs=0,Qm=0;function Wc(){for(var t=Vs,e=Qm=Vs=0;e<t;){var n=Kt[e];Kt[e++]=null;var i=Kt[e];Kt[e++]=null;var r=Kt[e];Kt[e++]=null;var s=Kt[e];if(Kt[e++]=null,i!==null&&r!==null){var a=i.pending;a===null?r.next=r:(r.next=a.next,a.next=r),i.pending=r}s!==0&&lE(n,r,s)}}function Zc(t,e,n,i){Kt[Vs++]=t,Kt[Vs++]=e,Kt[Vs++]=n,Kt[Vs++]=i,Qm|=i,t.lanes|=i,t=t.alternate,t!==null&&(t.lanes|=i)}function $m(t,e,n,i){return Zc(t,e,n,i),Xu(t)}function ss(t,e){return Zc(t,null,null,e),Xu(t)}function lE(t,e,n){t.lanes|=n;var i=t.alternate;i!==null&&(i.lanes|=n);for(var r=!1,s=t.return;s!==null;)s.childLanes|=n,i=s.alternate,i!==null&&(i.childLanes|=n),s.tag===22&&(t=s.stateNode,t===null||t._visibility&1||(r=!0)),t=s,s=s.return;return t.tag===3?(s=t.stateNode,r&&e!==null&&(r=31-Bt(n),t=s.hiddenUpdates,i=t[r],i===null?t[r]=[e]:i.push(e),e.lane=n|536870912),s):null}function Xu(t){if(50<Co)throw Co=0,Hd=null,Error(L(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Ps={};function gx(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kt(t,e,n,i){return new gx(t,e,n,i)}function Xm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Qn(t,e){var n=t.alternate;return n===null?(n=kt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function uE(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function bu(t,e,n,i,r,s){var a=0;if(i=t,typeof t=="function")Xm(t)&&(a=1);else if(typeof t=="string")a=TR(t,n,bn.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case ld:return t=kt(31,n,e,r),t.elementType=ld,t.lanes=s,t;case Rs:return Lr(n.children,r,s,e);case C1:a=8,r|=24;break;case sd:return t=kt(12,n,e,r|2),t.elementType=sd,t.lanes=s,t;case ad:return t=kt(13,n,e,r),t.elementType=ad,t.lanes=s,t;case od:return t=kt(19,n,e,r),t.elementType=od,t.lanes=s,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case qn:a=10;break e;case I1:a=9;break e;case km:a=11;break e;case Lm:a=14;break e;case vi:a=16,i=null;break e}a=29,n=Error(L(130,t===null?"null":typeof t,"")),i=null}return e=kt(a,n,e,r),e.elementType=t,e.type=i,e.lanes=s,e}function Lr(t,e,n,i){return t=kt(7,t,i,e),t.lanes=n,t}function Ef(t,e,n){return t=kt(6,t,null,e),t.lanes=n,t}function cE(t){var e=kt(18,null,null,0);return e.stateNode=t,e}function Tf(t,e,n){return e=kt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var l_=new WeakMap;function Jt(t,e){if(typeof t=="object"&&t!==null){var n=l_.get(t);return n!==void 0?n:(e={value:t,source:e,stack:Hy(e)},l_.set(t,e),e)}return{value:t,source:e,stack:Hy(e)}}var ks=[],Ls=0,Ju=null,zo=0,Qt=[],$t=0,er=null,_n=1,vn="";function Bn(t,e){ks[Ls++]=zo,ks[Ls++]=Ju,Ju=t,zo=e}function hE(t,e,n){Qt[$t++]=_n,Qt[$t++]=vn,Qt[$t++]=er,er=t;var i=_n;t=vn;var r=32-Bt(i)-1;i&=~(1<<r),n+=1;var s=32-Bt(e)+r;if(30<s){var a=r-r%5;s=(i&(1<<a)-1).toString(32),i>>=a,r-=a,_n=1<<32-Bt(e)+r|n<<r|i,vn=s+t}else _n=1<<s|n<<r|i,vn=t}function Jm(t){t.return!==null&&(Bn(t,1),hE(t,1,0))}function Wm(t){for(;t===Ju;)Ju=ks[--Ls],ks[Ls]=null,zo=ks[--Ls],ks[Ls]=null;for(;t===er;)er=Qt[--$t],Qt[$t]=null,vn=Qt[--$t],Qt[$t]=null,_n=Qt[--$t],Qt[$t]=null}function fE(t,e){Qt[$t++]=_n,Qt[$t++]=vn,Qt[$t++]=er,_n=e.id,vn=e.overflow,er=t}var lt=null,we=null,le=!1,ji=null,Wt=!1,bd=Error(L(519));function tr(t){var e=Error(L(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Bo(Jt(e,t)),bd}function u_(t){var e=t.stateNode,n=t.type,i=t.memoizedProps;switch(e[ot]=t,e[Dt]=i,n){case"dialog":ne("cancel",e),ne("close",e);break;case"iframe":case"object":case"embed":ne("load",e);break;case"video":case"audio":for(n=0;n<Go.length;n++)ne(Go[n],e);break;case"source":ne("error",e);break;case"img":case"image":case"link":ne("error",e),ne("load",e);break;case"details":ne("toggle",e);break;case"input":ne("invalid",e),H1(e,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":ne("invalid",e);break;case"textarea":ne("invalid",e),F1(e,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||i.suppressHydrationWarning===!0||QT(e.textContent,n)?(i.popover!=null&&(ne("beforetoggle",e),ne("toggle",e)),i.onScroll!=null&&ne("scroll",e),i.onScrollEnd!=null&&ne("scrollend",e),i.onClick!=null&&(e.onclick=Fn),e=!0):e=!1,e||tr(t,!0)}function c_(t){for(lt=t.return;lt;)switch(lt.tag){case 5:case 31:case 13:Wt=!1;return;case 27:case 3:Wt=!0;return;default:lt=lt.return}}function ys(t){if(t!==lt)return!1;if(!le)return c_(t),le=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||Yd(t.type,t.memoizedProps)),n=!n),n&&we&&tr(t),c_(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(L(317));we=X_(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(L(317));we=X_(t)}else e===27?(e=we,dr(t.type)?(t=Jd,Jd=null,we=t):we=e):we=lt?nn(t.stateNode.nextSibling):null;return!0}function Fr(){we=lt=null,le=!1}function bf(){var t=ji;return t!==null&&(Rt===null?Rt=t:Rt.push.apply(Rt,t),ji=null),t}function Bo(t){ji===null?ji=[t]:ji.push(t)}var Ad=Dn(null),as=null,Gn=null;function Ti(t,e,n){be(Ad,e._currentValue),e._currentValue=n}function $n(t){t._currentValue=Ad.current,rt(Ad)}function Sd(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function wd(t,e,n,i){var r=t.child;for(r!==null&&(r.return=t);r!==null;){var s=r.dependencies;if(s!==null){var a=r.child;s=s.firstContext;e:for(;s!==null;){var l=s;s=r;for(var u=0;u<e.length;u++)if(l.context===e[u]){s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Sd(s.return,n,t),i||(a=null);break e}s=l.next}}else if(r.tag===18){if(a=r.return,a===null)throw Error(L(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),Sd(a,n,t),a=null}else a=r.child;if(a!==null)a.return=r;else for(a=r;a!==null;){if(a===t){a=null;break}if(r=a.sibling,r!==null){r.return=a.return,a=r;break}a=a.return}r=a}}function Ea(t,e,n,i){t=null;for(var r=e,s=!1;r!==null;){if(!s){if(r.flags&524288)s=!0;else if(r.flags&262144)break}if(r.tag===10){var a=r.alternate;if(a===null)throw Error(L(387));if(a=a.memoizedProps,a!==null){var l=r.type;qt(r.pendingProps.value,a.value)||(t!==null?t.push(l):t=[l])}}else if(r===Fu.current){if(a=r.alternate,a===null)throw Error(L(387));a.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(t!==null?t.push(Yo):t=[Yo])}r=r.return}t!==null&&wd(e,t,n,i),e.flags|=262144}function Wu(t){for(t=t.firstContext;t!==null;){if(!qt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Gr(t){as=t,Gn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ct(t){return dE(as,t)}function eu(t,e){return as===null&&Gr(t),dE(t,e)}function dE(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},Gn===null){if(t===null)throw Error(L(308));Gn=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Gn=Gn.next=e;return n}var yx=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,i){t.push(i)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},_x=Ze.unstable_scheduleCallback,vx=Ze.unstable_NormalPriority,qe={$$typeof:qn,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zm(){return{controller:new yx,data:new Map,refCount:0}}function gl(t){t.refCount--,t.refCount===0&&_x(vx,function(){t.controller.abort()})}var Eo=null,xd=0,na=0,qs=null;function Ex(t,e){if(Eo===null){var n=Eo=[];xd=0,na=Sp(),qs={status:"pending",value:void 0,then:function(i){n.push(i)}}}return xd++,e.then(h_,h_),e}function h_(){if(--xd===0&&Eo!==null){qs!==null&&(qs.status="fulfilled");var t=Eo;Eo=null,na=0,qs=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function Tx(t,e){var n=[],i={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return t.then(function(){i.status="fulfilled",i.value=e;for(var r=0;r<n.length;r++)(0,n[r])(e)},function(r){for(i.status="rejected",i.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),i}var f_=Q.S;Q.S=function(t,e){RT=jt(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&Ex(t,e),f_!==null&&f_(t,e)};var Ur=Dn(null);function ep(){var t=Ur.current;return t!==null?t:_e.pooledCache}function Au(t,e){e===null?be(Ur,Ur.current):be(Ur,e.pool)}function mE(){var t=ep();return t===null?null:{parent:qe._currentValue,pool:t}}var Ta=Error(L(460)),tp=Error(L(474)),eh=Error(L(542)),Zu={then:function(){}};function d_(t){return t=t.status,t==="fulfilled"||t==="rejected"}function pE(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(Fn,Fn),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,p_(t),t;default:if(typeof e.status=="string")e.then(Fn,Fn);else{if(t=_e,t!==null&&100<t.shellSuspendCounter)throw Error(L(482));t=e,t.status="pending",t.then(function(i){if(e.status==="pending"){var r=e;r.status="fulfilled",r.value=i}},function(i){if(e.status==="pending"){var r=e;r.status="rejected",r.reason=i}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,p_(t),t}throw jr=e,Ta}}function Nr(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(jr=n,Ta):n}}var jr=null;function m_(){if(jr===null)throw Error(L(459));var t=jr;return jr=null,t}function p_(t){if(t===Ta||t===eh)throw Error(L(483))}var Fs=null,Ho=0;function tu(t){var e=Ho;return Ho+=1,Fs===null&&(Fs=[]),pE(Fs,t,e)}function Za(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function nu(t,e){throw e.$$typeof===ow?Error(L(525)):(t=Object.prototype.toString.call(e),Error(L(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function gE(t){function e(A,E){if(t){var S=A.deletions;S===null?(A.deletions=[E],A.flags|=16):S.push(E)}}function n(A,E){if(!t)return null;for(;E!==null;)e(A,E),E=E.sibling;return null}function i(A){for(var E=new Map;A!==null;)A.key!==null?E.set(A.key,A):E.set(A.index,A),A=A.sibling;return E}function r(A,E){return A=Qn(A,E),A.index=0,A.sibling=null,A}function s(A,E,S){return A.index=S,t?(S=A.alternate,S!==null?(S=S.index,S<E?(A.flags|=67108866,E):S):(A.flags|=67108866,E)):(A.flags|=1048576,E)}function a(A){return t&&A.alternate===null&&(A.flags|=67108866),A}function l(A,E,S,I){return E===null||E.tag!==6?(E=Ef(S,A.mode,I),E.return=A,E):(E=r(E,S),E.return=A,E)}function u(A,E,S,I){var k=S.type;return k===Rs?f(A,E,S.props.children,I,S.key):E!==null&&(E.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===vi&&Nr(k)===E.type)?(E=r(E,S.props),Za(E,S),E.return=A,E):(E=bu(S.type,S.key,S.props,null,A.mode,I),Za(E,S),E.return=A,E)}function c(A,E,S,I){return E===null||E.tag!==4||E.stateNode.containerInfo!==S.containerInfo||E.stateNode.implementation!==S.implementation?(E=Tf(S,A.mode,I),E.return=A,E):(E=r(E,S.children||[]),E.return=A,E)}function f(A,E,S,I,k){return E===null||E.tag!==7?(E=Lr(S,A.mode,I,k),E.return=A,E):(E=r(E,S),E.return=A,E)}function d(A,E,S){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return E=Ef(""+E,A.mode,S),E.return=A,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Ql:return S=bu(E.type,E.key,E.props,null,A.mode,S),Za(S,E),S.return=A,S;case ro:return E=Tf(E,A.mode,S),E.return=A,E;case vi:return E=Nr(E),d(A,E,S)}if(so(E)||Xa(E))return E=Lr(E,A.mode,S,null),E.return=A,E;if(typeof E.then=="function")return d(A,tu(E),S);if(E.$$typeof===qn)return d(A,eu(A,E),S);nu(A,E)}return null}function p(A,E,S,I){var k=E!==null?E.key:null;if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return k!==null?null:l(A,E,""+S,I);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Ql:return S.key===k?u(A,E,S,I):null;case ro:return S.key===k?c(A,E,S,I):null;case vi:return S=Nr(S),p(A,E,S,I)}if(so(S)||Xa(S))return k!==null?null:f(A,E,S,I,null);if(typeof S.then=="function")return p(A,E,tu(S),I);if(S.$$typeof===qn)return p(A,E,eu(A,S),I);nu(A,S)}return null}function y(A,E,S,I,k){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return A=A.get(S)||null,l(E,A,""+I,k);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Ql:return A=A.get(I.key===null?S:I.key)||null,u(E,A,I,k);case ro:return A=A.get(I.key===null?S:I.key)||null,c(E,A,I,k);case vi:return I=Nr(I),y(A,E,S,I,k)}if(so(I)||Xa(I))return A=A.get(S)||null,f(E,A,I,k,null);if(typeof I.then=="function")return y(A,E,S,tu(I),k);if(I.$$typeof===qn)return y(A,E,S,eu(E,I),k);nu(E,I)}return null}function C(A,E,S,I){for(var k=null,H=null,T=E,v=E=0,b=null;T!==null&&v<S.length;v++){T.index>v?(b=T,T=null):b=T.sibling;var x=p(A,T,S[v],I);if(x===null){T===null&&(T=b);break}t&&T&&x.alternate===null&&e(A,T),E=s(x,E,v),H===null?k=x:H.sibling=x,H=x,T=b}if(v===S.length)return n(A,T),le&&Bn(A,v),k;if(T===null){for(;v<S.length;v++)T=d(A,S[v],I),T!==null&&(E=s(T,E,v),H===null?k=T:H.sibling=T,H=T);return le&&Bn(A,v),k}for(T=i(T);v<S.length;v++)b=y(T,A,v,S[v],I),b!==null&&(t&&b.alternate!==null&&T.delete(b.key===null?v:b.key),E=s(b,E,v),H===null?k=b:H.sibling=b,H=b);return t&&T.forEach(function(R){return e(A,R)}),le&&Bn(A,v),k}function M(A,E,S,I){if(S==null)throw Error(L(151));for(var k=null,H=null,T=E,v=E=0,b=null,x=S.next();T!==null&&!x.done;v++,x=S.next()){T.index>v?(b=T,T=null):b=T.sibling;var R=p(A,T,x.value,I);if(R===null){T===null&&(T=b);break}t&&T&&R.alternate===null&&e(A,T),E=s(R,E,v),H===null?k=R:H.sibling=R,H=R,T=b}if(x.done)return n(A,T),le&&Bn(A,v),k;if(T===null){for(;!x.done;v++,x=S.next())x=d(A,x.value,I),x!==null&&(E=s(x,E,v),H===null?k=x:H.sibling=x,H=x);return le&&Bn(A,v),k}for(T=i(T);!x.done;v++,x=S.next())x=y(T,A,v,x.value,I),x!==null&&(t&&x.alternate!==null&&T.delete(x.key===null?v:x.key),E=s(x,E,v),H===null?k=x:H.sibling=x,H=x);return t&&T.forEach(function(N){return e(A,N)}),le&&Bn(A,v),k}function D(A,E,S,I){if(typeof S=="object"&&S!==null&&S.type===Rs&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Ql:e:{for(var k=S.key;E!==null;){if(E.key===k){if(k=S.type,k===Rs){if(E.tag===7){n(A,E.sibling),I=r(E,S.props.children),I.return=A,A=I;break e}}else if(E.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===vi&&Nr(k)===E.type){n(A,E.sibling),I=r(E,S.props),Za(I,S),I.return=A,A=I;break e}n(A,E);break}else e(A,E);E=E.sibling}S.type===Rs?(I=Lr(S.props.children,A.mode,I,S.key),I.return=A,A=I):(I=bu(S.type,S.key,S.props,null,A.mode,I),Za(I,S),I.return=A,A=I)}return a(A);case ro:e:{for(k=S.key;E!==null;){if(E.key===k)if(E.tag===4&&E.stateNode.containerInfo===S.containerInfo&&E.stateNode.implementation===S.implementation){n(A,E.sibling),I=r(E,S.children||[]),I.return=A,A=I;break e}else{n(A,E);break}else e(A,E);E=E.sibling}I=Tf(S,A.mode,I),I.return=A,A=I}return a(A);case vi:return S=Nr(S),D(A,E,S,I)}if(so(S))return C(A,E,S,I);if(Xa(S)){if(k=Xa(S),typeof k!="function")throw Error(L(150));return S=k.call(S),M(A,E,S,I)}if(typeof S.then=="function")return D(A,E,tu(S),I);if(S.$$typeof===qn)return D(A,E,eu(A,S),I);nu(A,S)}return typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint"?(S=""+S,E!==null&&E.tag===6?(n(A,E.sibling),I=r(E,S),I.return=A,A=I):(n(A,E),I=Ef(S,A.mode,I),I.return=A,A=I),a(A)):n(A,E)}return function(A,E,S,I){try{Ho=0;var k=D(A,E,S,I);return Fs=null,k}catch(T){if(T===Ta||T===eh)throw T;var H=kt(29,T,null,A.mode);return H.lanes=I,H.return=A,H}finally{}}}var Kr=gE(!0),yE=gE(!1),Ei=!1;function np(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rd(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function zi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Bi(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,ce&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,e=Xu(t),lE(t,null,n),e}return Zc(t,i,e,n),Xu(t)}function To(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,P1(t,n)}}function Af(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?r=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?r=s=e:s=s.next=e}else r=s=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,callbacks:i.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var Cd=!1;function bo(){if(Cd){var t=qs;if(t!==null)throw t}}function Ao(t,e,n,i){Cd=!1;var r=t.updateQueue;Ei=!1;var s=r.firstBaseUpdate,a=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var u=l,c=u.next;u.next=null,a===null?s=c:a.next=c,a=u;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==a&&(l===null?f.firstBaseUpdate=c:l.next=c,f.lastBaseUpdate=u))}if(s!==null){var d=r.baseState;a=0,f=c=u=null,l=s;do{var p=l.lane&-536870913,y=p!==l.lane;if(y?(oe&p)===p:(i&p)===p){p!==0&&p===na&&(Cd=!0),f!==null&&(f=f.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var C=t,M=l;p=e;var D=n;switch(M.tag){case 1:if(C=M.payload,typeof C=="function"){d=C.call(D,d,p);break e}d=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=M.payload,p=typeof C=="function"?C.call(D,d,p):C,p==null)break e;d=Ce({},d,p);break e;case 2:Ei=!0}}p=l.callback,p!==null&&(t.flags|=64,y&&(t.flags|=8192),y=r.callbacks,y===null?r.callbacks=[p]:y.push(p))}else y={lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(c=f=y,u=d):f=f.next=y,a|=p;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;y=l,l=y.next,y.next=null,r.lastBaseUpdate=y,r.shared.pending=null}}while(!0);f===null&&(u=d),r.baseState=u,r.firstBaseUpdate=c,r.lastBaseUpdate=f,s===null&&(r.shared.lanes=0),ir|=a,t.lanes=a,t.memoizedState=d}}function _E(t,e){if(typeof t!="function")throw Error(L(191,t));t.call(e)}function vE(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)_E(n[t],e)}var ia=Dn(null),ec=Dn(0);function g_(t,e){t=ti,be(ec,t),be(ia,e),ti=t|e.baseLanes}function Id(){be(ec,ti),be(ia,ia.current)}function ip(){ti=ec.current,rt(ia),rt(ec)}var Ft=Dn(null),tn=null;function bi(t){var e=t.alternate;be(Pe,Pe.current&1),be(Ft,t),tn===null&&(e===null||ia.current!==null||e.memoizedState!==null)&&(tn=t)}function Nd(t){be(Pe,Pe.current),be(Ft,t),tn===null&&(tn=t)}function EE(t){t.tag===22?(be(Pe,Pe.current),be(Ft,t),tn===null&&(tn=t)):Ai()}function Ai(){be(Pe,Pe.current),be(Ft,Ft.current)}function Pt(t){rt(Ft),tn===t&&(tn=null),rt(Pe)}var Pe=Dn(0);function tc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||$d(n)||Xd(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Wn=0,Z=null,ge=null,Be=null,nc=!1,Gs=!1,Yr=!1,ic=0,qo=0,Ks=null,bx=0;function Oe(){throw Error(L(321))}function rp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!qt(t[n],e[n]))return!1;return!0}function sp(t,e,n,i,r,s){return Wn=s,Z=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Q.H=t===null||t.memoizedState===null?JE:gp,Yr=!1,s=n(i,r),Yr=!1,Gs&&(s=bE(e,n,i,r)),TE(t),s}function TE(t){Q.H=Fo;var e=ge!==null&&ge.next!==null;if(Wn=0,Be=ge=Z=null,nc=!1,qo=0,Ks=null,e)throw Error(L(300));t===null||Ge||(t=t.dependencies,t!==null&&Wu(t)&&(Ge=!0))}function bE(t,e,n,i){Z=t;var r=0;do{if(Gs&&(Ks=null),qo=0,Gs=!1,25<=r)throw Error(L(301));if(r+=1,Be=ge=null,t.updateQueue!=null){var s=t.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}Q.H=WE,s=e(n,i)}while(Gs);return s}function Ax(){var t=Q.H,e=t.useState()[0];return e=typeof e.then=="function"?yl(e):e,t=t.useState()[0],(ge!==null?ge.memoizedState:null)!==t&&(Z.flags|=1024),e}function ap(){var t=ic!==0;return ic=0,t}function op(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function lp(t){if(nc){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}nc=!1}Wn=0,Be=ge=Z=null,Gs=!1,qo=ic=0,Ks=null}function Tt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Be===null?Z.memoizedState=Be=t:Be=Be.next=t,Be}function Le(){if(ge===null){var t=Z.alternate;t=t!==null?t.memoizedState:null}else t=ge.next;var e=Be===null?Z.memoizedState:Be.next;if(e!==null)Be=e,ge=t;else{if(t===null)throw Z.alternate===null?Error(L(467)):Error(L(310));ge=t,t={memoizedState:ge.memoizedState,baseState:ge.baseState,baseQueue:ge.baseQueue,queue:ge.queue,next:null},Be===null?Z.memoizedState=Be=t:Be=Be.next=t}return Be}function th(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yl(t){var e=qo;return qo+=1,Ks===null&&(Ks=[]),t=pE(Ks,t,e),e=Z,(Be===null?e.memoizedState:Be.next)===null&&(e=e.alternate,Q.H=e===null||e.memoizedState===null?JE:gp),t}function nh(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return yl(t);if(t.$$typeof===qn)return ct(t)}throw Error(L(438,String(t)))}function up(t){var e=null,n=Z.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var i=Z.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(e={data:i.data.map(function(r){return r.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=th(),Z.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),i=0;i<t;i++)n[i]=lw;return e.index++,n}function Zn(t,e){return typeof e=="function"?e(t):e}function Su(t){var e=Le();return cp(e,ge,t)}function cp(t,e,n){var i=t.queue;if(i===null)throw Error(L(311));i.lastRenderedReducer=n;var r=t.baseQueue,s=i.pending;if(s!==null){if(r!==null){var a=r.next;r.next=s.next,s.next=a}e.baseQueue=r=s,i.pending=null}if(s=t.baseState,r===null)t.memoizedState=s;else{e=r.next;var l=a=null,u=null,c=e,f=!1;do{var d=c.lane&-536870913;if(d!==c.lane?(oe&d)===d:(Wn&d)===d){var p=c.revertLane;if(p===0)u!==null&&(u=u.next={lane:0,revertLane:0,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),d===na&&(f=!0);else if((Wn&p)===p){c=c.next,p===na&&(f=!0);continue}else d={lane:0,revertLane:c.revertLane,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},u===null?(l=u=d,a=s):u=u.next=d,Z.lanes|=p,ir|=p;d=c.action,Yr&&n(s,d),s=c.hasEagerState?c.eagerState:n(s,d)}else p={lane:d,revertLane:c.revertLane,gesture:c.gesture,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},u===null?(l=u=p,a=s):u=u.next=p,Z.lanes|=d,ir|=d;c=c.next}while(c!==null&&c!==e);if(u===null?a=s:u.next=l,!qt(s,t.memoizedState)&&(Ge=!0,f&&(n=qs,n!==null)))throw n;t.memoizedState=s,t.baseState=a,t.baseQueue=u,i.lastRenderedState=s}return r===null&&(i.lanes=0),[t.memoizedState,i.dispatch]}function Sf(t){var e=Le(),n=e.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,s=e.memoizedState;if(r!==null){n.pending=null;var a=r=r.next;do s=t(s,a.action),a=a.next;while(a!==r);qt(s,e.memoizedState)||(Ge=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,i]}function AE(t,e,n){var i=Z,r=Le(),s=le;if(s){if(n===void 0)throw Error(L(407));n=n()}else n=e();var a=!qt((ge||r).memoizedState,n);if(a&&(r.memoizedState=n,Ge=!0),r=r.queue,hp(xE.bind(null,i,r,t),[t]),r.getSnapshot!==e||a||Be!==null&&Be.memoizedState.tag&1){if(i.flags|=2048,ra(9,{destroy:void 0},wE.bind(null,i,r,n,e),null),_e===null)throw Error(L(349));s||Wn&127||SE(i,e,n)}return n}function SE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Z.updateQueue,e===null?(e=th(),Z.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function wE(t,e,n,i){e.value=n,e.getSnapshot=i,RE(e)&&CE(t)}function xE(t,e,n){return n(function(){RE(e)&&CE(t)})}function RE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!qt(t,n)}catch{return!0}}function CE(t){var e=ss(t,2);e!==null&&Nt(e,t,2)}function Dd(t){var e=Tt();if(typeof t=="function"){var n=t;if(t=n(),Yr){Ni(!0);try{n()}finally{Ni(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zn,lastRenderedState:t},e}function IE(t,e,n,i){return t.baseState=n,cp(t,ge,typeof i=="function"?i:Zn)}function Sx(t,e,n,i,r){if(rh(t))throw Error(L(485));if(t=e.action,t!==null){var s={payload:r,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){s.listeners.push(a)}};Q.T!==null?n(!0):s.isTransition=!1,i(s),n=e.pending,n===null?(s.next=e.pending=s,NE(e,s)):(s.next=n.next,e.pending=n.next=s)}}function NE(t,e){var n=e.action,i=e.payload,r=t.state;if(e.isTransition){var s=Q.T,a={};Q.T=a;try{var l=n(r,i),u=Q.S;u!==null&&u(a,l),y_(t,e,l)}catch(c){Od(t,e,c)}finally{s!==null&&a.types!==null&&(s.types=a.types),Q.T=s}}else try{s=n(r,i),y_(t,e,s)}catch(c){Od(t,e,c)}}function y_(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){__(t,e,i)},function(i){return Od(t,e,i)}):__(t,e,n)}function __(t,e,n){e.status="fulfilled",e.value=n,DE(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,NE(t,n)))}function Od(t,e,n){var i=t.pending;if(t.pending=null,i!==null){i=i.next;do e.status="rejected",e.reason=n,DE(e),e=e.next;while(e!==i)}t.action=null}function DE(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function OE(t,e){return e}function v_(t,e){if(le){var n=_e.formState;if(n!==null){e:{var i=Z;if(le){if(we){t:{for(var r=we,s=Wt;r.nodeType!==8;){if(!s){r=null;break t}if(r=nn(r.nextSibling),r===null){r=null;break t}}s=r.data,r=s==="F!"||s==="F"?r:null}if(r){we=nn(r.nextSibling),i=r.data==="F!";break e}}tr(i)}i=!1}i&&(e=n[0])}}return n=Tt(),n.memoizedState=n.baseState=e,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:OE,lastRenderedState:e},n.queue=i,n=QE.bind(null,Z,i),i.dispatch=n,i=Dd(!1),s=pp.bind(null,Z,!1,i.queue),i=Tt(),r={state:e,dispatch:null,action:t,pending:null},i.queue=r,n=Sx.bind(null,Z,r,s,n),r.dispatch=n,i.memoizedState=t,[e,n,!1]}function E_(t){var e=Le();return ME(e,ge,t)}function ME(t,e,n){if(e=cp(t,e,OE)[0],t=Su(Zn)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var i=yl(e)}catch(a){throw a===Ta?eh:a}else i=e;e=Le();var r=e.queue,s=r.dispatch;return n!==e.memoizedState&&(Z.flags|=2048,ra(9,{destroy:void 0},wx.bind(null,r,n),null)),[i,s,t]}function wx(t,e){t.action=e}function T_(t){var e=Le(),n=ge;if(n!==null)return ME(e,n,t);Le(),e=e.memoizedState,n=Le();var i=n.queue.dispatch;return n.memoizedState=t,[e,i,!1]}function ra(t,e,n,i){return t={tag:t,create:n,deps:i,inst:e,next:null},e=Z.updateQueue,e===null&&(e=th(),Z.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function VE(){return Le().memoizedState}function wu(t,e,n,i){var r=Tt();Z.flags|=t,r.memoizedState=ra(1|e,{destroy:void 0},n,i===void 0?null:i)}function ih(t,e,n,i){var r=Le();i=i===void 0?null:i;var s=r.memoizedState.inst;ge!==null&&i!==null&&rp(i,ge.memoizedState.deps)?r.memoizedState=ra(e,s,n,i):(Z.flags|=t,r.memoizedState=ra(1|e,s,n,i))}function b_(t,e){wu(8390656,8,t,e)}function hp(t,e){ih(2048,8,t,e)}function xx(t){Z.flags|=4;var e=Z.updateQueue;if(e===null)e=th(),Z.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function PE(t){var e=Le().memoizedState;return xx({ref:e,nextImpl:t}),function(){if(ce&2)throw Error(L(440));return e.impl.apply(void 0,arguments)}}function kE(t,e){return ih(4,2,t,e)}function LE(t,e){return ih(4,4,t,e)}function UE(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function jE(t,e,n){n=n!=null?n.concat([t]):null,ih(4,4,UE.bind(null,e,t),n)}function fp(){}function zE(t,e){var n=Le();e=e===void 0?null:e;var i=n.memoizedState;return e!==null&&rp(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function BE(t,e){var n=Le();e=e===void 0?null:e;var i=n.memoizedState;if(e!==null&&rp(e,i[1]))return i[0];if(i=t(),Yr){Ni(!0);try{t()}finally{Ni(!1)}}return n.memoizedState=[i,e],i}function dp(t,e,n){return n===void 0||Wn&1073741824&&!(oe&261930)?t.memoizedState=e:(t.memoizedState=n,t=IT(),Z.lanes|=t,ir|=t,n)}function HE(t,e,n,i){return qt(n,e)?n:ia.current!==null?(t=dp(t,n,i),qt(t,e)||(Ge=!0),t):!(Wn&42)||Wn&1073741824&&!(oe&261930)?(Ge=!0,t.memoizedState=n):(t=IT(),Z.lanes|=t,ir|=t,e)}function qE(t,e,n,i,r){var s=he.p;he.p=s!==0&&8>s?s:8;var a=Q.T,l={};Q.T=l,pp(t,!1,e,n);try{var u=r(),c=Q.S;if(c!==null&&c(l,u),u!==null&&typeof u=="object"&&typeof u.then=="function"){var f=Tx(u,i);So(t,e,f,Ht(t))}else So(t,e,i,Ht(t))}catch(d){So(t,e,{then:function(){},status:"rejected",reason:d},Ht())}finally{he.p=s,a!==null&&l.types!==null&&(a.types=l.types),Q.T=a}}function Rx(){}function Md(t,e,n,i){if(t.tag!==5)throw Error(L(476));var r=FE(t).queue;qE(t,r,e,kr,n===null?Rx:function(){return GE(t),n(i)})}function FE(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:kr,baseState:kr,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zn,lastRenderedState:kr},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zn,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function GE(t){var e=FE(t);e.next===null&&(e=t.alternate.memoizedState),So(t,e.next.queue,{},Ht())}function mp(){return ct(Yo)}function KE(){return Le().memoizedState}function YE(){return Le().memoizedState}function Cx(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=Ht();t=zi(n);var i=Bi(e,t,n);i!==null&&(Nt(i,e,n),To(i,e,n)),e={cache:Zm()},t.payload=e;return}e=e.return}}function Ix(t,e,n){var i=Ht();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},rh(t)?$E(e,n):(n=$m(t,e,n,i),n!==null&&(Nt(n,t,i),XE(n,e,i)))}function QE(t,e,n){var i=Ht();So(t,e,n,i)}function So(t,e,n,i){var r={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(rh(t))$E(e,r);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,l=s(a,n);if(r.hasEagerState=!0,r.eagerState=l,qt(l,a))return Zc(t,e,r,0),_e===null&&Wc(),!1}catch{}finally{}if(n=$m(t,e,r,i),n!==null)return Nt(n,t,i),XE(n,e,i),!0}return!1}function pp(t,e,n,i){if(i={lane:2,revertLane:Sp(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},rh(t)){if(e)throw Error(L(479))}else e=$m(t,n,i,2),e!==null&&Nt(e,t,2)}function rh(t){var e=t.alternate;return t===Z||e!==null&&e===Z}function $E(t,e){Gs=nc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function XE(t,e,n){if(n&4194048){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,P1(t,n)}}var Fo={readContext:ct,use:nh,useCallback:Oe,useContext:Oe,useEffect:Oe,useImperativeHandle:Oe,useLayoutEffect:Oe,useInsertionEffect:Oe,useMemo:Oe,useReducer:Oe,useRef:Oe,useState:Oe,useDebugValue:Oe,useDeferredValue:Oe,useTransition:Oe,useSyncExternalStore:Oe,useId:Oe,useHostTransitionStatus:Oe,useFormState:Oe,useActionState:Oe,useOptimistic:Oe,useMemoCache:Oe,useCacheRefresh:Oe};Fo.useEffectEvent=Oe;var JE={readContext:ct,use:nh,useCallback:function(t,e){return Tt().memoizedState=[t,e===void 0?null:e],t},useContext:ct,useEffect:b_,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,wu(4194308,4,UE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return wu(4194308,4,t,e)},useInsertionEffect:function(t,e){wu(4,2,t,e)},useMemo:function(t,e){var n=Tt();e=e===void 0?null:e;var i=t();if(Yr){Ni(!0);try{t()}finally{Ni(!1)}}return n.memoizedState=[i,e],i},useReducer:function(t,e,n){var i=Tt();if(n!==void 0){var r=n(e);if(Yr){Ni(!0);try{n(e)}finally{Ni(!1)}}}else r=e;return i.memoizedState=i.baseState=r,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},i.queue=t,t=t.dispatch=Ix.bind(null,Z,t),[i.memoizedState,t]},useRef:function(t){var e=Tt();return t={current:t},e.memoizedState=t},useState:function(t){t=Dd(t);var e=t.queue,n=QE.bind(null,Z,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:fp,useDeferredValue:function(t,e){var n=Tt();return dp(n,t,e)},useTransition:function(){var t=Dd(!1);return t=qE.bind(null,Z,t.queue,!0,!1),Tt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var i=Z,r=Tt();if(le){if(n===void 0)throw Error(L(407));n=n()}else{if(n=e(),_e===null)throw Error(L(349));oe&127||SE(i,e,n)}r.memoizedState=n;var s={value:n,getSnapshot:e};return r.queue=s,b_(xE.bind(null,i,s,t),[t]),i.flags|=2048,ra(9,{destroy:void 0},wE.bind(null,i,s,n,e),null),n},useId:function(){var t=Tt(),e=_e.identifierPrefix;if(le){var n=vn,i=_n;n=(i&~(1<<32-Bt(i)-1)).toString(32)+n,e="_"+e+"R_"+n,n=ic++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=bx++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:mp,useFormState:v_,useActionState:v_,useOptimistic:function(t){var e=Tt();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=pp.bind(null,Z,!0,n),n.dispatch=e,[t,e]},useMemoCache:up,useCacheRefresh:function(){return Tt().memoizedState=Cx.bind(null,Z)},useEffectEvent:function(t){var e=Tt(),n={impl:t};return e.memoizedState=n,function(){if(ce&2)throw Error(L(440));return n.impl.apply(void 0,arguments)}}},gp={readContext:ct,use:nh,useCallback:zE,useContext:ct,useEffect:hp,useImperativeHandle:jE,useInsertionEffect:kE,useLayoutEffect:LE,useMemo:BE,useReducer:Su,useRef:VE,useState:function(){return Su(Zn)},useDebugValue:fp,useDeferredValue:function(t,e){var n=Le();return HE(n,ge.memoizedState,t,e)},useTransition:function(){var t=Su(Zn)[0],e=Le().memoizedState;return[typeof t=="boolean"?t:yl(t),e]},useSyncExternalStore:AE,useId:KE,useHostTransitionStatus:mp,useFormState:E_,useActionState:E_,useOptimistic:function(t,e){var n=Le();return IE(n,ge,t,e)},useMemoCache:up,useCacheRefresh:YE};gp.useEffectEvent=PE;var WE={readContext:ct,use:nh,useCallback:zE,useContext:ct,useEffect:hp,useImperativeHandle:jE,useInsertionEffect:kE,useLayoutEffect:LE,useMemo:BE,useReducer:Sf,useRef:VE,useState:function(){return Sf(Zn)},useDebugValue:fp,useDeferredValue:function(t,e){var n=Le();return ge===null?dp(n,t,e):HE(n,ge.memoizedState,t,e)},useTransition:function(){var t=Sf(Zn)[0],e=Le().memoizedState;return[typeof t=="boolean"?t:yl(t),e]},useSyncExternalStore:AE,useId:KE,useHostTransitionStatus:mp,useFormState:T_,useActionState:T_,useOptimistic:function(t,e){var n=Le();return ge!==null?IE(n,ge,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:up,useCacheRefresh:YE};WE.useEffectEvent=PE;function wf(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Ce({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Vd={enqueueSetState:function(t,e,n){t=t._reactInternals;var i=Ht(),r=zi(i);r.payload=e,n!=null&&(r.callback=n),e=Bi(t,r,i),e!==null&&(Nt(e,t,i),To(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=Ht(),r=zi(i);r.tag=1,r.payload=e,n!=null&&(r.callback=n),e=Bi(t,r,i),e!==null&&(Nt(e,t,i),To(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ht(),i=zi(n);i.tag=2,e!=null&&(i.callback=e),e=Bi(t,i,n),e!==null&&(Nt(e,t,n),To(e,t,n))}};function A_(t,e,n,i,r,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,s,a):e.prototype&&e.prototype.isPureReactComponent?!jo(n,i)||!jo(r,s):!0}function S_(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Vd.enqueueReplaceState(e,e.state,null)}function Qr(t,e){var n=e;if("ref"in e){n={};for(var i in e)i!=="ref"&&(n[i]=e[i])}if(t=t.defaultProps){n===e&&(n=Ce({},n));for(var r in t)n[r]===void 0&&(n[r]=t[r])}return n}function ZE(t){$u(t)}function eT(t){console.error(t)}function tT(t){$u(t)}function rc(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(i){setTimeout(function(){throw i})}}function w_(t,e,n){try{var i=t.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Pd(t,e,n){return n=zi(n),n.tag=3,n.payload={element:null},n.callback=function(){rc(t,e)},n}function nT(t){return t=zi(t),t.tag=3,t}function iT(t,e,n,i){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var s=i.value;t.payload=function(){return r(s)},t.callback=function(){w_(e,n,i)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(t.callback=function(){w_(e,n,i),typeof r!="function"&&(Hi===null?Hi=new Set([this]):Hi.add(this));var l=i.stack;this.componentDidCatch(i.value,{componentStack:l!==null?l:""})})}function Nx(t,e,n,i,r){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(e=n.alternate,e!==null&&Ea(e,n,r,!0),n=Ft.current,n!==null){switch(n.tag){case 31:case 13:return tn===null?uc():n.alternate===null&&Me===0&&(Me=3),n.flags&=-257,n.flags|=65536,n.lanes=r,i===Zu?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([i]):e.add(i),kf(t,i,r)),!1;case 22:return n.flags|=65536,i===Zu?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([i]):n.add(i)),kf(t,i,r)),!1}throw Error(L(435,n.tag))}return kf(t,i,r),uc(),!1}if(le)return e=Ft.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=r,i!==bd&&(t=Error(L(422),{cause:i}),Bo(Jt(t,n)))):(i!==bd&&(e=Error(L(423),{cause:i}),Bo(Jt(e,n))),t=t.current.alternate,t.flags|=65536,r&=-r,t.lanes|=r,i=Jt(i,n),r=Pd(t.stateNode,i,r),Af(t,r),Me!==4&&(Me=2)),!1;var s=Error(L(520),{cause:i});if(s=Jt(s,n),Ro===null?Ro=[s]:Ro.push(s),Me!==4&&(Me=2),e===null)return!0;i=Jt(i,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=r&-r,n.lanes|=t,t=Pd(n.stateNode,i,t),Af(n,t),!1;case 1:if(e=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(Hi===null||!Hi.has(s))))return n.flags|=65536,r&=-r,n.lanes|=r,r=nT(r),iT(r,t,n,i),Af(n,r),!1}n=n.return}while(n!==null);return!1}var yp=Error(L(461)),Ge=!1;function st(t,e,n,i){e.child=t===null?yE(e,null,n,i):Kr(e,t.child,n,i)}function x_(t,e,n,i,r){n=n.render;var s=e.ref;if("ref"in i){var a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}else a=i;return Gr(e),i=sp(t,e,n,a,s,r),l=ap(),t!==null&&!Ge?(op(t,e,r),ei(t,e,r)):(le&&l&&Jm(e),e.flags|=1,st(t,e,i,r),e.child)}function R_(t,e,n,i,r){if(t===null){var s=n.type;return typeof s=="function"&&!Xm(s)&&s.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=s,rT(t,e,s,i,r)):(t=bu(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!_p(t,r)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:jo,n(a,i)&&t.ref===e.ref)return ei(t,e,r)}return e.flags|=1,t=Qn(s,i),t.ref=e.ref,t.return=e,e.child=t}function rT(t,e,n,i,r){if(t!==null){var s=t.memoizedProps;if(jo(s,i)&&t.ref===e.ref)if(Ge=!1,e.pendingProps=i=s,_p(t,r))t.flags&131072&&(Ge=!0);else return e.lanes=t.lanes,ei(t,e,r)}return kd(t,e,n,i,r)}function sT(t,e,n,i){var r=i.children,s=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if(e.flags&128){if(s=s!==null?s.baseLanes|n:n,t!==null){for(i=e.child=t.child,r=0;i!==null;)r=r|i.lanes|i.childLanes,i=i.sibling;i=r&~s}else i=0,e.child=null;return C_(t,e,s,n,i)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Au(e,s!==null?s.cachePool:null),s!==null?g_(e,s):Id(),EE(e);else return i=e.lanes=536870912,C_(t,e,s!==null?s.baseLanes|n:n,n,i)}else s!==null?(Au(e,s.cachePool),g_(e,s),Ai(),e.memoizedState=null):(t!==null&&Au(e,null),Id(),Ai());return st(t,e,r,n),e.child}function oo(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function C_(t,e,n,i,r){var s=ep();return s=s===null?null:{parent:qe._currentValue,pool:s},e.memoizedState={baseLanes:n,cachePool:s},t!==null&&Au(e,null),Id(),EE(e),t!==null&&Ea(t,e,i,!0),e.childLanes=r,null}function xu(t,e){return e=sc({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function I_(t,e,n){return Kr(e,t.child,null,n),t=xu(e,e.pendingProps),t.flags|=2,Pt(e),e.memoizedState=null,t}function Dx(t,e,n){var i=e.pendingProps,r=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(le){if(i.mode==="hidden")return t=xu(e,i),e.lanes=536870912,oo(null,t);if(Nd(e),(t=we)?(t=JT(t,Wt),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:er!==null?{id:_n,overflow:vn}:null,retryLane:536870912,hydrationErrors:null},n=cE(t),n.return=e,e.child=n,lt=e,we=null)):t=null,t===null)throw tr(e);return e.lanes=536870912,null}return xu(e,i)}var s=t.memoizedState;if(s!==null){var a=s.dehydrated;if(Nd(e),r)if(e.flags&256)e.flags&=-257,e=I_(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(L(558));else if(Ge||Ea(t,e,n,!1),r=(n&t.childLanes)!==0,Ge||r){if(i=_e,i!==null&&(a=k1(i,n),a!==0&&a!==s.retryLane))throw s.retryLane=a,ss(t,a),Nt(i,t,a),yp;uc(),e=I_(t,e,n)}else t=s.treeContext,we=nn(a.nextSibling),lt=e,le=!0,ji=null,Wt=!1,t!==null&&fE(e,t),e=xu(e,i),e.flags|=4096;return e}return t=Qn(t.child,{mode:i.mode,children:i.children}),t.ref=e.ref,e.child=t,t.return=e,t}function Ru(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(L(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function kd(t,e,n,i,r){return Gr(e),n=sp(t,e,n,i,void 0,r),i=ap(),t!==null&&!Ge?(op(t,e,r),ei(t,e,r)):(le&&i&&Jm(e),e.flags|=1,st(t,e,n,r),e.child)}function N_(t,e,n,i,r,s){return Gr(e),e.updateQueue=null,n=bE(e,i,n,r),TE(t),i=ap(),t!==null&&!Ge?(op(t,e,s),ei(t,e,s)):(le&&i&&Jm(e),e.flags|=1,st(t,e,n,s),e.child)}function D_(t,e,n,i,r){if(Gr(e),e.stateNode===null){var s=Ps,a=n.contextType;typeof a=="object"&&a!==null&&(s=ct(a)),s=new n(i,s),e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Vd,e.stateNode=s,s._reactInternals=e,s=e.stateNode,s.props=i,s.state=e.memoizedState,s.refs={},np(e),a=n.contextType,s.context=typeof a=="object"&&a!==null?ct(a):Ps,s.state=e.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(wf(e,n,a,i),s.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(a=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),a!==s.state&&Vd.enqueueReplaceState(s,s.state,null),Ao(e,i,s,r),bo(),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308),i=!0}else if(t===null){s=e.stateNode;var l=e.memoizedProps,u=Qr(n,l);s.props=u;var c=s.context,f=n.contextType;a=Ps,typeof f=="object"&&f!==null&&(a=ct(f));var d=n.getDerivedStateFromProps;f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function",l=e.pendingProps!==l,f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l||c!==a)&&S_(e,s,i,a),Ei=!1;var p=e.memoizedState;s.state=p,Ao(e,i,s,r),bo(),c=e.memoizedState,l||p!==c||Ei?(typeof d=="function"&&(wf(e,n,d,i),c=e.memoizedState),(u=Ei||A_(e,n,u,i,p,c,a))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=c),s.props=i,s.state=c,s.context=a,i=u):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{s=e.stateNode,Rd(t,e),a=e.memoizedProps,f=Qr(n,a),s.props=f,d=e.pendingProps,p=s.context,c=n.contextType,u=Ps,typeof c=="object"&&c!==null&&(u=ct(c)),l=n.getDerivedStateFromProps,(c=typeof l=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||p!==u)&&S_(e,s,i,u),Ei=!1,p=e.memoizedState,s.state=p,Ao(e,i,s,r),bo();var y=e.memoizedState;a!==d||p!==y||Ei||t!==null&&t.dependencies!==null&&Wu(t.dependencies)?(typeof l=="function"&&(wf(e,n,l,i),y=e.memoizedState),(f=Ei||A_(e,n,f,i,p,y,u)||t!==null&&t.dependencies!==null&&Wu(t.dependencies))?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(i,y,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(i,y,u)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=y),s.props=i,s.state=y,s.context=u,i=f):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),i=!1)}return s=i,Ru(t,e),i=(e.flags&128)!==0,s||i?(s=e.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:s.render(),e.flags|=1,t!==null&&i?(e.child=Kr(e,t.child,null,r),e.child=Kr(e,null,n,r)):st(t,e,n,r),e.memoizedState=s.state,t=e.child):t=ei(t,e,r),t}function O_(t,e,n,i){return Fr(),e.flags|=256,st(t,e,n,i),e.child}var xf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Rf(t){return{baseLanes:t,cachePool:mE()}}function Cf(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=Lt),t}function aT(t,e,n){var i=e.pendingProps,r=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(Pe.current&2)!==0),a&&(r=!0,e.flags&=-129),a=(e.flags&32)!==0,e.flags&=-33,t===null){if(le){if(r?bi(e):Ai(),(t=we)?(t=JT(t,Wt),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:er!==null?{id:_n,overflow:vn}:null,retryLane:536870912,hydrationErrors:null},n=cE(t),n.return=e,e.child=n,lt=e,we=null)):t=null,t===null)throw tr(e);return Xd(t)?e.lanes=32:e.lanes=536870912,null}var l=i.children;return i=i.fallback,r?(Ai(),r=e.mode,l=sc({mode:"hidden",children:l},r),i=Lr(i,r,n,null),l.return=e,i.return=e,l.sibling=i,e.child=l,i=e.child,i.memoizedState=Rf(n),i.childLanes=Cf(t,a,n),e.memoizedState=xf,oo(null,i)):(bi(e),Ld(e,l))}var u=t.memoizedState;if(u!==null&&(l=u.dehydrated,l!==null)){if(s)e.flags&256?(bi(e),e.flags&=-257,e=If(t,e,n)):e.memoizedState!==null?(Ai(),e.child=t.child,e.flags|=128,e=null):(Ai(),l=i.fallback,r=e.mode,i=sc({mode:"visible",children:i.children},r),l=Lr(l,r,n,null),l.flags|=2,i.return=e,l.return=e,i.sibling=l,e.child=i,Kr(e,t.child,null,n),i=e.child,i.memoizedState=Rf(n),i.childLanes=Cf(t,a,n),e.memoizedState=xf,e=oo(null,i));else if(bi(e),Xd(l)){if(a=l.nextSibling&&l.nextSibling.dataset,a)var c=a.dgst;a=c,i=Error(L(419)),i.stack="",i.digest=a,Bo({value:i,source:null,stack:null}),e=If(t,e,n)}else if(Ge||Ea(t,e,n,!1),a=(n&t.childLanes)!==0,Ge||a){if(a=_e,a!==null&&(i=k1(a,n),i!==0&&i!==u.retryLane))throw u.retryLane=i,ss(t,i),Nt(a,t,i),yp;$d(l)||uc(),e=If(t,e,n)}else $d(l)?(e.flags|=192,e.child=t.child,e=null):(t=u.treeContext,we=nn(l.nextSibling),lt=e,le=!0,ji=null,Wt=!1,t!==null&&fE(e,t),e=Ld(e,i.children),e.flags|=4096);return e}return r?(Ai(),l=i.fallback,r=e.mode,u=t.child,c=u.sibling,i=Qn(u,{mode:"hidden",children:i.children}),i.subtreeFlags=u.subtreeFlags&65011712,c!==null?l=Qn(c,l):(l=Lr(l,r,n,null),l.flags|=2),l.return=e,i.return=e,i.sibling=l,e.child=i,oo(null,i),i=e.child,l=t.child.memoizedState,l===null?l=Rf(n):(r=l.cachePool,r!==null?(u=qe._currentValue,r=r.parent!==u?{parent:u,pool:u}:r):r=mE(),l={baseLanes:l.baseLanes|n,cachePool:r}),i.memoizedState=l,i.childLanes=Cf(t,a,n),e.memoizedState=xf,oo(t.child,i)):(bi(e),n=t.child,t=n.sibling,n=Qn(n,{mode:"visible",children:i.children}),n.return=e,n.sibling=null,t!==null&&(a=e.deletions,a===null?(e.deletions=[t],e.flags|=16):a.push(t)),e.child=n,e.memoizedState=null,n)}function Ld(t,e){return e=sc({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function sc(t,e){return t=kt(22,t,null,e),t.lanes=0,t}function If(t,e,n){return Kr(e,t.child,null,n),t=Ld(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function M_(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),Sd(t.return,e,n)}function Nf(t,e,n,i,r,s){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r,treeForkCount:s}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=r,a.treeForkCount=s)}function oT(t,e,n){var i=e.pendingProps,r=i.revealOrder,s=i.tail;i=i.children;var a=Pe.current,l=(a&2)!==0;if(l?(a=a&1|2,e.flags|=128):a&=1,be(Pe,a),st(t,e,i,n),i=le?zo:0,!l&&t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&M_(t,n,e);else if(t.tag===19)M_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&tc(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),Nf(e,!1,r,n,s,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&tc(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}Nf(e,!0,n,null,s,i);break;case"together":Nf(e,!1,null,null,void 0,i);break;default:e.memoizedState=null}return e.child}function ei(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ir|=e.lanes,!(n&e.childLanes))if(t!==null){if(Ea(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(L(153));if(e.child!==null){for(t=e.child,n=Qn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Qn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function _p(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&Wu(t)))}function Ox(t,e,n){switch(e.tag){case 3:Gu(e,e.stateNode.containerInfo),Ti(e,qe,t.memoizedState.cache),Fr();break;case 27:case 5:hd(e);break;case 4:Gu(e,e.stateNode.containerInfo);break;case 10:Ti(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,Nd(e),null;break;case 13:var i=e.memoizedState;if(i!==null)return i.dehydrated!==null?(bi(e),e.flags|=128,null):n&e.child.childLanes?aT(t,e,n):(bi(e),t=ei(t,e,n),t!==null?t.sibling:null);bi(e);break;case 19:var r=(t.flags&128)!==0;if(i=(n&e.childLanes)!==0,i||(Ea(t,e,n,!1),i=(n&e.childLanes)!==0),r){if(i)return oT(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),be(Pe,Pe.current),i)break;return null;case 22:return e.lanes=0,sT(t,e,n,e.pendingProps);case 24:Ti(e,qe,t.memoizedState.cache)}return ei(t,e,n)}function lT(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)Ge=!0;else{if(!_p(t,n)&&!(e.flags&128))return Ge=!1,Ox(t,e,n);Ge=!!(t.flags&131072)}else Ge=!1,le&&e.flags&1048576&&hE(e,zo,e.index);switch(e.lanes=0,e.tag){case 16:e:{var i=e.pendingProps;if(t=Nr(e.elementType),e.type=t,typeof t=="function")Xm(t)?(i=Qr(t,i),e.tag=1,e=D_(null,e,t,i,n)):(e.tag=0,e=kd(null,e,t,i,n));else{if(t!=null){var r=t.$$typeof;if(r===km){e.tag=11,e=x_(null,e,t,i,n);break e}else if(r===Lm){e.tag=14,e=R_(null,e,t,i,n);break e}}throw e=ud(t)||t,Error(L(306,e,""))}}return e;case 0:return kd(t,e,e.type,e.pendingProps,n);case 1:return i=e.type,r=Qr(i,e.pendingProps),D_(t,e,i,r,n);case 3:e:{if(Gu(e,e.stateNode.containerInfo),t===null)throw Error(L(387));i=e.pendingProps;var s=e.memoizedState;r=s.element,Rd(t,e),Ao(e,i,null,n);var a=e.memoizedState;if(i=a.cache,Ti(e,qe,i),i!==s.cache&&wd(e,[qe],n,!0),bo(),i=a.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:a.cache},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){e=O_(t,e,i,n);break e}else if(i!==r){r=Jt(Error(L(424)),e),Bo(r),e=O_(t,e,i,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(we=nn(t.firstChild),lt=e,le=!0,ji=null,Wt=!0,n=yE(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Fr(),i===r){e=ei(t,e,n);break e}st(t,e,i,n)}e=e.child}return e;case 26:return Ru(t,e),t===null?(n=Z_(e.type,null,e.pendingProps,null))?e.memoizedState=n:le||(n=e.type,t=e.pendingProps,i=dc(Ui.current).createElement(n),i[ot]=e,i[Dt]=t,ht(i,n,t),it(i),e.stateNode=i):e.memoizedState=Z_(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return hd(e),t===null&&le&&(i=e.stateNode=WT(e.type,e.pendingProps,Ui.current),lt=e,Wt=!0,r=we,dr(e.type)?(Jd=r,we=nn(i.firstChild)):we=r),st(t,e,e.pendingProps.children,n),Ru(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&le&&((r=i=we)&&(i=lR(i,e.type,e.pendingProps,Wt),i!==null?(e.stateNode=i,lt=e,we=nn(i.firstChild),Wt=!1,r=!0):r=!1),r||tr(e)),hd(e),r=e.type,s=e.pendingProps,a=t!==null?t.memoizedProps:null,i=s.children,Yd(r,s)?i=null:a!==null&&Yd(r,a)&&(e.flags|=32),e.memoizedState!==null&&(r=sp(t,e,Ax,null,null,n),Yo._currentValue=r),Ru(t,e),st(t,e,i,n),e.child;case 6:return t===null&&le&&((t=n=we)&&(n=uR(n,e.pendingProps,Wt),n!==null?(e.stateNode=n,lt=e,we=null,t=!0):t=!1),t||tr(e)),null;case 13:return aT(t,e,n);case 4:return Gu(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Kr(e,null,i,n):st(t,e,i,n),e.child;case 11:return x_(t,e,e.type,e.pendingProps,n);case 7:return st(t,e,e.pendingProps,n),e.child;case 8:return st(t,e,e.pendingProps.children,n),e.child;case 12:return st(t,e,e.pendingProps.children,n),e.child;case 10:return i=e.pendingProps,Ti(e,e.type,i.value),st(t,e,i.children,n),e.child;case 9:return r=e.type._context,i=e.pendingProps.children,Gr(e),r=ct(r),i=i(r),e.flags|=1,st(t,e,i,n),e.child;case 14:return R_(t,e,e.type,e.pendingProps,n);case 15:return rT(t,e,e.type,e.pendingProps,n);case 19:return oT(t,e,n);case 31:return Dx(t,e,n);case 22:return sT(t,e,n,e.pendingProps);case 24:return Gr(e),i=ct(qe),t===null?(r=ep(),r===null&&(r=_e,s=Zm(),r.pooledCache=s,s.refCount++,s!==null&&(r.pooledCacheLanes|=n),r=s),e.memoizedState={parent:i,cache:r},np(e),Ti(e,qe,r)):(t.lanes&n&&(Rd(t,e),Ao(e,null,null,n),bo()),r=t.memoizedState,s=e.memoizedState,r.parent!==i?(r={parent:i,cache:i},e.memoizedState=r,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=r),Ti(e,qe,i)):(i=s.cache,Ti(e,qe,i),i!==r.cache&&wd(e,[qe],n,!0))),st(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(L(156,e.tag))}function kn(t){t.flags|=4}function Df(t,e,n,i,r){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(r&335544128)===r)if(t.stateNode.complete)t.flags|=8192;else if(OT())t.flags|=8192;else throw jr=Zu,tp}else t.flags&=-16777217}function V_(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!tb(e))if(OT())t.flags|=8192;else throw jr=Zu,tp}function iu(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?M1():536870912,t.lanes|=e,sa|=e)}function eo(t,e){if(!le)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Se(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&65011712,i|=r.flags&65011712,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function Mx(t,e,n){var i=e.pendingProps;switch(Wm(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Se(e),null;case 1:return Se(e),null;case 3:return n=e.stateNode,i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),$n(qe),Zs(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(ys(e)?kn(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,bf())),Se(e),null;case 26:var r=e.type,s=e.memoizedState;return t===null?(kn(e),s!==null?(Se(e),V_(e,s)):(Se(e),Df(e,r,null,i,n))):s?s!==t.memoizedState?(kn(e),Se(e),V_(e,s)):(Se(e),e.flags&=-16777217):(t=t.memoizedProps,t!==i&&kn(e),Se(e),Df(e,r,t,i,n)),null;case 27:if(Ku(e),n=Ui.current,r=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&kn(e);else{if(!i){if(e.stateNode===null)throw Error(L(166));return Se(e),null}t=bn.current,ys(e)?u_(e):(t=WT(r,i,n),e.stateNode=t,kn(e))}return Se(e),null;case 5:if(Ku(e),r=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&kn(e);else{if(!i){if(e.stateNode===null)throw Error(L(166));return Se(e),null}if(s=bn.current,ys(e))u_(e);else{var a=dc(Ui.current);switch(s){case 1:s=a.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:s=a.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":s=a.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":s=a.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":s=a.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof i.is=="string"?a.createElement("select",{is:i.is}):a.createElement("select"),i.multiple?s.multiple=!0:i.size&&(s.size=i.size);break;default:s=typeof i.is=="string"?a.createElement(r,{is:i.is}):a.createElement(r)}}s[ot]=e,s[Dt]=i;e:for(a=e.child;a!==null;){if(a.tag===5||a.tag===6)s.appendChild(a.stateNode);else if(a.tag!==4&&a.tag!==27&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break e;for(;a.sibling===null;){if(a.return===null||a.return===e)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}e.stateNode=s;e:switch(ht(s,r,i),r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&kn(e)}}return Se(e),Df(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==i&&kn(e);else{if(typeof i!="string"&&e.stateNode===null)throw Error(L(166));if(t=Ui.current,ys(e)){if(t=e.stateNode,n=e.memoizedProps,i=null,r=lt,r!==null)switch(r.tag){case 27:case 5:i=r.memoizedProps}t[ot]=e,t=!!(t.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||QT(t.nodeValue,n)),t||tr(e,!0)}else t=dc(t).createTextNode(i),t[ot]=e,e.stateNode=t}return Se(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(i=ys(e),n!==null){if(t===null){if(!i)throw Error(L(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(L(557));t[ot]=e}else Fr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Se(e),t=!1}else n=bf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(Pt(e),e):(Pt(e),null);if(e.flags&128)throw Error(L(558))}return Se(e),null;case 13:if(i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(r=ys(e),i!==null&&i.dehydrated!==null){if(t===null){if(!r)throw Error(L(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(L(317));r[ot]=e}else Fr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Se(e),r=!1}else r=bf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),r=!0;if(!r)return e.flags&256?(Pt(e),e):(Pt(e),null)}return Pt(e),e.flags&128?(e.lanes=n,e):(n=i!==null,t=t!==null&&t.memoizedState!==null,n&&(i=e.child,r=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(r=i.alternate.memoizedState.cachePool.pool),s=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==r&&(i.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),iu(e,e.updateQueue),Se(e),null);case 4:return Zs(),t===null&&wp(e.stateNode.containerInfo),Se(e),null;case 10:return $n(e.type),Se(e),null;case 19:if(rt(Pe),i=e.memoizedState,i===null)return Se(e),null;if(r=(e.flags&128)!==0,s=i.rendering,s===null)if(r)eo(i,!1);else{if(Me!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=tc(t),s!==null){for(e.flags|=128,eo(i,!1),t=s.updateQueue,e.updateQueue=t,iu(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)uE(n,t),n=n.sibling;return be(Pe,Pe.current&1|2),le&&Bn(e,i.treeForkCount),e.child}t=t.sibling}i.tail!==null&&jt()>oc&&(e.flags|=128,r=!0,eo(i,!1),e.lanes=4194304)}else{if(!r)if(t=tc(s),t!==null){if(e.flags|=128,r=!0,t=t.updateQueue,e.updateQueue=t,iu(e,t),eo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!le)return Se(e),null}else 2*jt()-i.renderingStartTime>oc&&n!==536870912&&(e.flags|=128,r=!0,eo(i,!1),e.lanes=4194304);i.isBackwards?(s.sibling=e.child,e.child=s):(t=i.last,t!==null?t.sibling=s:e.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=jt(),t.sibling=null,n=Pe.current,be(Pe,r?n&1|2:n&1),le&&Bn(e,i.treeForkCount),t):(Se(e),null);case 22:case 23:return Pt(e),ip(),i=e.memoizedState!==null,t!==null?t.memoizedState!==null!==i&&(e.flags|=8192):i&&(e.flags|=8192),i?n&536870912&&!(e.flags&128)&&(Se(e),e.subtreeFlags&6&&(e.flags|=8192)):Se(e),n=e.updateQueue,n!==null&&iu(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),i=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),i!==n&&(e.flags|=2048),t!==null&&rt(Ur),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),$n(qe),Se(e),null;case 25:return null;case 30:return null}throw Error(L(156,e.tag))}function Vx(t,e){switch(Wm(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return $n(qe),Zs(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Ku(e),null;case 31:if(e.memoizedState!==null){if(Pt(e),e.alternate===null)throw Error(L(340));Fr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(Pt(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(L(340));Fr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return rt(Pe),null;case 4:return Zs(),null;case 10:return $n(e.type),null;case 22:case 23:return Pt(e),ip(),t!==null&&rt(Ur),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return $n(qe),null;case 25:return null;default:return null}}function uT(t,e){switch(Wm(e),e.tag){case 3:$n(qe),Zs();break;case 26:case 27:case 5:Ku(e);break;case 4:Zs();break;case 31:e.memoizedState!==null&&Pt(e);break;case 13:Pt(e);break;case 19:rt(Pe);break;case 10:$n(e.type);break;case 22:case 23:Pt(e),ip(),t!==null&&rt(Ur);break;case 24:$n(qe)}}function _l(t,e){try{var n=e.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var r=i.next;n=r;do{if((n.tag&t)===t){i=void 0;var s=n.create,a=n.inst;i=s(),a.destroy=i}n=n.next}while(n!==r)}}catch(l){me(e,e.return,l)}}function nr(t,e,n){try{var i=e.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var s=r.next;i=s;do{if((i.tag&t)===t){var a=i.inst,l=a.destroy;if(l!==void 0){a.destroy=void 0,r=e;var u=n,c=l;try{c()}catch(f){me(r,u,f)}}}i=i.next}while(i!==s)}}catch(f){me(e,e.return,f)}}function cT(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{vE(e,n)}catch(i){me(t,t.return,i)}}}function hT(t,e,n){n.props=Qr(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(i){me(t,e,i)}}function wo(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var i=t.stateNode;break;case 30:i=t.stateNode;break;default:i=t.stateNode}typeof n=="function"?t.refCleanup=n(i):n.current=i}}catch(r){me(t,e,r)}}function En(t,e){var n=t.ref,i=t.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(r){me(t,e,r)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){me(t,e,r)}else n.current=null}function fT(t){var e=t.type,n=t.memoizedProps,i=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(r){me(t,t.return,r)}}function Of(t,e,n){try{var i=t.stateNode;nR(i,t.type,n,e),i[Dt]=e}catch(r){me(t,t.return,r)}}function dT(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&dr(t.type)||t.tag===4}function Mf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||dT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&dr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ud(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Fn));else if(i!==4&&(i===27&&dr(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(Ud(t,e,n),t=t.sibling;t!==null;)Ud(t,e,n),t=t.sibling}function ac(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(i===27&&dr(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(ac(t,e,n),t=t.sibling;t!==null;)ac(t,e,n),t=t.sibling}function mT(t){var e=t.stateNode,n=t.memoizedProps;try{for(var i=t.type,r=e.attributes;r.length;)e.removeAttributeNode(r[0]);ht(e,i,n),e[ot]=t,e[Dt]=n}catch(s){me(t,t.return,s)}}var Hn=!1,He=!1,Vf=!1,P_=typeof WeakSet=="function"?WeakSet:Set,nt=null;function Px(t,e){if(t=t.containerInfo,Gd=yc,t=tE(t),Ym(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,l=-1,u=-1,c=0,f=0,d=t,p=null;t:for(;;){for(var y;d!==n||r!==0&&d.nodeType!==3||(l=a+r),d!==s||i!==0&&d.nodeType!==3||(u=a+i),d.nodeType===3&&(a+=d.nodeValue.length),(y=d.firstChild)!==null;)p=d,d=y;for(;;){if(d===t)break t;if(p===n&&++c===r&&(l=a),p===s&&++f===i&&(u=a),(y=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=y}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Kd={focusedElem:t,selectionRange:n},yc=!1,nt=e;nt!==null;)if(e=nt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,nt=t;else for(;nt!==null;){switch(e=nt,s=e.alternate,t=e.flags,e.tag){case 0:if(t&4&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)r=t[n],r.ref.impl=r.nextImpl;break;case 11:case 15:break;case 1:if(t&1024&&s!==null){t=void 0,n=e,r=s.memoizedProps,s=s.memoizedState,i=n.stateNode;try{var C=Qr(n.type,r);t=i.getSnapshotBeforeUpdate(C,s),i.__reactInternalSnapshotBeforeUpdate=t}catch(M){me(n,n.return,M)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)Qd(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Qd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(L(163))}if(t=e.sibling,t!==null){t.return=e.return,nt=t;break}nt=e.return}}function pT(t,e,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Un(t,n),i&4&&_l(5,n);break;case 1:if(Un(t,n),i&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(a){me(n,n.return,a)}else{var r=Qr(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(r,e,t.__reactInternalSnapshotBeforeUpdate)}catch(a){me(n,n.return,a)}}i&64&&cT(n),i&512&&wo(n,n.return);break;case 3:if(Un(t,n),i&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{vE(t,e)}catch(a){me(n,n.return,a)}}break;case 27:e===null&&i&4&&mT(n);case 26:case 5:Un(t,n),e===null&&i&4&&fT(n),i&512&&wo(n,n.return);break;case 12:Un(t,n);break;case 31:Un(t,n),i&4&&_T(t,n);break;case 13:Un(t,n),i&4&&vT(t,n),i&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=Fx.bind(null,n),cR(t,n))));break;case 22:if(i=n.memoizedState!==null||Hn,!i){e=e!==null&&e.memoizedState!==null||He,r=Hn;var s=He;Hn=i,(He=e)&&!s?zn(t,n,(n.subtreeFlags&8772)!==0):Un(t,n),Hn=r,He=s}break;case 30:break;default:Un(t,n)}}function gT(t){var e=t.alternate;e!==null&&(t.alternate=null,gT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&Bm(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ie=null,xt=!1;function Ln(t,e,n){for(n=n.child;n!==null;)yT(t,e,n),n=n.sibling}function yT(t,e,n){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(hl,n)}catch{}switch(n.tag){case 26:He||En(n,e),Ln(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:He||En(n,e);var i=Ie,r=xt;dr(n.type)&&(Ie=n.stateNode,xt=!1),Ln(t,e,n),Io(n.stateNode),Ie=i,xt=r;break;case 5:He||En(n,e);case 6:if(i=Ie,r=xt,Ie=null,Ln(t,e,n),Ie=i,xt=r,Ie!==null)if(xt)try{(Ie.nodeType===9?Ie.body:Ie.nodeName==="HTML"?Ie.ownerDocument.body:Ie).removeChild(n.stateNode)}catch(s){me(n,e,s)}else try{Ie.removeChild(n.stateNode)}catch(s){me(n,e,s)}break;case 18:Ie!==null&&(xt?(t=Ie,Q_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),ua(t)):Q_(Ie,n.stateNode));break;case 4:i=Ie,r=xt,Ie=n.stateNode.containerInfo,xt=!0,Ln(t,e,n),Ie=i,xt=r;break;case 0:case 11:case 14:case 15:nr(2,n,e),He||nr(4,n,e),Ln(t,e,n);break;case 1:He||(En(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"&&hT(n,e,i)),Ln(t,e,n);break;case 21:Ln(t,e,n);break;case 22:He=(i=He)||n.memoizedState!==null,Ln(t,e,n),He=i;break;default:Ln(t,e,n)}}function _T(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ua(t)}catch(n){me(e,e.return,n)}}}function vT(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ua(t)}catch(n){me(e,e.return,n)}}function kx(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new P_),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new P_),e;default:throw Error(L(435,t.tag))}}function ru(t,e){var n=kx(t);e.forEach(function(i){if(!n.has(i)){n.add(i);var r=Gx.bind(null,t,i);i.then(r,r)}})}function St(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i],s=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 27:if(dr(l.type)){Ie=l.stateNode,xt=!1;break e}break;case 5:Ie=l.stateNode,xt=!1;break e;case 3:case 4:Ie=l.stateNode.containerInfo,xt=!0;break e}l=l.return}if(Ie===null)throw Error(L(160));yT(s,a,r),Ie=null,xt=!1,s=r.alternate,s!==null&&(s.return=null),r.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)ET(e,t),e=e.sibling}var on=null;function ET(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:St(e,t),wt(t),i&4&&(nr(3,t,t.return),_l(3,t),nr(5,t,t.return));break;case 1:St(e,t),wt(t),i&512&&(He||n===null||En(n,n.return)),i&64&&Hn&&(t=t.updateQueue,t!==null&&(i=t.callbacks,i!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var r=on;if(St(e,t),wt(t),i&512&&(He||n===null||En(n,n.return)),i&4){var s=n!==null?n.memoizedState:null;if(i=t.memoizedState,n===null)if(i===null)if(t.stateNode===null){e:{i=t.type,n=t.memoizedProps,r=r.ownerDocument||r;t:switch(i){case"title":s=r.getElementsByTagName("title")[0],(!s||s[ml]||s[ot]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=r.createElement(i),r.head.insertBefore(s,r.querySelector("head > title"))),ht(s,i,n),s[ot]=t,it(s),i=s;break e;case"link":var a=tv("link","href",r).get(i+(n.href||""));if(a){for(var l=0;l<a.length;l++)if(s=a[l],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(l,1);break t}}s=r.createElement(i),ht(s,i,n),r.head.appendChild(s);break;case"meta":if(a=tv("meta","content",r).get(i+(n.content||""))){for(l=0;l<a.length;l++)if(s=a[l],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(l,1);break t}}s=r.createElement(i),ht(s,i,n),r.head.appendChild(s);break;default:throw Error(L(468,i))}s[ot]=t,it(s),i=s}t.stateNode=i}else nv(r,t.type,t.stateNode);else t.stateNode=ev(r,i,t.memoizedProps);else s!==i?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,i===null?nv(r,t.type,t.stateNode):ev(r,i,t.memoizedProps)):i===null&&t.stateNode!==null&&Of(t,t.memoizedProps,n.memoizedProps)}break;case 27:St(e,t),wt(t),i&512&&(He||n===null||En(n,n.return)),n!==null&&i&4&&Of(t,t.memoizedProps,n.memoizedProps);break;case 5:if(St(e,t),wt(t),i&512&&(He||n===null||En(n,n.return)),t.flags&32){r=t.stateNode;try{ta(r,"")}catch(C){me(t,t.return,C)}}i&4&&t.stateNode!=null&&(r=t.memoizedProps,Of(t,r,n!==null?n.memoizedProps:r)),i&1024&&(Vf=!0);break;case 6:if(St(e,t),wt(t),i&4){if(t.stateNode===null)throw Error(L(162));i=t.memoizedProps,n=t.stateNode;try{n.nodeValue=i}catch(C){me(t,t.return,C)}}break;case 3:if(Nu=null,r=on,on=mc(e.containerInfo),St(e,t),on=r,wt(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{ua(e.containerInfo)}catch(C){me(t,t.return,C)}Vf&&(Vf=!1,TT(t));break;case 4:i=on,on=mc(t.stateNode.containerInfo),St(e,t),wt(t),on=i;break;case 12:St(e,t),wt(t);break;case 31:St(e,t),wt(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,ru(t,i)));break;case 13:St(e,t),wt(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(sh=jt()),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,ru(t,i)));break;case 22:r=t.memoizedState!==null;var u=n!==null&&n.memoizedState!==null,c=Hn,f=He;if(Hn=c||r,He=f||u,St(e,t),He=f,Hn=c,wt(t),i&8192)e:for(e=t.stateNode,e._visibility=r?e._visibility&-2:e._visibility|1,r&&(n===null||u||Hn||He||Dr(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){u=n=e;try{if(s=u.stateNode,r)a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{l=u.stateNode;var d=u.memoizedProps.style,p=d!=null&&d.hasOwnProperty("display")?d.display:null;l.style.display=p==null||typeof p=="boolean"?"":(""+p).trim()}}catch(C){me(u,u.return,C)}}}else if(e.tag===6){if(n===null){u=e;try{u.stateNode.nodeValue=r?"":u.memoizedProps}catch(C){me(u,u.return,C)}}}else if(e.tag===18){if(n===null){u=e;try{var y=u.stateNode;r?$_(y,!0):$_(u.stateNode,!1)}catch(C){me(u,u.return,C)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}i&4&&(i=t.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,ru(t,n))));break;case 19:St(e,t),wt(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,ru(t,i)));break;case 30:break;case 21:break;default:St(e,t),wt(t)}}function wt(t){var e=t.flags;if(e&2){try{for(var n,i=t.return;i!==null;){if(dT(i)){n=i;break}i=i.return}if(n==null)throw Error(L(160));switch(n.tag){case 27:var r=n.stateNode,s=Mf(t);ac(t,s,r);break;case 5:var a=n.stateNode;n.flags&32&&(ta(a,""),n.flags&=-33);var l=Mf(t);ac(t,l,a);break;case 3:case 4:var u=n.stateNode.containerInfo,c=Mf(t);Ud(t,c,u);break;default:throw Error(L(161))}}catch(f){me(t,t.return,f)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function TT(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;TT(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Un(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)pT(t,e.alternate,e),e=e.sibling}function Dr(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:nr(4,e,e.return),Dr(e);break;case 1:En(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&hT(e,e.return,n),Dr(e);break;case 27:Io(e.stateNode);case 26:case 5:En(e,e.return),Dr(e);break;case 22:e.memoizedState===null&&Dr(e);break;case 30:Dr(e);break;default:Dr(e)}t=t.sibling}}function zn(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var i=e.alternate,r=t,s=e,a=s.flags;switch(s.tag){case 0:case 11:case 15:zn(r,s,n),_l(4,s);break;case 1:if(zn(r,s,n),i=s,r=i.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(c){me(i,i.return,c)}if(i=s,r=i.updateQueue,r!==null){var l=i.stateNode;try{var u=r.shared.hiddenCallbacks;if(u!==null)for(r.shared.hiddenCallbacks=null,r=0;r<u.length;r++)_E(u[r],l)}catch(c){me(i,i.return,c)}}n&&a&64&&cT(s),wo(s,s.return);break;case 27:mT(s);case 26:case 5:zn(r,s,n),n&&i===null&&a&4&&fT(s),wo(s,s.return);break;case 12:zn(r,s,n);break;case 31:zn(r,s,n),n&&a&4&&_T(r,s);break;case 13:zn(r,s,n),n&&a&4&&vT(r,s);break;case 22:s.memoizedState===null&&zn(r,s,n),wo(s,s.return);break;case 30:break;default:zn(r,s,n)}e=e.sibling}}function vp(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&gl(n))}function Ep(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&gl(t))}function an(t,e,n,i){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)bT(t,e,n,i),e=e.sibling}function bT(t,e,n,i){var r=e.flags;switch(e.tag){case 0:case 11:case 15:an(t,e,n,i),r&2048&&_l(9,e);break;case 1:an(t,e,n,i);break;case 3:an(t,e,n,i),r&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&gl(t)));break;case 12:if(r&2048){an(t,e,n,i),t=e.stateNode;try{var s=e.memoizedProps,a=s.id,l=s.onPostCommit;typeof l=="function"&&l(a,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(u){me(e,e.return,u)}}else an(t,e,n,i);break;case 31:an(t,e,n,i);break;case 13:an(t,e,n,i);break;case 23:break;case 22:s=e.stateNode,a=e.alternate,e.memoizedState!==null?s._visibility&2?an(t,e,n,i):xo(t,e):s._visibility&2?an(t,e,n,i):(s._visibility|=2,Ts(t,e,n,i,(e.subtreeFlags&10256)!==0||!1)),r&2048&&vp(a,e);break;case 24:an(t,e,n,i),r&2048&&Ep(e.alternate,e);break;default:an(t,e,n,i)}}function Ts(t,e,n,i,r){for(r=r&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var s=t,a=e,l=n,u=i,c=a.flags;switch(a.tag){case 0:case 11:case 15:Ts(s,a,l,u,r),_l(8,a);break;case 23:break;case 22:var f=a.stateNode;a.memoizedState!==null?f._visibility&2?Ts(s,a,l,u,r):xo(s,a):(f._visibility|=2,Ts(s,a,l,u,r)),r&&c&2048&&vp(a.alternate,a);break;case 24:Ts(s,a,l,u,r),r&&c&2048&&Ep(a.alternate,a);break;default:Ts(s,a,l,u,r)}e=e.sibling}}function xo(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,i=e,r=i.flags;switch(i.tag){case 22:xo(n,i),r&2048&&vp(i.alternate,i);break;case 24:xo(n,i),r&2048&&Ep(i.alternate,i);break;default:xo(n,i)}e=e.sibling}}var lo=8192;function _s(t,e,n){if(t.subtreeFlags&lo)for(t=t.child;t!==null;)AT(t,e,n),t=t.sibling}function AT(t,e,n){switch(t.tag){case 26:_s(t,e,n),t.flags&lo&&t.memoizedState!==null&&bR(n,on,t.memoizedState,t.memoizedProps);break;case 5:_s(t,e,n);break;case 3:case 4:var i=on;on=mc(t.stateNode.containerInfo),_s(t,e,n),on=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=lo,lo=16777216,_s(t,e,n),lo=i):_s(t,e,n));break;default:_s(t,e,n)}}function ST(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function to(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];nt=i,xT(i,t)}ST(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)wT(t),t=t.sibling}function wT(t){switch(t.tag){case 0:case 11:case 15:to(t),t.flags&2048&&nr(9,t,t.return);break;case 3:to(t);break;case 12:to(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Cu(t)):to(t);break;default:to(t)}}function Cu(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];nt=i,xT(i,t)}ST(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:nr(8,e,e.return),Cu(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,Cu(e));break;default:Cu(e)}t=t.sibling}}function xT(t,e){for(;nt!==null;){var n=nt;switch(n.tag){case 0:case 11:case 15:nr(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:gl(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,nt=i;else e:for(n=t;nt!==null;){i=nt;var r=i.sibling,s=i.return;if(gT(i),i===n){nt=null;break e}if(r!==null){r.return=s,nt=r;break e}nt=s}}}var Lx={getCacheForType:function(t){var e=ct(qe),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return ct(qe).controller.signal}},Ux=typeof WeakMap=="function"?WeakMap:Map,ce=0,_e=null,ie=null,oe=0,de=0,Vt=null,Oi=!1,ba=!1,Tp=!1,ti=0,Me=0,ir=0,zr=0,bp=0,Lt=0,sa=0,Ro=null,Rt=null,jd=!1,sh=0,RT=0,oc=1/0,lc=null,Hi=null,Je=0,qi=null,aa=null,Xn=0,zd=0,Bd=null,CT=null,Co=0,Hd=null;function Ht(){return ce&2&&oe!==0?oe&-oe:Q.T!==null?Sp():L1()}function IT(){if(Lt===0)if(!(oe&536870912)||le){var t=Xl;Xl<<=1,!(Xl&3932160)&&(Xl=262144),Lt=t}else Lt=536870912;return t=Ft.current,t!==null&&(t.flags|=32),Lt}function Nt(t,e,n){(t===_e&&(de===2||de===9)||t.cancelPendingCommit!==null)&&(oa(t,0),Mi(t,oe,Lt,!1)),dl(t,n),(!(ce&2)||t!==_e)&&(t===_e&&(!(ce&2)&&(zr|=n),Me===4&&Mi(t,oe,Lt,!1)),On(t))}function NT(t,e,n){if(ce&6)throw Error(L(327));var i=!n&&(e&127)===0&&(e&t.expiredLanes)===0||fl(t,e),r=i?Bx(t,e):Pf(t,e,!0),s=i;do{if(r===0){ba&&!i&&Mi(t,e,0,!1);break}else{if(n=t.current.alternate,s&&!jx(n)){r=Pf(t,e,!1),s=!1;continue}if(r===2){if(s=e,t.errorRecoveryDisabledLanes&s)var a=0;else a=t.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){e=a;e:{var l=t;r=Ro;var u=l.current.memoizedState.isDehydrated;if(u&&(oa(l,a).flags|=256),a=Pf(l,a,!1),a!==2){if(Tp&&!u){l.errorRecoveryDisabledLanes|=s,zr|=s,r=4;break e}s=Rt,Rt=r,s!==null&&(Rt===null?Rt=s:Rt.push.apply(Rt,s))}r=a}if(s=!1,r!==2)continue}}if(r===1){oa(t,0),Mi(t,e,0,!0);break}e:{switch(i=t,s=r,s){case 0:case 1:throw Error(L(345));case 4:if((e&4194048)!==e)break;case 6:Mi(i,e,Lt,!Oi);break e;case 2:Rt=null;break;case 3:case 5:break;default:throw Error(L(329))}if((e&62914560)===e&&(r=sh+300-jt(),10<r)){if(Mi(i,e,Lt,!Oi),Qc(i,0,!0)!==0)break e;Xn=e,i.timeoutHandle=XT(k_.bind(null,i,n,Rt,lc,jd,e,Lt,zr,sa,Oi,s,"Throttled",-0,0),r);break e}k_(i,n,Rt,lc,jd,e,Lt,zr,sa,Oi,s,null,-0,0)}}break}while(!0);On(t)}function k_(t,e,n,i,r,s,a,l,u,c,f,d,p,y){if(t.timeoutHandle=-1,d=e.subtreeFlags,d&8192||(d&16785408)===16785408){d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Fn},AT(e,s,d);var C=(s&62914560)===s?sh-jt():(s&4194048)===s?RT-jt():0;if(C=AR(d,C),C!==null){Xn=s,t.cancelPendingCommit=C(U_.bind(null,t,e,s,n,i,r,a,l,u,f,d,null,p,y)),Mi(t,s,a,!c);return}}U_(t,e,s,n,i,r,a,l,u)}function jx(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!qt(s(),r))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Mi(t,e,n,i){e&=~bp,e&=~zr,t.suspendedLanes|=e,t.pingedLanes&=~e,i&&(t.warmLanes|=e),i=t.expirationTimes;for(var r=e;0<r;){var s=31-Bt(r),a=1<<s;i[s]=-1,r&=~a}n!==0&&V1(t,n,e)}function ah(){return ce&6?!0:(vl(0),!1)}function Ap(){if(ie!==null){if(de===0)var t=ie.return;else t=ie,Gn=as=null,lp(t),Fs=null,Ho=0,t=ie;for(;t!==null;)uT(t.alternate,t),t=t.return;ie=null}}function oa(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,sR(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),Xn=0,Ap(),_e=t,ie=n=Qn(t.current,null),oe=e,de=0,Vt=null,Oi=!1,ba=fl(t,e),Tp=!1,sa=Lt=bp=zr=ir=Me=0,Rt=Ro=null,jd=!1,e&8&&(e|=e&32);var i=t.entangledLanes;if(i!==0)for(t=t.entanglements,i&=e;0<i;){var r=31-Bt(i),s=1<<r;e|=t[r],i&=~s}return ti=e,Wc(),n}function DT(t,e){Z=null,Q.H=Fo,e===Ta||e===eh?(e=m_(),de=3):e===tp?(e=m_(),de=4):de=e===yp?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Vt=e,ie===null&&(Me=1,rc(t,Jt(e,t.current)))}function OT(){var t=Ft.current;return t===null?!0:(oe&4194048)===oe?tn===null:(oe&62914560)===oe||oe&536870912?t===tn:!1}function MT(){var t=Q.H;return Q.H=Fo,t===null?Fo:t}function VT(){var t=Q.A;return Q.A=Lx,t}function uc(){Me=4,Oi||(oe&4194048)!==oe&&Ft.current!==null||(ba=!0),!(ir&134217727)&&!(zr&134217727)||_e===null||Mi(_e,oe,Lt,!1)}function Pf(t,e,n){var i=ce;ce|=2;var r=MT(),s=VT();(_e!==t||oe!==e)&&(lc=null,oa(t,e)),e=!1;var a=Me;e:do try{if(de!==0&&ie!==null){var l=ie,u=Vt;switch(de){case 8:Ap(),a=6;break e;case 3:case 2:case 9:case 6:Ft.current===null&&(e=!0);var c=de;if(de=0,Vt=null,Us(t,l,u,c),n&&ba){a=0;break e}break;default:c=de,de=0,Vt=null,Us(t,l,u,c)}}zx(),a=Me;break}catch(f){DT(t,f)}while(!0);return e&&t.shellSuspendCounter++,Gn=as=null,ce=i,Q.H=r,Q.A=s,ie===null&&(_e=null,oe=0,Wc()),a}function zx(){for(;ie!==null;)PT(ie)}function Bx(t,e){var n=ce;ce|=2;var i=MT(),r=VT();_e!==t||oe!==e?(lc=null,oc=jt()+500,oa(t,e)):ba=fl(t,e);e:do try{if(de!==0&&ie!==null){e=ie;var s=Vt;t:switch(de){case 1:de=0,Vt=null,Us(t,e,s,1);break;case 2:case 9:if(d_(s)){de=0,Vt=null,L_(e);break}e=function(){de!==2&&de!==9||_e!==t||(de=7),On(t)},s.then(e,e);break e;case 3:de=7;break e;case 4:de=5;break e;case 7:d_(s)?(de=0,Vt=null,L_(e)):(de=0,Vt=null,Us(t,e,s,7));break;case 5:var a=null;switch(ie.tag){case 26:a=ie.memoizedState;case 5:case 27:var l=ie;if(a?tb(a):l.stateNode.complete){de=0,Vt=null;var u=l.sibling;if(u!==null)ie=u;else{var c=l.return;c!==null?(ie=c,oh(c)):ie=null}break t}}de=0,Vt=null,Us(t,e,s,5);break;case 6:de=0,Vt=null,Us(t,e,s,6);break;case 8:Ap(),Me=6;break e;default:throw Error(L(462))}}Hx();break}catch(f){DT(t,f)}while(!0);return Gn=as=null,Q.H=i,Q.A=r,ce=n,ie!==null?0:(_e=null,oe=0,Wc(),Me)}function Hx(){for(;ie!==null&&!hw();)PT(ie)}function PT(t){var e=lT(t.alternate,t,ti);t.memoizedProps=t.pendingProps,e===null?oh(t):ie=e}function L_(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=N_(n,e,e.pendingProps,e.type,void 0,oe);break;case 11:e=N_(n,e,e.pendingProps,e.type.render,e.ref,oe);break;case 5:lp(e);default:uT(n,e),e=ie=uE(e,ti),e=lT(n,e,ti)}t.memoizedProps=t.pendingProps,e===null?oh(t):ie=e}function Us(t,e,n,i){Gn=as=null,lp(e),Fs=null,Ho=0;var r=e.return;try{if(Nx(t,r,e,n,oe)){Me=1,rc(t,Jt(n,t.current)),ie=null;return}}catch(s){if(r!==null)throw ie=r,s;Me=1,rc(t,Jt(n,t.current)),ie=null;return}e.flags&32768?(le||i===1?t=!0:ba||oe&536870912?t=!1:(Oi=t=!0,(i===2||i===9||i===3||i===6)&&(i=Ft.current,i!==null&&i.tag===13&&(i.flags|=16384))),kT(e,t)):oh(e)}function oh(t){var e=t;do{if(e.flags&32768){kT(e,Oi);return}t=e.return;var n=Mx(e.alternate,e,ti);if(n!==null){ie=n;return}if(e=e.sibling,e!==null){ie=e;return}ie=e=t}while(e!==null);Me===0&&(Me=5)}function kT(t,e){do{var n=Vx(t.alternate,t);if(n!==null){n.flags&=32767,ie=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){ie=t;return}ie=t=n}while(t!==null);Me=6,ie=null}function U_(t,e,n,i,r,s,a,l,u){t.cancelPendingCommit=null;do lh();while(Je!==0);if(ce&6)throw Error(L(327));if(e!==null){if(e===t.current)throw Error(L(177));if(s=e.lanes|e.childLanes,s|=Qm,Tw(t,n,s,a,l,u),t===_e&&(ie=_e=null,oe=0),aa=e,qi=t,Xn=n,zd=s,Bd=r,CT=i,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,Kx(Yu,function(){return BT(),null})):(t.callbackNode=null,t.callbackPriority=0),i=(e.flags&13878)!==0,e.subtreeFlags&13878||i){i=Q.T,Q.T=null,r=he.p,he.p=2,a=ce,ce|=4;try{Px(t,e,n)}finally{ce=a,he.p=r,Q.T=i}}Je=1,LT(),UT(),jT()}}function LT(){if(Je===1){Je=0;var t=qi,e=aa,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=Q.T,Q.T=null;var i=he.p;he.p=2;var r=ce;ce|=4;try{ET(e,t);var s=Kd,a=tE(t.containerInfo),l=s.focusedElem,u=s.selectionRange;if(a!==l&&l&&l.ownerDocument&&eE(l.ownerDocument.documentElement,l)){if(u!==null&&Ym(l)){var c=u.start,f=u.end;if(f===void 0&&(f=c),"selectionStart"in l)l.selectionStart=c,l.selectionEnd=Math.min(f,l.value.length);else{var d=l.ownerDocument||document,p=d&&d.defaultView||window;if(p.getSelection){var y=p.getSelection(),C=l.textContent.length,M=Math.min(u.start,C),D=u.end===void 0?M:Math.min(u.end,C);!y.extend&&M>D&&(a=D,D=M,M=a);var A=a_(l,M),E=a_(l,D);if(A&&E&&(y.rangeCount!==1||y.anchorNode!==A.node||y.anchorOffset!==A.offset||y.focusNode!==E.node||y.focusOffset!==E.offset)){var S=d.createRange();S.setStart(A.node,A.offset),y.removeAllRanges(),M>D?(y.addRange(S),y.extend(E.node,E.offset)):(S.setEnd(E.node,E.offset),y.addRange(S))}}}}for(d=[],y=l;y=y.parentNode;)y.nodeType===1&&d.push({element:y,left:y.scrollLeft,top:y.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<d.length;l++){var I=d[l];I.element.scrollLeft=I.left,I.element.scrollTop=I.top}}yc=!!Gd,Kd=Gd=null}finally{ce=r,he.p=i,Q.T=n}}t.current=e,Je=2}}function UT(){if(Je===2){Je=0;var t=qi,e=aa,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=Q.T,Q.T=null;var i=he.p;he.p=2;var r=ce;ce|=4;try{pT(t,e.alternate,e)}finally{ce=r,he.p=i,Q.T=n}}Je=3}}function jT(){if(Je===4||Je===3){Je=0,fw();var t=qi,e=aa,n=Xn,i=CT;e.subtreeFlags&10256||e.flags&10256?Je=5:(Je=0,aa=qi=null,zT(t,t.pendingLanes));var r=t.pendingLanes;if(r===0&&(Hi=null),zm(n),e=e.stateNode,zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(hl,e,void 0,(e.current.flags&128)===128)}catch{}if(i!==null){e=Q.T,r=he.p,he.p=2,Q.T=null;try{for(var s=t.onRecoverableError,a=0;a<i.length;a++){var l=i[a];s(l.value,{componentStack:l.stack})}}finally{Q.T=e,he.p=r}}Xn&3&&lh(),On(t),r=t.pendingLanes,n&261930&&r&42?t===Hd?Co++:(Co=0,Hd=t):Co=0,vl(0)}}function zT(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,gl(e)))}function lh(){return LT(),UT(),jT(),BT()}function BT(){if(Je!==5)return!1;var t=qi,e=zd;zd=0;var n=zm(Xn),i=Q.T,r=he.p;try{he.p=32>n?32:n,Q.T=null,n=Bd,Bd=null;var s=qi,a=Xn;if(Je=0,aa=qi=null,Xn=0,ce&6)throw Error(L(331));var l=ce;if(ce|=4,wT(s.current),bT(s,s.current,a,n),ce=l,vl(0,!1),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(hl,s)}catch{}return!0}finally{he.p=r,Q.T=i,zT(t,e)}}function j_(t,e,n){e=Jt(n,e),e=Pd(t.stateNode,e,2),t=Bi(t,e,2),t!==null&&(dl(t,2),On(t))}function me(t,e,n){if(t.tag===3)j_(t,t,n);else for(;e!==null;){if(e.tag===3){j_(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Hi===null||!Hi.has(i))){t=Jt(n,t),n=nT(2),i=Bi(e,n,2),i!==null&&(iT(n,i,e,t),dl(i,2),On(i));break}}e=e.return}}function kf(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new Ux;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(Tp=!0,r.add(n),t=qx.bind(null,t,e,n),e.then(t,t))}function qx(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,_e===t&&(oe&n)===n&&(Me===4||Me===3&&(oe&62914560)===oe&&300>jt()-sh?!(ce&2)&&oa(t,0):bp|=n,sa===oe&&(sa=0)),On(t)}function HT(t,e){e===0&&(e=M1()),t=ss(t,e),t!==null&&(dl(t,e),On(t))}function Fx(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),HT(t,n)}function Gx(t,e){var n=0;switch(t.tag){case 31:case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;case 22:i=t.stateNode._retryCache;break;default:throw Error(L(314))}i!==null&&i.delete(e),HT(t,n)}function Kx(t,e){return Um(t,e)}var cc=null,bs=null,qd=!1,hc=!1,Lf=!1,Vi=0;function On(t){t!==bs&&t.next===null&&(bs===null?cc=bs=t:bs=bs.next=t),hc=!0,qd||(qd=!0,Qx())}function vl(t,e){if(!Lf&&hc){Lf=!0;do for(var n=!1,i=cc;i!==null;){if(t!==0){var r=i.pendingLanes;if(r===0)var s=0;else{var a=i.suspendedLanes,l=i.pingedLanes;s=(1<<31-Bt(42|t)+1)-1,s&=r&~(a&~l),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,z_(i,s))}else s=oe,s=Qc(i,i===_e?s:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(s&3)||fl(i,s)||(n=!0,z_(i,s));i=i.next}while(n);Lf=!1}}function Yx(){qT()}function qT(){hc=qd=!1;var t=0;Vi!==0&&rR()&&(t=Vi);for(var e=jt(),n=null,i=cc;i!==null;){var r=i.next,s=FT(i,e);s===0?(i.next=null,n===null?cc=r:n.next=r,r===null&&(bs=n)):(n=i,(t!==0||s&3)&&(hc=!0)),i=r}Je!==0&&Je!==5||vl(t),Vi!==0&&(Vi=0)}function FT(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes&-62914561;0<s;){var a=31-Bt(s),l=1<<a,u=r[a];u===-1?(!(l&n)||l&i)&&(r[a]=Ew(l,e)):u<=e&&(t.expiredLanes|=l),s&=~l}if(e=_e,n=oe,n=Qc(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i=t.callbackNode,n===0||t===e&&(de===2||de===9)||t.cancelPendingCommit!==null)return i!==null&&i!==null&&hf(i),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||fl(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(i!==null&&hf(i),zm(n)){case 2:case 8:n=D1;break;case 32:n=Yu;break;case 268435456:n=O1;break;default:n=Yu}return i=GT.bind(null,t),n=Um(n,i),t.callbackPriority=e,t.callbackNode=n,e}return i!==null&&i!==null&&hf(i),t.callbackPriority=2,t.callbackNode=null,2}function GT(t,e){if(Je!==0&&Je!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(lh()&&t.callbackNode!==n)return null;var i=oe;return i=Qc(t,t===_e?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i===0?null:(NT(t,i,e),FT(t,jt()),t.callbackNode!=null&&t.callbackNode===n?GT.bind(null,t):null)}function z_(t,e){if(lh())return null;NT(t,e,!0)}function Qx(){aR(function(){ce&6?Um(N1,Yx):qT()})}function Sp(){if(Vi===0){var t=na;t===0&&(t=$l,$l<<=1,!($l&261888)&&($l=256)),Vi=t}return Vi}function B_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:vu(""+t)}function H_(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function $x(t,e,n,i,r){if(e==="submit"&&n&&n.stateNode===r){var s=B_((r[Dt]||null).action),a=i.submitter;a&&(e=(e=a[Dt]||null)?B_(e.formAction):a.getAttribute("formAction"),e!==null&&(s=e,a=null));var l=new $c("action","action",null,i,r);t.push({event:l,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Vi!==0){var u=a?H_(r,a):new FormData(r);Md(n,{pending:!0,data:u,method:r.method,action:s},null,u)}}else typeof s=="function"&&(l.preventDefault(),u=a?H_(r,a):new FormData(r),Md(n,{pending:!0,data:u,method:r.method,action:s},s,u))},currentTarget:r}]})}}for(var Uf=0;Uf<Td.length;Uf++){var jf=Td[Uf],Xx=jf.toLowerCase(),Jx=jf[0].toUpperCase()+jf.slice(1);mn(Xx,"on"+Jx)}mn(iE,"onAnimationEnd");mn(rE,"onAnimationIteration");mn(sE,"onAnimationStart");mn("dblclick","onDoubleClick");mn("focusin","onFocus");mn("focusout","onBlur");mn(dx,"onTransitionRun");mn(mx,"onTransitionStart");mn(px,"onTransitionCancel");mn(aE,"onTransitionEnd");ea("onMouseEnter",["mouseout","mouseover"]);ea("onMouseLeave",["mouseout","mouseover"]);ea("onPointerEnter",["pointerout","pointerover"]);ea("onPointerLeave",["pointerout","pointerover"]);ns("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ns("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ns("onBeforeInput",["compositionend","keypress","textInput","paste"]);ns("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ns("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ns("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Go="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Wx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Go));function KT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var a=i.length-1;0<=a;a--){var l=i[a],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==s&&r.isPropagationStopped())break e;s=l,r.currentTarget=c;try{s(r)}catch(f){$u(f)}r.currentTarget=null,s=u}else for(a=0;a<i.length;a++){if(l=i[a],u=l.instance,c=l.currentTarget,l=l.listener,u!==s&&r.isPropagationStopped())break e;s=l,r.currentTarget=c;try{s(r)}catch(f){$u(f)}r.currentTarget=null,s=u}}}}function ne(t,e){var n=e[dd];n===void 0&&(n=e[dd]=new Set);var i=t+"__bubble";n.has(i)||(YT(e,t,2,!1),n.add(i))}function zf(t,e,n){var i=0;e&&(i|=4),YT(n,t,i,e)}var su="_reactListening"+Math.random().toString(36).slice(2);function wp(t){if(!t[su]){t[su]=!0,U1.forEach(function(n){n!=="selectionchange"&&(Wx.has(n)||zf(n,!1,t),zf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[su]||(e[su]=!0,zf("selectionchange",!1,e))}}function YT(t,e,n,i){switch(ab(e)){case 2:var r=xR;break;case 8:r=RR;break;default:r=Ip}n=r.bind(null,e,n,t),r=void 0,!_d||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function Bf(t,e,n,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var l=i.stateNode.containerInfo;if(l===r)break;if(a===4)for(a=i.return;a!==null;){var u=a.tag;if((u===3||u===4)&&a.stateNode.containerInfo===r)return;a=a.return}for(;l!==null;){if(a=Is(l),a===null)return;if(u=a.tag,u===5||u===6||u===26||u===27){i=s=a;continue e}l=l.parentNode}}i=i.return}K1(function(){var c=s,f=qm(n),d=[];e:{var p=oE.get(t);if(p!==void 0){var y=$c,C=t;switch(t){case"keypress":if(Tu(n)===0)break e;case"keydown":case"keyup":y=Gw;break;case"focusin":C="focus",y=gf;break;case"focusout":C="blur",y=gf;break;case"beforeblur":case"afterblur":y=gf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Xy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Mw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Qw;break;case iE:case rE:case sE:y=kw;break;case aE:y=Xw;break;case"scroll":case"scrollend":y=Dw;break;case"wheel":y=Ww;break;case"copy":case"cut":case"paste":y=Uw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Wy;break;case"toggle":case"beforetoggle":y=ex}var M=(e&4)!==0,D=!M&&(t==="scroll"||t==="scrollend"),A=M?p!==null?p+"Capture":null:p;M=[];for(var E=c,S;E!==null;){var I=E;if(S=I.stateNode,I=I.tag,I!==5&&I!==26&&I!==27||S===null||A===null||(I=Lo(E,A),I!=null&&M.push(Ko(E,I,S))),D)break;E=E.return}0<M.length&&(p=new y(p,C,null,n,f),d.push({event:p,listeners:M}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",p&&n!==yd&&(C=n.relatedTarget||n.fromElement)&&(Is(C)||C[_a]))break e;if((y||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,y?(C=n.relatedTarget||n.toElement,y=c,C=C?Is(C):null,C!==null&&(D=cl(C),M=C.tag,C!==D||M!==5&&M!==27&&M!==6)&&(C=null)):(y=null,C=c),y!==C)){if(M=Xy,I="onMouseLeave",A="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(M=Wy,I="onPointerLeave",A="onPointerEnter",E="pointer"),D=y==null?p:ao(y),S=C==null?p:ao(C),p=new M(I,E+"leave",y,n,f),p.target=D,p.relatedTarget=S,I=null,Is(f)===c&&(M=new M(A,E+"enter",C,n,f),M.target=S,M.relatedTarget=D,I=M),D=I,y&&C)t:{for(M=Zx,A=y,E=C,S=0,I=A;I;I=M(I))S++;I=0;for(var k=E;k;k=M(k))I++;for(;0<S-I;)A=M(A),S--;for(;0<I-S;)E=M(E),I--;for(;S--;){if(A===E||E!==null&&A===E.alternate){M=A;break t}A=M(A),E=M(E)}M=null}else M=null;y!==null&&q_(d,p,y,M,!1),C!==null&&D!==null&&q_(d,D,C,M,!0)}}e:{if(p=c?ao(c):window,y=p.nodeName&&p.nodeName.toLowerCase(),y==="select"||y==="input"&&p.type==="file")var H=n_;else if(t_(p))if(W1)H=cx;else{H=lx;var T=ox}else y=p.nodeName,!y||y.toLowerCase()!=="input"||p.type!=="checkbox"&&p.type!=="radio"?c&&Hm(c.elementType)&&(H=n_):H=ux;if(H&&(H=H(t,c))){J1(d,H,n,f);break e}T&&T(t,p,c),t==="focusout"&&c&&p.type==="number"&&c.memoizedProps.value!=null&&gd(p,"number",p.value)}switch(T=c?ao(c):window,t){case"focusin":(t_(T)||T.contentEditable==="true")&&(Os=T,vd=c,vo=null);break;case"focusout":vo=vd=Os=null;break;case"mousedown":Ed=!0;break;case"contextmenu":case"mouseup":case"dragend":Ed=!1,o_(d,n,f);break;case"selectionchange":if(fx)break;case"keydown":case"keyup":o_(d,n,f)}var v;if(Km)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Ds?$1(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(Q1&&n.locale!=="ko"&&(Ds||b!=="onCompositionStart"?b==="onCompositionEnd"&&Ds&&(v=Y1()):(Di=f,Fm="value"in Di?Di.value:Di.textContent,Ds=!0)),T=fc(c,b),0<T.length&&(b=new Jy(b,t,null,n,f),d.push({event:b,listeners:T}),v?b.data=v:(v=X1(n),v!==null&&(b.data=v)))),(v=nx?ix(t,n):rx(t,n))&&(b=fc(c,"onBeforeInput"),0<b.length&&(T=new Jy("onBeforeInput","beforeinput",null,n,f),d.push({event:T,listeners:b}),T.data=v)),$x(d,t,c,n,f)}KT(d,e)})}function Ko(t,e,n){return{instance:t,listener:e,currentTarget:n}}function fc(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,s=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||s===null||(r=Lo(t,n),r!=null&&i.unshift(Ko(t,r,s)),r=Lo(t,e),r!=null&&i.push(Ko(t,r,s))),t.tag===3)return i;t=t.return}return[]}function Zx(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function q_(t,e,n,i,r){for(var s=e._reactName,a=[];n!==null&&n!==i;){var l=n,u=l.alternate,c=l.stateNode;if(l=l.tag,u!==null&&u===i)break;l!==5&&l!==26&&l!==27||c===null||(u=c,r?(c=Lo(n,s),c!=null&&a.unshift(Ko(n,c,u))):r||(c=Lo(n,s),c!=null&&a.push(Ko(n,c,u)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var eR=/\r\n?/g,tR=/\u0000|\uFFFD/g;function F_(t){return(typeof t=="string"?t:""+t).replace(eR,`
`).replace(tR,"")}function QT(t,e){return e=F_(e),F_(t)===e}function pe(t,e,n,i,r,s){switch(n){case"children":typeof i=="string"?e==="body"||e==="textarea"&&i===""||ta(t,i):(typeof i=="number"||typeof i=="bigint")&&e!=="body"&&ta(t,""+i);break;case"className":Wl(t,"class",i);break;case"tabIndex":Wl(t,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Wl(t,n,i);break;case"style":G1(t,i,s);break;case"data":if(e!=="object"){Wl(t,"data",i);break}case"src":case"href":if(i===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=vu(""+i),t.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(e!=="input"&&pe(t,e,"name",r.name,r,null),pe(t,e,"formEncType",r.formEncType,r,null),pe(t,e,"formMethod",r.formMethod,r,null),pe(t,e,"formTarget",r.formTarget,r,null)):(pe(t,e,"encType",r.encType,r,null),pe(t,e,"method",r.method,r,null),pe(t,e,"target",r.target,r,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=vu(""+i),t.setAttribute(n,i);break;case"onClick":i!=null&&(t.onclick=Fn);break;case"onScroll":i!=null&&ne("scroll",t);break;case"onScrollEnd":i!=null&&ne("scrollend",t);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(L(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(L(60));t.innerHTML=n}}break;case"multiple":t.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":t.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){t.removeAttribute("xlink:href");break}n=vu(""+i),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""+i):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":i===!0?t.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,i):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?t.setAttribute(n,i):t.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?t.removeAttribute(n):t.setAttribute(n,i);break;case"popover":ne("beforetoggle",t),ne("toggle",t),_u(t,"popover",i);break;case"xlinkActuate":Pn(t,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Pn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Pn(t,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Pn(t,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Pn(t,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Pn(t,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Pn(t,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Pn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Pn(t,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":_u(t,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Iw.get(n)||n,_u(t,n,i))}}function Fd(t,e,n,i,r,s){switch(n){case"style":G1(t,i,s);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(L(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(L(60));t.innerHTML=n}}break;case"children":typeof i=="string"?ta(t,i):(typeof i=="number"||typeof i=="bigint")&&ta(t,""+i);break;case"onScroll":i!=null&&ne("scroll",t);break;case"onScrollEnd":i!=null&&ne("scrollend",t);break;case"onClick":i!=null&&(t.onclick=Fn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!j1.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),e=n.slice(2,r?n.length-7:void 0),s=t[Dt]||null,s=s!=null?s[n]:null,typeof s=="function"&&t.removeEventListener(e,s,r),typeof i=="function")){typeof s!="function"&&s!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,i,r);break e}n in t?t[n]=i:i===!0?t.setAttribute(n,""):_u(t,n,i)}}}function ht(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ne("error",t),ne("load",t);var i=!1,r=!1,s;for(s in n)if(n.hasOwnProperty(s)){var a=n[s];if(a!=null)switch(s){case"src":i=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(L(137,e));default:pe(t,e,s,a,n,null)}}r&&pe(t,e,"srcSet",n.srcSet,n,null),i&&pe(t,e,"src",n.src,n,null);return;case"input":ne("invalid",t);var l=s=a=r=null,u=null,c=null;for(i in n)if(n.hasOwnProperty(i)){var f=n[i];if(f!=null)switch(i){case"name":r=f;break;case"type":a=f;break;case"checked":u=f;break;case"defaultChecked":c=f;break;case"value":s=f;break;case"defaultValue":l=f;break;case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(L(137,e));break;default:pe(t,e,i,f,n,null)}}H1(t,s,l,u,c,a,r,!1);return;case"select":ne("invalid",t),i=a=s=null;for(r in n)if(n.hasOwnProperty(r)&&(l=n[r],l!=null))switch(r){case"value":s=l;break;case"defaultValue":a=l;break;case"multiple":i=l;default:pe(t,e,r,l,n,null)}e=s,n=a,t.multiple=!!i,e!=null?Bs(t,!!i,e,!1):n!=null&&Bs(t,!!i,n,!0);return;case"textarea":ne("invalid",t),s=r=i=null;for(a in n)if(n.hasOwnProperty(a)&&(l=n[a],l!=null))switch(a){case"value":i=l;break;case"defaultValue":r=l;break;case"children":s=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(L(91));break;default:pe(t,e,a,l,n,null)}F1(t,i,r,s);return;case"option":for(u in n)if(n.hasOwnProperty(u)&&(i=n[u],i!=null))switch(u){case"selected":t.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:pe(t,e,u,i,n,null)}return;case"dialog":ne("beforetoggle",t),ne("toggle",t),ne("cancel",t),ne("close",t);break;case"iframe":case"object":ne("load",t);break;case"video":case"audio":for(i=0;i<Go.length;i++)ne(Go[i],t);break;case"image":ne("error",t),ne("load",t);break;case"details":ne("toggle",t);break;case"embed":case"source":case"link":ne("error",t),ne("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&(i=n[c],i!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(L(137,e));default:pe(t,e,c,i,n,null)}return;default:if(Hm(e)){for(f in n)n.hasOwnProperty(f)&&(i=n[f],i!==void 0&&Fd(t,e,f,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(i=n[l],i!=null&&pe(t,e,l,i,n,null))}function nR(t,e,n,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,s=null,a=null,l=null,u=null,c=null,f=null;for(y in n){var d=n[y];if(n.hasOwnProperty(y)&&d!=null)switch(y){case"checked":break;case"value":break;case"defaultValue":u=d;default:i.hasOwnProperty(y)||pe(t,e,y,null,i,d)}}for(var p in i){var y=i[p];if(d=n[p],i.hasOwnProperty(p)&&(y!=null||d!=null))switch(p){case"type":s=y;break;case"name":r=y;break;case"checked":c=y;break;case"defaultChecked":f=y;break;case"value":a=y;break;case"defaultValue":l=y;break;case"children":case"dangerouslySetInnerHTML":if(y!=null)throw Error(L(137,e));break;default:y!==d&&pe(t,e,p,y,i,d)}}pd(t,a,l,u,c,f,s,r);return;case"select":y=a=l=p=null;for(s in n)if(u=n[s],n.hasOwnProperty(s)&&u!=null)switch(s){case"value":break;case"multiple":y=u;default:i.hasOwnProperty(s)||pe(t,e,s,null,i,u)}for(r in i)if(s=i[r],u=n[r],i.hasOwnProperty(r)&&(s!=null||u!=null))switch(r){case"value":p=s;break;case"defaultValue":l=s;break;case"multiple":a=s;default:s!==u&&pe(t,e,r,s,i,u)}e=l,n=a,i=y,p!=null?Bs(t,!!n,p,!1):!!i!=!!n&&(e!=null?Bs(t,!!n,e,!0):Bs(t,!!n,n?[]:"",!1));return;case"textarea":y=p=null;for(l in n)if(r=n[l],n.hasOwnProperty(l)&&r!=null&&!i.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:pe(t,e,l,null,i,r)}for(a in i)if(r=i[a],s=n[a],i.hasOwnProperty(a)&&(r!=null||s!=null))switch(a){case"value":p=r;break;case"defaultValue":y=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(L(91));break;default:r!==s&&pe(t,e,a,r,i,s)}q1(t,p,y);return;case"option":for(var C in n)if(p=n[C],n.hasOwnProperty(C)&&p!=null&&!i.hasOwnProperty(C))switch(C){case"selected":t.selected=!1;break;default:pe(t,e,C,null,i,p)}for(u in i)if(p=i[u],y=n[u],i.hasOwnProperty(u)&&p!==y&&(p!=null||y!=null))switch(u){case"selected":t.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:pe(t,e,u,p,i,y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var M in n)p=n[M],n.hasOwnProperty(M)&&p!=null&&!i.hasOwnProperty(M)&&pe(t,e,M,null,i,p);for(c in i)if(p=i[c],y=n[c],i.hasOwnProperty(c)&&p!==y&&(p!=null||y!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(L(137,e));break;default:pe(t,e,c,p,i,y)}return;default:if(Hm(e)){for(var D in n)p=n[D],n.hasOwnProperty(D)&&p!==void 0&&!i.hasOwnProperty(D)&&Fd(t,e,D,void 0,i,p);for(f in i)p=i[f],y=n[f],!i.hasOwnProperty(f)||p===y||p===void 0&&y===void 0||Fd(t,e,f,p,i,y);return}}for(var A in n)p=n[A],n.hasOwnProperty(A)&&p!=null&&!i.hasOwnProperty(A)&&pe(t,e,A,null,i,p);for(d in i)p=i[d],y=n[d],!i.hasOwnProperty(d)||p===y||p==null&&y==null||pe(t,e,d,p,i,y)}function G_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function iR(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var r=n[i],s=r.transferSize,a=r.initiatorType,l=r.duration;if(s&&l&&G_(a)){for(a=0,l=r.responseEnd,i+=1;i<n.length;i++){var u=n[i],c=u.startTime;if(c>l)break;var f=u.transferSize,d=u.initiatorType;f&&G_(d)&&(u=u.responseEnd,a+=f*(u<l?1:(l-c)/(u-c)))}if(--i,e+=8*(s+a)/(r.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Gd=null,Kd=null;function dc(t){return t.nodeType===9?t:t.ownerDocument}function K_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $T(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Yd(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Hf=null;function rR(){var t=window.event;return t&&t.type==="popstate"?t===Hf?!1:(Hf=t,!0):(Hf=null,!1)}var XT=typeof setTimeout=="function"?setTimeout:void 0,sR=typeof clearTimeout=="function"?clearTimeout:void 0,Y_=typeof Promise=="function"?Promise:void 0,aR=typeof queueMicrotask=="function"?queueMicrotask:typeof Y_<"u"?function(t){return Y_.resolve(null).then(t).catch(oR)}:XT;function oR(t){setTimeout(function(){throw t})}function dr(t){return t==="head"}function Q_(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"||n==="/&"){if(i===0){t.removeChild(r),ua(e);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")Io(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,Io(n);for(var s=n.firstChild;s;){var a=s.nextSibling,l=s.nodeName;s[ml]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=a}}else n==="body"&&Io(t.ownerDocument.body);n=r}while(n);ua(e)}function $_(t,e){var n=t;t=0;do{var i=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=i}while(n)}function Qd(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Qd(n),Bm(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function lR(t,e,n,i){for(;t.nodeType===1;){var r=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!i&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(i){if(!t[ml])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(s=t.getAttribute("rel"),s==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(s!==r.rel||t.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||t.getAttribute("title")!==(r.title==null?null:r.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(s=t.getAttribute("src"),(s!==(r.src==null?null:r.src)||t.getAttribute("type")!==(r.type==null?null:r.type)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&s&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var s=r.name==null?null:""+r.name;if(r.type==="hidden"&&t.getAttribute("name")===s)return t}else return t;if(t=nn(t.nextSibling),t===null)break}return null}function uR(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=nn(t.nextSibling),t===null))return null;return t}function JT(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=nn(t.nextSibling),t===null))return null;return t}function $d(t){return t.data==="$?"||t.data==="$~"}function Xd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function cR(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var i=function(){e(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),t._reactRetry=i}}function nn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var Jd=null;function X_(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return nn(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function J_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function WT(t,e,n){switch(e=dc(n),t){case"html":if(t=e.documentElement,!t)throw Error(L(452));return t;case"head":if(t=e.head,!t)throw Error(L(453));return t;case"body":if(t=e.body,!t)throw Error(L(454));return t;default:throw Error(L(451))}}function Io(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);Bm(t)}var rn=new Map,W_=new Set;function mc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var li=he.d;he.d={f:hR,r:fR,D:dR,C:mR,L:pR,m:gR,X:_R,S:yR,M:vR};function hR(){var t=li.f(),e=ah();return t||e}function fR(t){var e=va(t);e!==null&&e.tag===5&&e.type==="form"?GE(e):li.r(t)}var Aa=typeof document>"u"?null:document;function ZT(t,e,n){var i=Aa;if(i&&typeof e=="string"&&e){var r=Xt(e);r='link[rel="'+t+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),W_.has(r)||(W_.add(r),t={rel:t,crossOrigin:n,href:e},i.querySelector(r)===null&&(e=i.createElement("link"),ht(e,"link",t),it(e),i.head.appendChild(e)))}}function dR(t){li.D(t),ZT("dns-prefetch",t,null)}function mR(t,e){li.C(t,e),ZT("preconnect",t,e)}function pR(t,e,n){li.L(t,e,n);var i=Aa;if(i&&t&&e){var r='link[rel="preload"][as="'+Xt(e)+'"]';e==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+Xt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+Xt(n.imageSizes)+'"]')):r+='[href="'+Xt(t)+'"]';var s=r;switch(e){case"style":s=la(t);break;case"script":s=Sa(t)}rn.has(s)||(t=Ce({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),rn.set(s,t),i.querySelector(r)!==null||e==="style"&&i.querySelector(El(s))||e==="script"&&i.querySelector(Tl(s))||(e=i.createElement("link"),ht(e,"link",t),it(e),i.head.appendChild(e)))}}function gR(t,e){li.m(t,e);var n=Aa;if(n&&t){var i=e&&typeof e.as=="string"?e.as:"script",r='link[rel="modulepreload"][as="'+Xt(i)+'"][href="'+Xt(t)+'"]',s=r;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Sa(t)}if(!rn.has(s)&&(t=Ce({rel:"modulepreload",href:t},e),rn.set(s,t),n.querySelector(r)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Tl(s)))return}i=n.createElement("link"),ht(i,"link",t),it(i),n.head.appendChild(i)}}}function yR(t,e,n){li.S(t,e,n);var i=Aa;if(i&&t){var r=zs(i).hoistableStyles,s=la(t);e=e||"default";var a=r.get(s);if(!a){var l={loading:0,preload:null};if(a=i.querySelector(El(s)))l.loading=5;else{t=Ce({rel:"stylesheet",href:t,"data-precedence":e},n),(n=rn.get(s))&&xp(t,n);var u=a=i.createElement("link");it(u),ht(u,"link",t),u._p=new Promise(function(c,f){u.onload=c,u.onerror=f}),u.addEventListener("load",function(){l.loading|=1}),u.addEventListener("error",function(){l.loading|=2}),l.loading|=4,Iu(a,e,i)}a={type:"stylesheet",instance:a,count:1,state:l},r.set(s,a)}}}function _R(t,e){li.X(t,e);var n=Aa;if(n&&t){var i=zs(n).hoistableScripts,r=Sa(t),s=i.get(r);s||(s=n.querySelector(Tl(r)),s||(t=Ce({src:t,async:!0},e),(e=rn.get(r))&&Rp(t,e),s=n.createElement("script"),it(s),ht(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}}function vR(t,e){li.M(t,e);var n=Aa;if(n&&t){var i=zs(n).hoistableScripts,r=Sa(t),s=i.get(r);s||(s=n.querySelector(Tl(r)),s||(t=Ce({src:t,async:!0,type:"module"},e),(e=rn.get(r))&&Rp(t,e),s=n.createElement("script"),it(s),ht(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}}function Z_(t,e,n,i){var r=(r=Ui.current)?mc(r):null;if(!r)throw Error(L(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=la(n.href),n=zs(r).hoistableStyles,i=n.get(e),i||(i={type:"style",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=la(n.href);var s=zs(r).hoistableStyles,a=s.get(t);if(a||(r=r.ownerDocument||r,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(t,a),(s=r.querySelector(El(t)))&&!s._p&&(a.instance=s,a.state.loading=5),rn.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},rn.set(t,n),s||ER(r,t,n,a.state))),e&&i===null)throw Error(L(528,""));return a}if(e&&i!==null)throw Error(L(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=Sa(n),n=zs(r).hoistableScripts,i=n.get(e),i||(i={type:"script",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(L(444,t))}}function la(t){return'href="'+Xt(t)+'"'}function El(t){return'link[rel="stylesheet"]['+t+"]"}function eb(t){return Ce({},t,{"data-precedence":t.precedence,precedence:null})}function ER(t,e,n,i){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?i.loading=1:(e=t.createElement("link"),i.preload=e,e.addEventListener("load",function(){return i.loading|=1}),e.addEventListener("error",function(){return i.loading|=2}),ht(e,"link",n),it(e),t.head.appendChild(e))}function Sa(t){return'[src="'+Xt(t)+'"]'}function Tl(t){return"script[async]"+t}function ev(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var i=t.querySelector('style[data-href~="'+Xt(n.href)+'"]');if(i)return e.instance=i,it(i),i;var r=Ce({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(t.ownerDocument||t).createElement("style"),it(i),ht(i,"style",r),Iu(i,n.precedence,t),e.instance=i;case"stylesheet":r=la(n.href);var s=t.querySelector(El(r));if(s)return e.state.loading|=4,e.instance=s,it(s),s;i=eb(n),(r=rn.get(r))&&xp(i,r),s=(t.ownerDocument||t).createElement("link"),it(s);var a=s;return a._p=new Promise(function(l,u){a.onload=l,a.onerror=u}),ht(s,"link",i),e.state.loading|=4,Iu(s,n.precedence,t),e.instance=s;case"script":return s=Sa(n.src),(r=t.querySelector(Tl(s)))?(e.instance=r,it(r),r):(i=n,(r=rn.get(s))&&(i=Ce({},n),Rp(i,r)),t=t.ownerDocument||t,r=t.createElement("script"),it(r),ht(r,"link",i),t.head.appendChild(r),e.instance=r);case"void":return null;default:throw Error(L(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(i=e.instance,e.state.loading|=4,Iu(i,n.precedence,t));return e.instance}function Iu(t,e,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=i.length?i[i.length-1]:null,s=r,a=0;a<i.length;a++){var l=i[a];if(l.dataset.precedence===e)s=l;else if(s!==r)break}s?s.parentNode.insertBefore(t,s.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function xp(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function Rp(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Nu=null;function tv(t,e,n){if(Nu===null){var i=new Map,r=Nu=new Map;r.set(n,i)}else r=Nu,i=r.get(n),i||(i=new Map,r.set(n,i));if(i.has(t))return i;for(i.set(t,null),n=n.getElementsByTagName(t),r=0;r<n.length;r++){var s=n[r];if(!(s[ml]||s[ot]||t==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var a=s.getAttribute(e)||"";a=t+a;var l=i.get(a);l?l.push(s):i.set(a,[s])}}return i}function nv(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function TR(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function tb(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}function bR(t,e,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var r=la(i.href),s=e.querySelector(El(r));if(s){e=s._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=pc.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=s,it(s);return}s=e.ownerDocument||e,i=eb(i),(r=rn.get(r))&&xp(i,r),s=s.createElement("link"),it(s);var a=s;a._p=new Promise(function(l,u){a.onload=l,a.onerror=u}),ht(s,"link",i),n.instance=s}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(t.count++,n=pc.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var qf=0;function AR(t,e){return t.stylesheets&&t.count===0&&Du(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var i=setTimeout(function(){if(t.stylesheets&&Du(t,t.stylesheets),t.unsuspend){var s=t.unsuspend;t.unsuspend=null,s()}},6e4+e);0<t.imgBytes&&qf===0&&(qf=62500*iR());var r=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Du(t,t.stylesheets),t.unsuspend)){var s=t.unsuspend;t.unsuspend=null,s()}},(t.imgBytes>qf?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(i),clearTimeout(r)}}:null}function pc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Du(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var gc=null;function Du(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,gc=new Map,e.forEach(SR,t),gc=null,pc.call(t))}function SR(t,e){if(!(e.state.loading&4)){var n=gc.get(t);if(n)var i=n.get(null);else{n=new Map,gc.set(t,n);for(var r=t.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<r.length;s++){var a=r[s];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),i=a)}i&&n.set(null,i)}r=e.instance,a=r.getAttribute("data-precedence"),s=n.get(a)||i,s===i&&n.set(null,r),n.set(a,r),this.count++,i=pc.bind(this),r.addEventListener("load",i),r.addEventListener("error",i),s?s.parentNode.insertBefore(r,s.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(r,t.firstChild)),e.state.loading|=4}}var Yo={$$typeof:qn,Provider:null,Consumer:null,_currentValue:kr,_currentValue2:kr,_threadCount:0};function wR(t,e,n,i,r,s,a,l,u){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ff(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ff(0),this.hiddenUpdates=ff(null),this.identifierPrefix=i,this.onUncaughtError=r,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=u,this.incompleteTransitions=new Map}function nb(t,e,n,i,r,s,a,l,u,c,f,d){return t=new wR(t,e,n,a,u,c,f,d,l),e=1,s===!0&&(e|=24),s=kt(3,null,null,e),t.current=s,s.stateNode=t,e=Zm(),e.refCount++,t.pooledCache=e,e.refCount++,s.memoizedState={element:i,isDehydrated:n,cache:e},np(s),t}function ib(t){return t?(t=Ps,t):Ps}function rb(t,e,n,i,r,s){r=ib(r),i.context===null?i.context=r:i.pendingContext=r,i=zi(e),i.payload={element:n},s=s===void 0?null:s,s!==null&&(i.callback=s),n=Bi(t,i,e),n!==null&&(Nt(n,t,e),To(n,t,e))}function iv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Cp(t,e){iv(t,e),(t=t.alternate)&&iv(t,e)}function sb(t){if(t.tag===13||t.tag===31){var e=ss(t,67108864);e!==null&&Nt(e,t,67108864),Cp(t,67108864)}}function rv(t){if(t.tag===13||t.tag===31){var e=Ht();e=jm(e);var n=ss(t,e);n!==null&&Nt(n,t,e),Cp(t,e)}}var yc=!0;function xR(t,e,n,i){var r=Q.T;Q.T=null;var s=he.p;try{he.p=2,Ip(t,e,n,i)}finally{he.p=s,Q.T=r}}function RR(t,e,n,i){var r=Q.T;Q.T=null;var s=he.p;try{he.p=8,Ip(t,e,n,i)}finally{he.p=s,Q.T=r}}function Ip(t,e,n,i){if(yc){var r=Wd(i);if(r===null)Bf(t,e,i,_c,n),sv(t,i);else if(IR(r,t,e,n,i))i.stopPropagation();else if(sv(t,i),e&4&&-1<CR.indexOf(t)){for(;r!==null;){var s=va(r);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var a=Ir(s.pendingLanes);if(a!==0){var l=s;for(l.pendingLanes|=2,l.entangledLanes|=2;a;){var u=1<<31-Bt(a);l.entanglements[1]|=u,a&=~u}On(s),!(ce&6)&&(oc=jt()+500,vl(0))}}break;case 31:case 13:l=ss(s,2),l!==null&&Nt(l,s,2),ah(),Cp(s,2)}if(s=Wd(i),s===null&&Bf(t,e,i,_c,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else Bf(t,e,i,null,n)}}function Wd(t){return t=qm(t),Np(t)}var _c=null;function Np(t){if(_c=null,t=Is(t),t!==null){var e=cl(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=w1(e),t!==null)return t;t=null}else if(n===31){if(t=x1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return _c=t,null}function ab(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(dw()){case N1:return 2;case D1:return 8;case Yu:case mw:return 32;case O1:return 268435456;default:return 32}default:return 32}}var Zd=!1,Fi=null,Gi=null,Ki=null,Qo=new Map,$o=new Map,Si=[],CR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sv(t,e){switch(t){case"focusin":case"focusout":Fi=null;break;case"dragenter":case"dragleave":Gi=null;break;case"mouseover":case"mouseout":Ki=null;break;case"pointerover":case"pointerout":Qo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":$o.delete(e.pointerId)}}function no(t,e,n,i,r,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=va(e),e!==null&&sb(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function IR(t,e,n,i,r){switch(e){case"focusin":return Fi=no(Fi,t,e,n,i,r),!0;case"dragenter":return Gi=no(Gi,t,e,n,i,r),!0;case"mouseover":return Ki=no(Ki,t,e,n,i,r),!0;case"pointerover":var s=r.pointerId;return Qo.set(s,no(Qo.get(s)||null,t,e,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,$o.set(s,no($o.get(s)||null,t,e,n,i,r)),!0}return!1}function ob(t){var e=Is(t.target);if(e!==null){var n=cl(e);if(n!==null){if(e=n.tag,e===13){if(e=w1(n),e!==null){t.blockedOn=e,qy(t.priority,function(){rv(n)});return}}else if(e===31){if(e=x1(n),e!==null){t.blockedOn=e,qy(t.priority,function(){rv(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ou(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Wd(t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);yd=i,n.target.dispatchEvent(i),yd=null}else return e=va(n),e!==null&&sb(e),t.blockedOn=n,!1;e.shift()}return!0}function av(t,e,n){Ou(t)&&n.delete(e)}function NR(){Zd=!1,Fi!==null&&Ou(Fi)&&(Fi=null),Gi!==null&&Ou(Gi)&&(Gi=null),Ki!==null&&Ou(Ki)&&(Ki=null),Qo.forEach(av),$o.forEach(av)}function au(t,e){t.blockedOn===e&&(t.blockedOn=null,Zd||(Zd=!0,Ze.unstable_scheduleCallback(Ze.unstable_NormalPriority,NR)))}var ou=null;function ov(t){ou!==t&&(ou=t,Ze.unstable_scheduleCallback(Ze.unstable_NormalPriority,function(){ou===t&&(ou=null);for(var e=0;e<t.length;e+=3){var n=t[e],i=t[e+1],r=t[e+2];if(typeof i!="function"){if(Np(i||n)===null)continue;break}var s=va(n);s!==null&&(t.splice(e,3),e-=3,Md(s,{pending:!0,data:r,method:n.method,action:i},i,r))}}))}function ua(t){function e(u){return au(u,t)}Fi!==null&&au(Fi,t),Gi!==null&&au(Gi,t),Ki!==null&&au(Ki,t),Qo.forEach(e),$o.forEach(e);for(var n=0;n<Si.length;n++){var i=Si[n];i.blockedOn===t&&(i.blockedOn=null)}for(;0<Si.length&&(n=Si[0],n.blockedOn===null);)ob(n),n.blockedOn===null&&Si.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var r=n[i],s=n[i+1],a=r[Dt]||null;if(typeof s=="function")a||ov(n);else if(a){var l=null;if(s&&s.hasAttribute("formAction")){if(r=s,a=s[Dt]||null)l=a.formAction;else if(Np(r)!==null)continue}else l=a.action;typeof l=="function"?n[i+1]=l:(n.splice(i,3),i-=3),ov(n)}}}function lb(){function t(s){s.canIntercept&&s.info==="react-transition"&&s.intercept({handler:function(){return new Promise(function(a){return r=a})},focusReset:"manual",scroll:"manual"})}function e(){r!==null&&(r(),r=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var s=navigation.currentEntry;s&&s.url!=null&&navigation.navigate(s.url,{state:s.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,r=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),r!==null&&(r(),r=null)}}}function Dp(t){this._internalRoot=t}uh.prototype.render=Dp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(L(409));var n=e.current,i=Ht();rb(n,i,t,e,null,null)};uh.prototype.unmount=Dp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;rb(t.current,2,null,t,null,null),ah(),e[_a]=null}};function uh(t){this._internalRoot=t}uh.prototype.unstable_scheduleHydration=function(t){if(t){var e=L1();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Si.length&&e!==0&&e<Si[n].priority;n++);Si.splice(n,0,t),n===0&&ob(t)}};var lv=A1.version;if(lv!=="19.2.4")throw Error(L(527,lv,"19.2.4"));he.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(L(188)):(t=Object.keys(t).join(","),Error(L(268,t)));return t=aw(e),t=t!==null?R1(t):null,t=t===null?null:t.stateNode,t};var DR={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lu.isDisabled&&lu.supportsFiber)try{hl=lu.inject(DR),zt=lu}catch{}}Kc.createRoot=function(t,e){if(!S1(t))throw Error(L(299));var n=!1,i="",r=ZE,s=eT,a=tT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onUncaughtError!==void 0&&(r=e.onUncaughtError),e.onCaughtError!==void 0&&(s=e.onCaughtError),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=nb(t,1,!1,null,null,n,i,null,r,s,a,lb),t[_a]=e.current,wp(t),new Dp(e)};Kc.hydrateRoot=function(t,e,n){if(!S1(t))throw Error(L(299));var i=!1,r="",s=ZE,a=eT,l=tT,u=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.formState!==void 0&&(u=n.formState)),e=nb(t,1,!0,e,n??null,i,r,u,s,a,l,lb),e.context=ib(null),n=e.current,i=Ht(),i=jm(i),r=zi(i),r.callback=null,Bi(n,r,i),n=i,e.current.lanes=n,dl(e,n),On(e),t[_a]=e.current,wp(t),new uh(e)};Kc.version="19.2.4";function ub(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ub)}catch(t){console.error(t)}}ub(),y1.exports=Kc;var OR=y1.exports;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xo(){return Xo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Xo.apply(this,arguments)}var Pi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Pi||(Pi={}));const uv="popstate";function MR(t){t===void 0&&(t={});function e(i,r){let{pathname:s,search:a,hash:l}=i.location;return em("",{pathname:s,search:a,hash:l},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:vc(r)}return PR(e,n,null,t)}function Ue(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Op(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function VR(){return Math.random().toString(36).substr(2,8)}function cv(t,e){return{usr:t.state,key:t.key,idx:e}}function em(t,e,n,i){return n===void 0&&(n=null),Xo({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?wa(e):e,{state:n,key:e&&e.key||i||VR()})}function vc(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function wa(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function PR(t,e,n,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,a=r.history,l=Pi.Pop,u=null,c=f();c==null&&(c=0,a.replaceState(Xo({},a.state,{idx:c}),""));function f(){return(a.state||{idx:null}).idx}function d(){l=Pi.Pop;let D=f(),A=D==null?null:D-c;c=D,u&&u({action:l,location:M.location,delta:A})}function p(D,A){l=Pi.Push;let E=em(M.location,D,A);c=f()+1;let S=cv(E,c),I=M.createHref(E);try{a.pushState(S,"",I)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;r.location.assign(I)}s&&u&&u({action:l,location:M.location,delta:1})}function y(D,A){l=Pi.Replace;let E=em(M.location,D,A);c=f();let S=cv(E,c),I=M.createHref(E);a.replaceState(S,"",I),s&&u&&u({action:l,location:M.location,delta:0})}function C(D){let A=r.location.origin!=="null"?r.location.origin:r.location.href,E=typeof D=="string"?D:vc(D);return E=E.replace(/ $/,"%20"),Ue(A,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,A)}let M={get action(){return l},get location(){return t(r,a)},listen(D){if(u)throw new Error("A history only accepts one active listener");return r.addEventListener(uv,d),u=D,()=>{r.removeEventListener(uv,d),u=null}},createHref(D){return e(r,D)},createURL:C,encodeLocation(D){let A=C(D);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:p,replace:y,go(D){return a.go(D)}};return M}var hv;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(hv||(hv={}));function kR(t,e,n){return n===void 0&&(n="/"),LR(t,e,n)}function LR(t,e,n,i){let r=typeof e=="string"?wa(e):e,s=Mp(r.pathname||"/",n);if(s==null)return null;let a=cb(t);UR(a);let l=null;for(let u=0;l==null&&u<a.length;++u){let c=XR(s);l=YR(a[u],c)}return l}function cb(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let r=(s,a,l)=>{let u={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};u.relativePath.startsWith("/")&&(Ue(u.relativePath.startsWith(i),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(i.length));let c=Yi([i,u.relativePath]),f=n.concat(u);s.children&&s.children.length>0&&(Ue(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),cb(s.children,e,f,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:GR(c,s.index),routesMeta:f})};return t.forEach((s,a)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))r(s,a);else for(let u of hb(s.path))r(s,a,u)}),e}function hb(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let a=hb(i.join("/")),l=[];return l.push(...a.map(u=>u===""?s:[s,u].join("/"))),r&&l.push(...a),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function UR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:KR(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const jR=/^:[\w-]+$/,zR=3,BR=2,HR=1,qR=10,FR=-2,fv=t=>t==="*";function GR(t,e){let n=t.split("/"),i=n.length;return n.some(fv)&&(i+=FR),e&&(i+=BR),n.filter(r=>!fv(r)).reduce((r,s)=>r+(jR.test(s)?zR:s===""?HR:qR),i)}function KR(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function YR(t,e,n){let{routesMeta:i}=t,r={},s="/",a=[];for(let l=0;l<i.length;++l){let u=i[l],c=l===i.length-1,f=s==="/"?e:e.slice(s.length)||"/",d=QR({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},f),p=u.route;if(!d)return null;Object.assign(r,d.params),a.push({params:r,pathname:Yi([s,d.pathname]),pathnameBase:t4(Yi([s,d.pathnameBase])),route:p}),d.pathnameBase!=="/"&&(s=Yi([s,d.pathnameBase]))}return a}function QR(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=$R(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let s=r[0],a=s.replace(/(.)\/+$/,"$1"),l=r.slice(1);return{params:i.reduce((c,f,d)=>{let{paramName:p,isOptional:y}=f;if(p==="*"){let M=l[d]||"";a=s.slice(0,s.length-M.length).replace(/(.)\/+$/,"$1")}const C=l[d];return y&&!C?c[p]=void 0:c[p]=(C||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:t}}function $R(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Op(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,u)=>(i.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function XR(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Op(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Mp(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}const JR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,WR=t=>JR.test(t);function ZR(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?wa(t):t,s;if(n)if(WR(n))s=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),Op(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+n))}n.startsWith("/")?s=dv(n.substring(1),"/"):s=dv(n,e)}else s=e;return{pathname:s,search:n4(i),hash:i4(r)}}function dv(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function Ff(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function e4(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Vp(t,e){let n=e4(t);return e?n.map((i,r)=>r===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function Pp(t,e,n,i){i===void 0&&(i=!1);let r;typeof t=="string"?r=wa(t):(r=Xo({},t),Ue(!r.pathname||!r.pathname.includes("?"),Ff("?","pathname","search",r)),Ue(!r.pathname||!r.pathname.includes("#"),Ff("#","pathname","hash",r)),Ue(!r.search||!r.search.includes("#"),Ff("#","search","hash",r)));let s=t===""||r.pathname==="",a=s?"/":r.pathname,l;if(a==null)l=n;else{let d=e.length-1;if(!i&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),d-=1;r.pathname=p.join("/")}l=d>=0?e[d]:"/"}let u=ZR(r,l),c=a&&a!=="/"&&a.endsWith("/"),f=(s||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||f)&&(u.pathname+="/"),u}const Yi=t=>t.join("/").replace(/\/\/+/g,"/"),t4=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),n4=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,i4=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function r4(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const fb=["post","put","patch","delete"];new Set(fb);const s4=["get",...fb];new Set(s4);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jo(){return Jo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Jo.apply(this,arguments)}const kp=V.createContext(null),a4=V.createContext(null),mr=V.createContext(null),ch=V.createContext(null),ui=V.createContext({outlet:null,matches:[],isDataRoute:!1}),db=V.createContext(null);function o4(t,e){let{relative:n}=e===void 0?{}:e;xa()||Ue(!1);let{basename:i,navigator:r}=V.useContext(mr),{hash:s,pathname:a,search:l}=gb(t,{relative:n}),u=a;return i!=="/"&&(u=a==="/"?i:Yi([i,a])),r.createHref({pathname:u,search:l,hash:s})}function xa(){return V.useContext(ch)!=null}function pr(){return xa()||Ue(!1),V.useContext(ch).location}function mb(t){V.useContext(mr).static||V.useLayoutEffect(t)}function pb(){let{isDataRoute:t}=V.useContext(ui);return t?b4():l4()}function l4(){xa()||Ue(!1);let t=V.useContext(kp),{basename:e,future:n,navigator:i}=V.useContext(mr),{matches:r}=V.useContext(ui),{pathname:s}=pr(),a=JSON.stringify(Vp(r,n.v7_relativeSplatPath)),l=V.useRef(!1);return mb(()=>{l.current=!0}),V.useCallback(function(c,f){if(f===void 0&&(f={}),!l.current)return;if(typeof c=="number"){i.go(c);return}let d=Pp(c,JSON.parse(a),s,f.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Yi([e,d.pathname])),(f.replace?i.replace:i.push)(d,f.state,f)},[e,i,a,s,t])}const u4=V.createContext(null);function c4(t){let e=V.useContext(ui).outlet;return e&&V.createElement(u4.Provider,{value:t},e)}function gb(t,e){let{relative:n}=e===void 0?{}:e,{future:i}=V.useContext(mr),{matches:r}=V.useContext(ui),{pathname:s}=pr(),a=JSON.stringify(Vp(r,i.v7_relativeSplatPath));return V.useMemo(()=>Pp(t,JSON.parse(a),s,n==="path"),[t,a,s,n])}function h4(t,e){return f4(t,e)}function f4(t,e,n,i){xa()||Ue(!1);let{navigator:r}=V.useContext(mr),{matches:s}=V.useContext(ui),a=s[s.length-1],l=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let c=pr(),f;if(e){var d;let D=typeof e=="string"?wa(e):e;u==="/"||(d=D.pathname)!=null&&d.startsWith(u)||Ue(!1),f=D}else f=c;let p=f.pathname||"/",y=p;if(u!=="/"){let D=u.replace(/^\//,"").split("/");y="/"+p.replace(/^\//,"").split("/").slice(D.length).join("/")}let C=kR(t,{pathname:y}),M=y4(C&&C.map(D=>Object.assign({},D,{params:Object.assign({},l,D.params),pathname:Yi([u,r.encodeLocation?r.encodeLocation(D.pathname).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?u:Yi([u,r.encodeLocation?r.encodeLocation(D.pathnameBase).pathname:D.pathnameBase])})),s,n,i);return e&&M?V.createElement(ch.Provider,{value:{location:Jo({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Pi.Pop}},M):M}function d4(){let t=T4(),e=r4(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),n?V.createElement("pre",{style:r},n):null,null)}const m4=V.createElement(d4,null);class p4 extends V.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?V.createElement(ui.Provider,{value:this.props.routeContext},V.createElement(db.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function g4(t){let{routeContext:e,match:n,children:i}=t,r=V.useContext(kp);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),V.createElement(ui.Provider,{value:e},i)}function y4(t,e,n,i){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),i===void 0&&(i=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=i)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=(r=n)==null?void 0:r.errors;if(l!=null){let f=a.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id])!==void 0);f>=0||Ue(!1),a=a.slice(0,Math.min(a.length,f+1))}let u=!1,c=-1;if(n&&i&&i.v7_partialHydration)for(let f=0;f<a.length;f++){let d=a[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=f),d.route.id){let{loaderData:p,errors:y}=n,C=d.route.loader&&p[d.route.id]===void 0&&(!y||y[d.route.id]===void 0);if(d.route.lazy||C){u=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((f,d,p)=>{let y,C=!1,M=null,D=null;n&&(y=l&&d.route.id?l[d.route.id]:void 0,M=d.route.errorElement||m4,u&&(c<0&&p===0?(A4("route-fallback"),C=!0,D=null):c===p&&(C=!0,D=d.route.hydrateFallbackElement||null)));let A=e.concat(a.slice(0,p+1)),E=()=>{let S;return y?S=M:C?S=D:d.route.Component?S=V.createElement(d.route.Component,null):d.route.element?S=d.route.element:S=f,V.createElement(g4,{match:d,routeContext:{outlet:f,matches:A,isDataRoute:n!=null},children:S})};return n&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?V.createElement(p4,{location:n.location,revalidation:n.revalidation,component:M,error:y,children:E(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):E()},null)}var yb=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(yb||{}),_b=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(_b||{});function _4(t){let e=V.useContext(kp);return e||Ue(!1),e}function v4(t){let e=V.useContext(a4);return e||Ue(!1),e}function E4(t){let e=V.useContext(ui);return e||Ue(!1),e}function vb(t){let e=E4(),n=e.matches[e.matches.length-1];return n.route.id||Ue(!1),n.route.id}function T4(){var t;let e=V.useContext(db),n=v4(),i=vb();return e!==void 0?e:(t=n.errors)==null?void 0:t[i]}function b4(){let{router:t}=_4(yb.UseNavigateStable),e=vb(_b.UseNavigateStable),n=V.useRef(!1);return mb(()=>{n.current=!0}),V.useCallback(function(r,s){s===void 0&&(s={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,Jo({fromRouteId:e},s)))},[t,e])}const mv={};function A4(t,e,n){mv[t]||(mv[t]=!0)}function S4(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function w4(t){let{to:e,replace:n,state:i,relative:r}=t;xa()||Ue(!1);let{future:s,static:a}=V.useContext(mr),{matches:l}=V.useContext(ui),{pathname:u}=pr(),c=pb(),f=Pp(e,Vp(l,s.v7_relativeSplatPath),u,r==="path"),d=JSON.stringify(f);return V.useEffect(()=>c(JSON.parse(d),{replace:n,state:i,relative:r}),[c,d,r,n,i]),null}function x4(t){return c4(t.context)}function Or(t){Ue(!1)}function R4(t){let{basename:e="/",children:n=null,location:i,navigationType:r=Pi.Pop,navigator:s,static:a=!1,future:l}=t;xa()&&Ue(!1);let u=e.replace(/^\/*/,"/"),c=V.useMemo(()=>({basename:u,navigator:s,static:a,future:Jo({v7_relativeSplatPath:!1},l)}),[u,l,s,a]);typeof i=="string"&&(i=wa(i));let{pathname:f="/",search:d="",hash:p="",state:y=null,key:C="default"}=i,M=V.useMemo(()=>{let D=Mp(f,u);return D==null?null:{location:{pathname:D,search:d,hash:p,state:y,key:C},navigationType:r}},[u,f,d,p,y,C,r]);return M==null?null:V.createElement(mr.Provider,{value:c},V.createElement(ch.Provider,{children:n,value:M}))}function C4(t){let{children:e,location:n}=t;return h4(tm(e),n)}new Promise(()=>{});function tm(t,e){e===void 0&&(e=[]);let n=[];return V.Children.forEach(t,(i,r)=>{if(!V.isValidElement(i))return;let s=[...e,r];if(i.type===V.Fragment){n.push.apply(n,tm(i.props.children,s));return}i.type!==Or&&Ue(!1),!i.props.index||!i.props.children||Ue(!1);let a={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(a.children=tm(i.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nm(){return nm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},nm.apply(this,arguments)}function I4(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function N4(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function D4(t,e){return t.button===0&&(!e||e==="_self")&&!N4(t)}const O4=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],M4="6";try{window.__reactRouterVersion=M4}catch{}const V4="startTransition",pv=ZS[V4];function P4(t){let{basename:e,children:n,future:i,window:r}=t,s=V.useRef();s.current==null&&(s.current=MR({window:r,v5Compat:!0}));let a=s.current,[l,u]=V.useState({action:a.action,location:a.location}),{v7_startTransition:c}=i||{},f=V.useCallback(d=>{c&&pv?pv(()=>u(d)):u(d)},[u,c]);return V.useLayoutEffect(()=>a.listen(f),[a,f]),V.useEffect(()=>S4(i),[i]),V.createElement(R4,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:a,future:i})}const k4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",L4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Br=V.forwardRef(function(e,n){let{onClick:i,relative:r,reloadDocument:s,replace:a,state:l,target:u,to:c,preventScrollReset:f,viewTransition:d}=e,p=I4(e,O4),{basename:y}=V.useContext(mr),C,M=!1;if(typeof c=="string"&&L4.test(c)&&(C=c,k4))try{let S=new URL(window.location.href),I=c.startsWith("//")?new URL(S.protocol+c):new URL(c),k=Mp(I.pathname,y);I.origin===S.origin&&k!=null?c=k+I.search+I.hash:M=!0}catch{}let D=o4(c,{relative:r}),A=U4(c,{replace:a,state:l,target:u,preventScrollReset:f,relative:r,viewTransition:d});function E(S){i&&i(S),S.defaultPrevented||A(S)}return V.createElement("a",nm({},p,{href:C||D,onClick:M||s?i:E,ref:n,target:u}))});var gv;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(gv||(gv={}));var yv;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(yv||(yv={}));function U4(t,e){let{target:n,replace:i,state:r,preventScrollReset:s,relative:a,viewTransition:l}=e===void 0?{}:e,u=pb(),c=pr(),f=gb(t,{relative:a});return V.useCallback(d=>{if(D4(d,n)){d.preventDefault();let p=i!==void 0?i:vc(c)===vc(f);u(t,{replace:p,state:r,preventScrollReset:s,relative:a,viewTransition:l})}},[c,u,f,i,r,n,t,s,a,l])}let j4={data:""},z4=t=>{if(typeof window=="object"){let e=(t?t.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(t||document.head).appendChild(e),e.firstChild}return t||j4},B4=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,H4=/\/\*[^]*?\*\/|  +/g,_v=/\n+/g,wi=(t,e)=>{let n="",i="",r="";for(let s in t){let a=t[s];s[0]=="@"?s[1]=="i"?n=s+" "+a+";":i+=s[1]=="f"?wi(a,s):s+"{"+wi(a,s[1]=="k"?"":e)+"}":typeof a=="object"?i+=wi(a,e?e.replace(/([^,])+/g,l=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,u=>/&/.test(u)?u.replace(/&/g,l):l?l+" "+u:u)):s):a!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),r+=wi.p?wi.p(s,a):s+":"+a+";")}return n+(e&&r?e+"{"+r+"}":r)+i},jn={},Eb=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+Eb(t[n]);return e}return t},q4=(t,e,n,i,r)=>{let s=Eb(t),a=jn[s]||(jn[s]=(u=>{let c=0,f=11;for(;c<u.length;)f=101*f+u.charCodeAt(c++)>>>0;return"go"+f})(s));if(!jn[a]){let u=s!==t?t:(c=>{let f,d,p=[{}];for(;f=B4.exec(c.replace(H4,""));)f[4]?p.shift():f[3]?(d=f[3].replace(_v," ").trim(),p.unshift(p[0][d]=p[0][d]||{})):p[0][f[1]]=f[2].replace(_v," ").trim();return p[0]})(t);jn[a]=wi(r?{["@keyframes "+a]:u}:u,n?"":"."+a)}let l=n&&jn.g?jn.g:null;return n&&(jn.g=jn[a]),((u,c,f,d)=>{d?c.data=c.data.replace(d,u):c.data.indexOf(u)===-1&&(c.data=f?u+c.data:c.data+u)})(jn[a],e,i,l),a},F4=(t,e,n)=>t.reduce((i,r,s)=>{let a=e[s];if(a&&a.call){let l=a(n),u=l&&l.props&&l.props.className||/^go/.test(l)&&l;a=u?"."+u:l&&typeof l=="object"?l.props?"":wi(l,""):l===!1?"":l}return i+r+(a??"")},"");function hh(t){let e=this||{},n=t.call?t(e.p):t;return q4(n.unshift?n.raw?F4(n,[].slice.call(arguments,1),e.p):n.reduce((i,r)=>Object.assign(i,r&&r.call?r(e.p):r),{}):n,z4(e.target),e.g,e.o,e.k)}let Tb,im,rm;hh.bind({g:1});let ni=hh.bind({k:1});function G4(t,e,n,i){wi.p=e,Tb=t,im=n,rm=i}function gr(t,e){let n=this||{};return function(){let i=arguments;function r(s,a){let l=Object.assign({},s),u=l.className||r.className;n.p=Object.assign({theme:im&&im()},l),n.o=/ *go\d+/.test(u),l.className=hh.apply(n,i)+(u?" "+u:"");let c=t;return t[0]&&(c=l.as||t,delete l.as),rm&&c[0]&&rm(l),Tb(c,l)}return r}}var K4=t=>typeof t=="function",Ec=(t,e)=>K4(t)?t(e):t,Y4=(()=>{let t=0;return()=>(++t).toString()})(),bb=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),Q4=20,Lp="default",Ab=(t,e)=>{let{toastLimit:n}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,n)};case 1:return{...t,toasts:t.toasts.map(a=>a.id===e.toast.id?{...a,...e.toast}:a)};case 2:let{toast:i}=e;return Ab(t,{type:t.toasts.find(a=>a.id===i.id)?1:0,toast:i});case 3:let{toastId:r}=e;return{...t,toasts:t.toasts.map(a=>a.id===r||r===void 0?{...a,dismissed:!0,visible:!1}:a)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(a=>a.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let s=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+s}))}}},Mu=[],Sb={toasts:[],pausedAt:void 0,settings:{toastLimit:Q4}},Tn={},wb=(t,e=Lp)=>{Tn[e]=Ab(Tn[e]||Sb,t),Mu.forEach(([n,i])=>{n===e&&i(Tn[e])})},xb=t=>Object.keys(Tn).forEach(e=>wb(t,e)),$4=t=>Object.keys(Tn).find(e=>Tn[e].toasts.some(n=>n.id===t)),fh=(t=Lp)=>e=>{wb(e,t)},X4={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},J4=(t={},e=Lp)=>{let[n,i]=V.useState(Tn[e]||Sb),r=V.useRef(Tn[e]);V.useEffect(()=>(r.current!==Tn[e]&&i(Tn[e]),Mu.push([e,i]),()=>{let a=Mu.findIndex(([l])=>l===e);a>-1&&Mu.splice(a,1)}),[e]);let s=n.toasts.map(a=>{var l,u,c;return{...t,...t[a.type],...a,removeDelay:a.removeDelay||((l=t[a.type])==null?void 0:l.removeDelay)||(t==null?void 0:t.removeDelay),duration:a.duration||((u=t[a.type])==null?void 0:u.duration)||(t==null?void 0:t.duration)||X4[a.type],style:{...t.style,...(c=t[a.type])==null?void 0:c.style,...a.style}}});return{...n,toasts:s}},W4=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||Y4()}),bl=t=>(e,n)=>{let i=W4(e,t,n);return fh(i.toasterId||$4(i.id))({type:2,toast:i}),i.id},Xe=(t,e)=>bl("blank")(t,e);Xe.error=bl("error");Xe.success=bl("success");Xe.loading=bl("loading");Xe.custom=bl("custom");Xe.dismiss=(t,e)=>{let n={type:3,toastId:t};e?fh(e)(n):xb(n)};Xe.dismissAll=t=>Xe.dismiss(void 0,t);Xe.remove=(t,e)=>{let n={type:4,toastId:t};e?fh(e)(n):xb(n)};Xe.removeAll=t=>Xe.remove(void 0,t);Xe.promise=(t,e,n)=>{let i=Xe.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(r=>{let s=e.success?Ec(e.success,r):void 0;return s?Xe.success(s,{id:i,...n,...n==null?void 0:n.success}):Xe.dismiss(i),r}).catch(r=>{let s=e.error?Ec(e.error,r):void 0;s?Xe.error(s,{id:i,...n,...n==null?void 0:n.error}):Xe.dismiss(i)}),t};var Z4=1e3,eC=(t,e="default")=>{let{toasts:n,pausedAt:i}=J4(t,e),r=V.useRef(new Map).current,s=V.useCallback((d,p=Z4)=>{if(r.has(d))return;let y=setTimeout(()=>{r.delete(d),a({type:4,toastId:d})},p);r.set(d,y)},[]);V.useEffect(()=>{if(i)return;let d=Date.now(),p=n.map(y=>{if(y.duration===1/0)return;let C=(y.duration||0)+y.pauseDuration-(d-y.createdAt);if(C<0){y.visible&&Xe.dismiss(y.id);return}return setTimeout(()=>Xe.dismiss(y.id,e),C)});return()=>{p.forEach(y=>y&&clearTimeout(y))}},[n,i,e]);let a=V.useCallback(fh(e),[e]),l=V.useCallback(()=>{a({type:5,time:Date.now()})},[a]),u=V.useCallback((d,p)=>{a({type:1,toast:{id:d,height:p}})},[a]),c=V.useCallback(()=>{i&&a({type:6,time:Date.now()})},[i,a]),f=V.useCallback((d,p)=>{let{reverseOrder:y=!1,gutter:C=8,defaultPosition:M}=p||{},D=n.filter(S=>(S.position||M)===(d.position||M)&&S.height),A=D.findIndex(S=>S.id===d.id),E=D.filter((S,I)=>I<A&&S.visible).length;return D.filter(S=>S.visible).slice(...y?[E+1]:[0,E]).reduce((S,I)=>S+(I.height||0)+C,0)},[n]);return V.useEffect(()=>{n.forEach(d=>{if(d.dismissed)s(d.id,d.removeDelay);else{let p=r.get(d.id);p&&(clearTimeout(p),r.delete(d.id))}})},[n,s]),{toasts:n,handlers:{updateHeight:u,startPause:l,endPause:c,calculateOffset:f}}},tC=ni`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,nC=ni`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,iC=ni`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,rC=gr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${tC} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${nC} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${iC} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,sC=ni`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,aC=gr("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${sC} 1s linear infinite;
`,oC=ni`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,lC=ni`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,uC=gr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${oC} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${lC} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,cC=gr("div")`
  position: absolute;
`,hC=gr("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,fC=ni`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,dC=gr("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${fC} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,mC=({toast:t})=>{let{icon:e,type:n,iconTheme:i}=t;return e!==void 0?typeof e=="string"?V.createElement(dC,null,e):e:n==="blank"?null:V.createElement(hC,null,V.createElement(aC,{...i}),n!=="loading"&&V.createElement(cC,null,n==="error"?V.createElement(rC,{...i}):V.createElement(uC,{...i})))},pC=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,gC=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,yC="0%{opacity:0;} 100%{opacity:1;}",_C="0%{opacity:1;} 100%{opacity:0;}",vC=gr("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,EC=gr("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,TC=(t,e)=>{let n=t.includes("top")?1:-1,[i,r]=bb()?[yC,_C]:[pC(n),gC(n)];return{animation:e?`${ni(i)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ni(r)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},bC=V.memo(({toast:t,position:e,style:n,children:i})=>{let r=t.height?TC(t.position||e||"top-center",t.visible):{opacity:0},s=V.createElement(mC,{toast:t}),a=V.createElement(EC,{...t.ariaProps},Ec(t.message,t));return V.createElement(vC,{className:t.className,style:{...r,...n,...t.style}},typeof i=="function"?i({icon:s,message:a}):V.createElement(V.Fragment,null,s,a))});G4(V.createElement);var AC=({id:t,className:e,style:n,onHeightUpdate:i,children:r})=>{let s=V.useCallback(a=>{if(a){let l=()=>{let u=a.getBoundingClientRect().height;i(t,u)};l(),new MutationObserver(l).observe(a,{subtree:!0,childList:!0,characterData:!0})}},[t,i]);return V.createElement("div",{ref:s,className:e,style:n},r)},SC=(t,e)=>{let n=t.includes("top"),i=n?{top:0}:{bottom:0},r=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:bb()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...i,...r}},wC=hh`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,uu=16,xC=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:i,children:r,toasterId:s,containerStyle:a,containerClassName:l})=>{let{toasts:u,handlers:c}=eC(n,s);return V.createElement("div",{"data-rht-toaster":s||"",style:{position:"fixed",zIndex:9999,top:uu,left:uu,right:uu,bottom:uu,pointerEvents:"none",...a},className:l,onMouseEnter:c.startPause,onMouseLeave:c.endPause},u.map(f=>{let d=f.position||e,p=c.calculateOffset(f,{reverseOrder:t,gutter:i,defaultPosition:e}),y=SC(d,p);return V.createElement(AC,{id:f.id,key:f.id,onHeightUpdate:c.updateHeight,className:f.visible?wC:"",style:y},f.type==="custom"?Ec(f.message,f):r?r(f):V.createElement(bC,{toast:f,position:d}))}))},ke=Xe;const RC=()=>{};var vv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},CC=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[n++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=t[n++],a=t[n++],l=t[n++],u=((r&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;e[i++]=String.fromCharCode(55296+(u>>10)),e[i++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],a=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|a&63)}}return e.join("")},Cb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const s=t[r],a=r+1<t.length,l=a?t[r+1]:0,u=r+2<t.length,c=u?t[r+2]:0,f=s>>2,d=(s&3)<<4|l>>4;let p=(l&15)<<2|c>>6,y=c&63;u||(y=64,a||(p=64)),i.push(n[f],n[d],n[p],n[y])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Rb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):CC(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const s=n[t.charAt(r++)],l=r<t.length?n[t.charAt(r)]:0;++r;const c=r<t.length?n[t.charAt(r)]:64;++r;const d=r<t.length?n[t.charAt(r)]:64;if(++r,s==null||l==null||c==null||d==null)throw new IC;const p=s<<2|l>>4;if(i.push(p),c!==64){const y=l<<4&240|c>>2;if(i.push(y),d!==64){const C=c<<6&192|d;i.push(C)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class IC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const NC=function(t){const e=Rb(t);return Cb.encodeByteArray(e,!0)},Tc=function(t){return NC(t).replace(/\./g,"")},Ib=function(t){try{return Cb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC=()=>DC().__FIREBASE_DEFAULTS__,MC=()=>{if(typeof process>"u"||typeof vv>"u")return;const t=vv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},VC=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Ib(t[1]);return e&&JSON.parse(e)},dh=()=>{try{return RC()||OC()||MC()||VC()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Nb=t=>{var e,n;return(n=(e=dh())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},Db=t=>{const e=Nb(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},Ob=()=>{var t;return(t=dh())==null?void 0:t.config},Mb=t=>{var e;return(e=dh())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function os(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Up(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vb(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Tc(JSON.stringify(n)),Tc(JSON.stringify(a)),""].join(".")}const No={};function kC(){const t={prod:[],emulator:[]};for(const e of Object.keys(No))No[e]?t.emulator.push(e):t.prod.push(e);return t}function LC(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Ev=!1;function jp(t,e){if(typeof window>"u"||typeof document>"u"||!os(window.location.host)||No[t]===e||No[t]||Ev)return;No[t]=e;function n(p){return`__firebase__banner__${p}`}const i="__firebase__banner",s=kC().prod.length>0;function a(){const p=document.getElementById(i);p&&p.remove()}function l(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function u(p,y){p.setAttribute("width","24"),p.setAttribute("id",y),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function c(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{Ev=!0,a()},p}function f(p,y){p.setAttribute("id",y),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function d(){const p=LC(i),y=n("text"),C=document.getElementById(y)||document.createElement("span"),M=n("learnmore"),D=document.getElementById(M)||document.createElement("a"),A=n("preprendIcon"),E=document.getElementById(A)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const S=p.element;l(S),f(D,M);const I=c();u(E,A),S.append(E,C,D,I),document.body.appendChild(S)}s?(C.innerText="Preview backend disconnected.",E.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(E.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function UC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_t())}function jC(){var e;const t=(e=dh())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function BC(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function HC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function qC(){const t=_t();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function FC(){return!jC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function GC(){try{return typeof indexedDB=="object"}catch{return!1}}function KC(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e(((s=r.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC="FirebaseError";class Mn extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=YC,Object.setPrototypeOf(this,Mn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Al.prototype.create)}}class Al{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],a=s?QC(s,i):"Error",l=`${this.serviceName}: ${a} (${r}).`;return new Mn(r,l,i)}}function QC(t,e){return t.replace($C,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const $C=/\{\$([^}]+)}/g;function XC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function $r(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const s=t[r],a=e[r];if(Tv(s)&&Tv(a)){if(!$r(s,a))return!1}else if(s!==a)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function Tv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sl(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function uo(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,s]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function co(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function JC(t,e){const n=new WC(t,e);return n.subscribe.bind(n)}class WC{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");ZC(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=Gf),r.error===void 0&&(r.error=Gf),r.complete===void 0&&(r.complete=Gf);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ZC(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Gf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qe(t){return t&&t._delegate?t._delegate:t}class rr{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new PC;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(nI(e))try{this.getOrInitializeService({instanceIdentifier:Mr})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=Mr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Mr){return this.instances.has(e)}getOptions(e=Mr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);i===l&&a.resolve(r)}return r}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),r=this.onInitCallbacks.get(i)??new Set;r.add(e),this.onInitCallbacks.set(i,r);const s=this.instances.get(i);return s&&e(s,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:tI(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Mr){return this.component?this.component.multipleInstances?e:Mr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function tI(t){return t===Mr?void 0:t}function nI(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new eI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var re;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(re||(re={}));const rI={debug:re.DEBUG,verbose:re.VERBOSE,info:re.INFO,warn:re.WARN,error:re.ERROR,silent:re.SILENT},sI=re.INFO,aI={[re.DEBUG]:"log",[re.VERBOSE]:"log",[re.INFO]:"info",[re.WARN]:"warn",[re.ERROR]:"error"},oI=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=aI[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class zp{constructor(e){this.name=e,this._logLevel=sI,this._logHandler=oI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?rI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,re.DEBUG,...e),this._logHandler(this,re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,re.VERBOSE,...e),this._logHandler(this,re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,re.INFO,...e),this._logHandler(this,re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,re.WARN,...e),this._logHandler(this,re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,re.ERROR,...e),this._logHandler(this,re.ERROR,...e)}}const lI=(t,e)=>e.some(n=>t instanceof n);let bv,Av;function uI(){return bv||(bv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cI(){return Av||(Av=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Pb=new WeakMap,sm=new WeakMap,kb=new WeakMap,Kf=new WeakMap,Bp=new WeakMap;function hI(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(Qi(t.result)),r()},a=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&Pb.set(n,t)}).catch(()=>{}),Bp.set(e,t),e}function fI(t){if(sm.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),r()},a=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});sm.set(t,e)}let am={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return sm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||kb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function dI(t){am=t(am)}function mI(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Yf(this),e,...n);return kb.set(i,e.sort?e.sort():[e]),Qi(i)}:cI().includes(t)?function(...e){return t.apply(Yf(this),e),Qi(Pb.get(this))}:function(...e){return Qi(t.apply(Yf(this),e))}}function pI(t){return typeof t=="function"?mI(t):(t instanceof IDBTransaction&&fI(t),lI(t,uI())?new Proxy(t,am):t)}function Qi(t){if(t instanceof IDBRequest)return hI(t);if(Kf.has(t))return Kf.get(t);const e=pI(t);return e!==t&&(Kf.set(t,e),Bp.set(e,t)),e}const Yf=t=>Bp.get(t);function gI(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const a=indexedDB.open(t,e),l=Qi(a);return i&&a.addEventListener("upgradeneeded",u=>{i(Qi(a.result),u.oldVersion,u.newVersion,Qi(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),r&&u.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const yI=["get","getKey","getAll","getAllKeys","count"],_I=["put","add","delete","clear"],Qf=new Map;function Sv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Qf.get(e))return Qf.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=_I.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||yI.includes(n)))return;const s=async function(a,...l){const u=this.transaction(a,r?"readwrite":"readonly");let c=u.store;return i&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),r&&u.done]))[0]};return Qf.set(e,s),s}dI(t=>({...t,get:(e,n,i)=>Sv(e,n)||t.get(e,n,i),has:(e,n)=>!!Sv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(EI(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function EI(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const om="@firebase/app",wv="0.14.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ii=new zp("@firebase/app"),TI="@firebase/app-compat",bI="@firebase/analytics-compat",AI="@firebase/analytics",SI="@firebase/app-check-compat",wI="@firebase/app-check",xI="@firebase/auth",RI="@firebase/auth-compat",CI="@firebase/database",II="@firebase/data-connect",NI="@firebase/database-compat",DI="@firebase/functions",OI="@firebase/functions-compat",MI="@firebase/installations",VI="@firebase/installations-compat",PI="@firebase/messaging",kI="@firebase/messaging-compat",LI="@firebase/performance",UI="@firebase/performance-compat",jI="@firebase/remote-config",zI="@firebase/remote-config-compat",BI="@firebase/storage",HI="@firebase/storage-compat",qI="@firebase/firestore",FI="@firebase/ai",GI="@firebase/firestore-compat",KI="firebase",YI="12.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lm="[DEFAULT]",QI={[om]:"fire-core",[TI]:"fire-core-compat",[AI]:"fire-analytics",[bI]:"fire-analytics-compat",[wI]:"fire-app-check",[SI]:"fire-app-check-compat",[xI]:"fire-auth",[RI]:"fire-auth-compat",[CI]:"fire-rtdb",[II]:"fire-data-connect",[NI]:"fire-rtdb-compat",[DI]:"fire-fn",[OI]:"fire-fn-compat",[MI]:"fire-iid",[VI]:"fire-iid-compat",[PI]:"fire-fcm",[kI]:"fire-fcm-compat",[LI]:"fire-perf",[UI]:"fire-perf-compat",[jI]:"fire-rc",[zI]:"fire-rc-compat",[BI]:"fire-gcs",[HI]:"fire-gcs-compat",[qI]:"fire-fst",[GI]:"fire-fst-compat",[FI]:"fire-vertex","fire-js":"fire-js",[KI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bc=new Map,$I=new Map,um=new Map;function xv(t,e){try{t.container.addComponent(e)}catch(n){ii.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Xr(t){const e=t.name;if(um.has(e))return ii.debug(`There were multiple attempts to register component ${e}.`),!1;um.set(e,t);for(const n of bc.values())xv(n,t);for(const n of $I.values())xv(n,t);return!0}function mh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Zt(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$i=new Al("app","Firebase",XI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new rr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $i.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls=YI;function Lb(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:lm,automaticDataCollectionEnabled:!0,...e},r=i.name;if(typeof r!="string"||!r)throw $i.create("bad-app-name",{appName:String(r)});if(n||(n=Ob()),!n)throw $i.create("no-options");const s=bc.get(r);if(s){if($r(n,s.options)&&$r(i,s.config))return s;throw $i.create("duplicate-app",{appName:r})}const a=new iI(r);for(const u of um.values())a.addComponent(u);const l=new JI(n,i,a);return bc.set(r,l),l}function Hp(t=lm){const e=bc.get(t);if(!e&&t===lm&&Ob())return Lb();if(!e)throw $i.create("no-app",{appName:t});return e}function An(t,e,n){let i=QI[t]??t;n&&(i+=`-${n}`);const r=i.match(/\s|\//),s=e.match(/\s|\//);if(r||s){const a=[`Unable to register library "${i}" with version "${e}":`];r&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ii.warn(a.join(" "));return}Xr(new rr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI="firebase-heartbeat-database",ZI=1,Wo="firebase-heartbeat-store";let $f=null;function Ub(){return $f||($f=gI(WI,ZI,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Wo)}catch(n){console.warn(n)}}}}).catch(t=>{throw $i.create("idb-open",{originalErrorMessage:t.message})})),$f}async function e3(t){try{const n=(await Ub()).transaction(Wo),i=await n.objectStore(Wo).get(jb(t));return await n.done,i}catch(e){if(e instanceof Mn)ii.warn(e.message);else{const n=$i.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ii.warn(n.message)}}}async function Rv(t,e){try{const i=(await Ub()).transaction(Wo,"readwrite");await i.objectStore(Wo).put(e,jb(t)),await i.done}catch(n){if(n instanceof Mn)ii.warn(n.message);else{const i=$i.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ii.warn(i.message)}}}function jb(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t3=1024,n3=30;class i3{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new s3(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Cv();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>n3){const a=a3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){ii.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Cv(),{heartbeatsToSend:i,unsentEntries:r}=r3(this._heartbeatsCache.heartbeats),s=Tc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return ii.warn(n),""}}}function Cv(){return new Date().toISOString().substring(0,10)}function r3(t,e=t3){const n=[];let i=t.slice();for(const r of t){const s=n.find(a=>a.agent===r.agent);if(s){if(s.dates.push(r.date),Iv(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Iv(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class s3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return GC()?KC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await e3(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Rv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Rv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Iv(t){return Tc(JSON.stringify({version:2,heartbeats:t})).length}function a3(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o3(t){Xr(new rr("platform-logger",e=>new vI(e),"PRIVATE")),Xr(new rr("heartbeat",e=>new i3(e),"PRIVATE")),An(om,wv,t),An(om,wv,"esm2020"),An("fire-js","")}o3("");function zb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const l3=zb,Bb=new Al("auth","Firebase",zb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ac=new zp("@firebase/auth");function u3(t,...e){Ac.logLevel<=re.WARN&&Ac.warn(`Auth (${ls}): ${t}`,...e)}function Vu(t,...e){Ac.logLevel<=re.ERROR&&Ac.error(`Auth (${ls}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(t,...e){throw qp(t,...e)}function Sn(t,...e){return qp(t,...e)}function Hb(t,e,n){const i={...l3(),[e]:n};return new Al("auth","Firebase",i).create(e,{appName:t.name})}function Xi(t){return Hb(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qp(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return Bb.create(t,...e)}function K(t,e,...n){if(!t)throw qp(e,...n)}function Kn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Vu(e),new Error(e)}function ri(t,e){t||Kn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cm(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function c3(){return Nv()==="http:"||Nv()==="https:"}function Nv(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(c3()||BC()||"connection"in navigator)?navigator.onLine:!0}function f3(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e,n){this.shortDelay=e,this.longDelay=n,ri(n>e,"Short delay should be less than long delay!"),this.isMobile=UC()||HC()}get(){return h3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fp(t,e){ri(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Kn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Kn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Kn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],p3=new wl(3e4,6e4);function us(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function yr(t,e,n,i,r={}){return Fb(t,r,async()=>{let s={},a={};i&&(e==="GET"?a=i:s={body:JSON.stringify(i)});const l=Sl({key:t.config.apiKey,...a}).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:u,...s};return zC()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&os(t.emulatorConfig.host)&&(c.credentials="include"),qb.fetch()(await Gb(t,t.config.apiHost,n,l),c)})}async function Fb(t,e,n){t._canInitEmulator=!1;const i={...d3,...e};try{const r=new y3(t),s=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw cu(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const l=s.ok?a.errorMessage:a.error.message,[u,c]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw cu(t,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw cu(t,"email-already-in-use",a);if(u==="USER_DISABLED")throw cu(t,"user-disabled",a);const f=i[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Hb(t,f,c);fn(t,f)}}catch(r){if(r instanceof Mn)throw r;fn(t,"network-request-failed",{message:String(r)})}}async function ph(t,e,n,i,r={}){const s=await yr(t,e,n,i,r);return"mfaPendingCredential"in s&&fn(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function Gb(t,e,n,i){const r=`${e}${n}?${i}`,s=t,a=s.config.emulator?Fp(t.config,r):`${t.config.apiScheme}://${r}`;return m3.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}function g3(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class y3{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Sn(this.auth,"network-request-failed")),p3.get())})}}function cu(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=Sn(t,e,i);return r.customData._tokenResponse=n,r}function Dv(t){return t!==void 0&&t.enterprise!==void 0}class _3{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return g3(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function v3(t,e){return yr(t,"GET","/v2/recaptchaConfig",us(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E3(t,e){return yr(t,"POST","/v1/accounts:delete",e)}async function Sc(t,e){return yr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Do(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function T3(t,e=!1){const n=Qe(t),i=await n.getIdToken(e),r=Gp(i);K(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:Do(Xf(r.auth_time)),issuedAtTime:Do(Xf(r.iat)),expirationTime:Do(Xf(r.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Xf(t){return Number(t)*1e3}function Gp(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Vu("JWT malformed, contained fewer than 3 sections"),null;try{const r=Ib(n);return r?JSON.parse(r):(Vu("Failed to decode base64 JWT payload"),null)}catch(r){return Vu("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function Ov(t){const e=Gp(t);return K(e,"internal-error"),K(typeof e.exp<"u","internal-error"),K(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zo(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Mn&&b3(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function b3({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Do(this.lastLoginAt),this.creationTime=Do(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wc(t){var d;const e=t.auth,n=await t.getIdToken(),i=await Zo(t,Sc(e,{idToken:n}));K(i==null?void 0:i.users.length,e,"internal-error");const r=i.users[0];t._notifyReloadListener(r);const s=(d=r.providerUserInfo)!=null&&d.length?Kb(r.providerUserInfo):[],a=w3(t.providerData,s),l=t.isAnonymous,u=!(t.email&&r.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,f={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new hm(r.createdAt,r.lastLoginAt),isAnonymous:c};Object.assign(t,f)}async function S3(t){const e=Qe(t);await wc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function w3(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function Kb(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x3(t,e){const n=await Fb(t,{},async()=>{const i=Sl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=t.config,a=await Gb(t,r,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:l,body:i};return t.emulatorConfig&&os(t.emulatorConfig.host)&&(u.credentials="include"),qb.fetch()(a,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function R3(t,e){return yr(t,"POST","/v2/accounts:revokeToken",us(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){K(e.idToken,"internal-error"),K(typeof e.idToken<"u","internal-error"),K(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ov(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){K(e.length!==0,"internal-error");const n=Ov(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(K(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:r,expiresIn:s}=await x3(e,n);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:r,expirationTime:s}=n,a=new Ys;return i&&(K(typeof i=="string","internal-error",{appName:e}),a.refreshToken=i),r&&(K(typeof r=="string","internal-error",{appName:e}),a.accessToken=r),s&&(K(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ys,this.toJSON())}_performRefresh(){return Kn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _i(t,e){K(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ln{constructor({uid:e,auth:n,stsTokenManager:i,...r}){this.providerId="firebase",this.proactiveRefresh=new A3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new hm(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const n=await Zo(this,this.stsTokenManager.getToken(this.auth,e));return K(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return T3(this,e)}reload(){return S3(this)}_assign(e){this!==e&&(K(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ln({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await wc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zt(this.auth.app))return Promise.reject(Xi(this.auth));const e=await this.getIdToken();return await Zo(this,E3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,r=n.email??void 0,s=n.phoneNumber??void 0,a=n.photoURL??void 0,l=n.tenantId??void 0,u=n._redirectEventId??void 0,c=n.createdAt??void 0,f=n.lastLoginAt??void 0,{uid:d,emailVerified:p,isAnonymous:y,providerData:C,stsTokenManager:M}=n;K(d&&M,e,"internal-error");const D=Ys.fromJSON(this.name,M);K(typeof d=="string",e,"internal-error"),_i(i,e.name),_i(r,e.name),K(typeof p=="boolean",e,"internal-error"),K(typeof y=="boolean",e,"internal-error"),_i(s,e.name),_i(a,e.name),_i(l,e.name),_i(u,e.name),_i(c,e.name),_i(f,e.name);const A=new ln({uid:d,auth:e,email:r,emailVerified:p,displayName:i,isAnonymous:y,photoURL:a,phoneNumber:s,tenantId:l,stsTokenManager:D,createdAt:c,lastLoginAt:f});return C&&Array.isArray(C)&&(A.providerData=C.map(E=>({...E}))),u&&(A._redirectEventId=u),A}static async _fromIdTokenResponse(e,n,i=!1){const r=new Ys;r.updateFromServerResponse(n);const s=new ln({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await wc(s),s}static async _fromGetAccountInfoResponse(e,n,i){const r=n.users[0];K(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?Kb(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),l=new Ys;l.updateFromIdToken(i);const u=new ln({uid:r.localId,auth:e,stsTokenManager:l,isAnonymous:a}),c={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new hm(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv=new Map;function Yn(t){ri(t instanceof Function,"Expected a class definition");let e=Mv.get(t);return e?(ri(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Mv.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Yb.type="NONE";const Vv=Yb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pu(t,e,n){return`firebase:${t}:${e}:${n}`}class Qs{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=Pu(this.userKey,r.apiKey,s),this.fullPersistenceKey=Pu("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Sc(this.auth,{idToken:e}).catch(()=>{});return n?ln._fromGetAccountInfoResponse(this.auth,n,e):null}return ln._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Qs(Yn(Vv),e,i);const r=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=r[0]||Yn(Vv);const a=Pu(i,e.config.apiKey,e.name);let l=null;for(const c of n)try{const f=await c._get(a);if(f){let d;if(typeof f=="string"){const p=await Sc(e,{idToken:f}).catch(()=>{});if(!p)break;d=await ln._fromGetAccountInfoResponse(e,p,f)}else d=ln._fromJSON(e,f);c!==s&&(l=d),s=c;break}}catch{}const u=r.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Qs(s,e,i):(s=u[0],l&&await s._set(a,l.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(a)}catch{}})),new Qs(s,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pv(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Jb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Qb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Zb(e))return"Blackberry";if(e2(e))return"Webos";if($b(e))return"Safari";if((e.includes("chrome/")||Xb(e))&&!e.includes("edge/"))return"Chrome";if(Wb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function Qb(t=_t()){return/firefox\//i.test(t)}function $b(t=_t()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Xb(t=_t()){return/crios\//i.test(t)}function Jb(t=_t()){return/iemobile/i.test(t)}function Wb(t=_t()){return/android/i.test(t)}function Zb(t=_t()){return/blackberry/i.test(t)}function e2(t=_t()){return/webos/i.test(t)}function Kp(t=_t()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function C3(t=_t()){var e;return Kp(t)&&!!((e=window.navigator)!=null&&e.standalone)}function I3(){return qC()&&document.documentMode===10}function t2(t=_t()){return Kp(t)||Wb(t)||e2(t)||Zb(t)||/windows phone/i.test(t)||Jb(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(t,e=[]){let n;switch(t){case"Browser":n=Pv(_t());break;case"Worker":n=`${Pv(_t())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ls}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=s=>new Promise((a,l)=>{try{const u=e(s);a(u)}catch(u){l(u)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D3(t,e={}){return yr(t,"GET","/v2/passwordPolicy",us(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O3=6;class M3{constructor(e){var i;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??O3,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=e.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new kv(this),this.idTokenSubscription=new kv(this),this.beforeStateQueue=new N3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Bb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Yn(n)),this._initializationPromise=this.queue(async()=>{var i,r,s;if(!this._deleted&&(this.persistenceManager=await Qs.create(this,e),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((r=this._popupRedirectResolver)!=null&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Sc(this,{idToken:e}),i=await ln._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(Zt(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(s=this.redirectUser)==null?void 0:s._redirectEventId,l=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!a||a===l)&&(u!=null&&u.user)&&(i=u.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return K(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await wc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=f3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Zt(this.app))return Promise.reject(Xi(this));const n=e?Qe(e):null;return n&&K(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&K(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Zt(this.app)?Promise.reject(Xi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Zt(this.app)?Promise.reject(Xi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Yn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await D3(this),n=new M3(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Al("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await R3(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Yn(e)||this._popupRedirectResolver;K(n,this,"argument-error"),this.redirectPersistenceManager=await Qs.create(this,[Yn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(K(l,this,"internal-error"),l.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,i,r);return()=>{a=!0,u()}}else{const u=e.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=n2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var r;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((r=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){var n;if(Zt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&u3(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ra(t){return Qe(t)}class kv{constructor(e){this.auth=e,this.observer=null,this.addObserver=JC(n=>this.observer=n)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function P3(t){gh=t}function i2(t){return gh.loadJS(t)}function k3(){return gh.recaptchaEnterpriseScript}function L3(){return gh.gapiScript}function U3(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class j3{constructor(){this.enterprise=new z3}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class z3{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const B3="recaptcha-enterprise",r2="NO_RECAPTCHA";class H3{constructor(e){this.type=B3,this.auth=Ra(e)}async verify(e="verify",n=!1){async function i(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,l)=>{v3(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const c=new _3(u);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,a(c.siteKey)}}).catch(u=>{l(u)})})}function r(s,a,l){const u=window.grecaptcha;Dv(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(c=>{a(c)}).catch(()=>{a(r2)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new j3().execute("siteKey",{action:"verify"}):new Promise((s,a)=>{i(this.auth).then(l=>{if(!n&&Dv(window.grecaptcha))r(l,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let u=k3();u.length!==0&&(u+=l),i2(u).then(()=>{r(l,s,a)}).catch(c=>{a(c)})}}).catch(l=>{a(l)})})}}async function Lv(t,e,n,i=!1,r=!1){const s=new H3(t);let a;if(r)a=r2;else try{a=await s.verify(n)}catch{a=await s.verify(n,!0)}const l={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const u=l.phoneEnrollmentInfo.phoneNumber,c=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const u=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return i?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function Uv(t,e,n,i,r){var s;if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await Lv(t,e,n,n==="getOobCode");return i(t,a)}else return i(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await Lv(t,e,n,n==="getOobCode");return i(t,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q3(t,e){const n=mh(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if($r(s,e??{}))return r;fn(r,"already-initialized")}return n.initialize({options:e})}function F3(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Yn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function G3(t,e,n){const i=Ra(t);K(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,s=s2(e),{host:a,port:l}=K3(e),u=l===null?"":`:${l}`,c={url:`${s}//${a}${u}/`},f=Object.freeze({host:a,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){K(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),K($r(c,i.config.emulator)&&$r(f,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=c,i.emulatorConfig=f,i.settings.appVerificationDisabledForTesting=!0,os(a)?(Up(`${s}//${a}${u}`),jp("Auth",!0)):Y3()}function s2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function K3(t){const e=s2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:jv(i.substr(s.length+1))}}else{const[s,a]=i.split(":");return{host:s,port:jv(a)}}}function jv(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Y3(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Kn("not implemented")}_getIdTokenResponse(e){return Kn("not implemented")}_linkToIdToken(e,n){return Kn("not implemented")}_getReauthenticationResolver(e){return Kn("not implemented")}}async function Q3(t,e){return yr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $3(t,e){return ph(t,"POST","/v1/accounts:signInWithPassword",us(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X3(t,e){return ph(t,"POST","/v1/accounts:signInWithEmailLink",us(t,e))}async function J3(t,e){return ph(t,"POST","/v1/accounts:signInWithEmailLink",us(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el extends Yp{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new el(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new el(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Uv(e,n,"signInWithPassword",$3);case"emailLink":return X3(e,{email:this._email,oobCode:this._password});default:fn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Uv(e,i,"signUpPassword",Q3);case"emailLink":return J3(e,{idToken:n,email:this._email,oobCode:this._password});default:fn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $s(t,e){return ph(t,"POST","/v1/accounts:signInWithIdp",us(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W3="http://localhost";class Jr extends Yp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Jr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):fn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r,...s}=n;if(!i||!r)return null;const a=new Jr(i,r);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return $s(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,$s(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,$s(e,n)}buildRequest(){const e={requestUri:W3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Sl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z3(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function eN(t){const e=uo(co(t)).link,n=e?uo(co(e)).deep_link_id:null,i=uo(co(t)).deep_link_id;return(i?uo(co(i)).link:null)||i||n||e||t}class Qp{constructor(e){const n=uo(co(e)),i=n.apiKey??null,r=n.oobCode??null,s=Z3(n.mode??null);K(i&&r&&s,"argument-error"),this.apiKey=i,this.operation=s,this.code=r,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=eN(e);try{return new Qp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(){this.providerId=Ca.PROVIDER_ID}static credential(e,n){return el._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=Qp.parseLink(n);return K(i,"argument-error"),el._fromEmailAndCode(e,i.code,i.tenantId)}}Ca.PROVIDER_ID="password";Ca.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ca.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl extends a2{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi extends xl{constructor(){super("facebook.com")}static credential(e){return Jr._fromParams({providerId:xi.PROVIDER_ID,signInMethod:xi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xi.credentialFromTaggedObject(e)}static credentialFromError(e){return xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xi.credential(e.oauthAccessToken)}catch{return null}}}xi.FACEBOOK_SIGN_IN_METHOD="facebook.com";xi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri extends xl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Jr._fromParams({providerId:Ri.PROVIDER_ID,signInMethod:Ri.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ri.credentialFromTaggedObject(e)}static credentialFromError(e){return Ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Ri.credential(n,i)}catch{return null}}}Ri.GOOGLE_SIGN_IN_METHOD="google.com";Ri.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci extends xl{constructor(){super("github.com")}static credential(e){return Jr._fromParams({providerId:Ci.PROVIDER_ID,signInMethod:Ci.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ci.credentialFromTaggedObject(e)}static credentialFromError(e){return Ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ci.credential(e.oauthAccessToken)}catch{return null}}}Ci.GITHUB_SIGN_IN_METHOD="github.com";Ci.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii extends xl{constructor(){super("twitter.com")}static credential(e,n){return Jr._fromParams({providerId:Ii.PROVIDER_ID,signInMethod:Ii.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ii.credentialFromTaggedObject(e)}static credentialFromError(e){return Ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Ii.credential(n,i)}catch{return null}}}Ii.TWITTER_SIGN_IN_METHOD="twitter.com";Ii.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,r=!1){const s=await ln._fromIdTokenResponse(e,i,r),a=zv(i);return new ca({user:s,providerId:a,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const r=zv(i);return new ca({user:e,providerId:r,_tokenResponse:i,operationType:n})}}function zv(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc extends Mn{constructor(e,n,i,r){super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,xc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new xc(e,n,i,r)}}function o2(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?xc._fromErrorAndOperation(t,s,e,i):s})}async function tN(t,e,n=!1){const i=await Zo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ca._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nN(t,e,n=!1){const{auth:i}=t;if(Zt(i.app))return Promise.reject(Xi(i));const r="reauthenticate";try{const s=await Zo(t,o2(i,r,e,t),n);K(s.idToken,i,"internal-error");const a=Gp(s.idToken);K(a,i,"internal-error");const{sub:l}=a;return K(t.uid===l,i,"user-mismatch"),ca._forOperation(t,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&fn(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l2(t,e,n=!1){if(Zt(t.app))return Promise.reject(Xi(t));const i="signIn",r=await o2(t,i,e),s=await ca._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(s.user),s}async function iN(t,e){return l2(Ra(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rN(t){const e=Ra(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function sN(t,e,n){return Zt(t.app)?Promise.reject(Xi(t)):iN(Qe(t),Ca.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&rN(t),i})}function aN(t,e,n,i){return Qe(t).onIdTokenChanged(e,n,i)}function oN(t,e,n){return Qe(t).beforeAuthStateChanged(e,n)}function lN(t,e,n,i){return Qe(t).onAuthStateChanged(e,n,i)}function uN(t){return Qe(t).signOut()}const Rc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Rc,"1"),this.storage.removeItem(Rc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN=1e3,hN=10;class c2 extends u2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=t2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&e(n,r,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,u)=>{this.notifyListeners(a,u)});return}const i=e.key;n?this.detachListener():this.stopPolling();const r=()=>{const a=this.storage.getItem(i);!n&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);I3()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,hN):r()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},cN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}c2.type="LOCAL";const fN=c2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2 extends u2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}h2.type="SESSION";const f2=h2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dN(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const i=new yh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:r,data:s}=n.data,a=this.handlersMap[r];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const l=Array.from(a).map(async c=>c(n.origin,s)),u=await dN(l);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}yh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $p(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,a;return new Promise((l,u)=>{const c=$p("",20);r.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},i);a={messageChannel:r,onMessage(d){const p=d;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(p.data.response);break;default:clearTimeout(f),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(){return window}function pN(t){wn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d2(){return typeof wn().WorkerGlobalScope<"u"&&typeof wn().importScripts=="function"}async function gN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function yN(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function _N(){return d2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2="firebaseLocalStorageDb",vN=1,Cc="firebaseLocalStorage",p2="fbase_key";class Rl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function _h(t,e){return t.transaction([Cc],e?"readwrite":"readonly").objectStore(Cc)}function EN(){const t=indexedDB.deleteDatabase(m2);return new Rl(t).toPromise()}function fm(){const t=indexedDB.open(m2,vN);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Cc,{keyPath:p2})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Cc)?e(i):(i.close(),await EN(),e(await fm()))})})}async function Bv(t,e,n){const i=_h(t,!0).put({[p2]:e,value:n});return new Rl(i).toPromise()}async function TN(t,e){const n=_h(t,!1).get(e),i=await new Rl(n).toPromise();return i===void 0?null:i.value}function Hv(t,e){const n=_h(t,!0).delete(e);return new Rl(n).toPromise()}const bN=800,AN=3;class g2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await fm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>AN)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return d2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yh._getInstance(_N()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,i;if(this.activeServiceWorker=await gN(),!this.activeServiceWorker)return;this.sender=new mN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(i=e[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||yN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await fm();return await Bv(e,Rc,"1"),await Hv(e,Rc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>Bv(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>TN(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Hv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const s=_h(r,!1).getAll();return new Rl(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:s}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),bN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}g2.type="LOCAL";const SN=g2;new wl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wN(t,e){return e?Yn(e):(K(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp extends Yp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $s(e,this._buildIdpRequest())}_linkToIdToken(e,n){return $s(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return $s(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function xN(t){return l2(t.auth,new Xp(t),t.bypassAuthState)}function RN(t){const{auth:e,user:n}=t;return K(n,e,"internal-error"),nN(n,new Xp(t),t.bypassAuthState)}async function CN(t){const{auth:e,user:n}=t;return K(n,e,"internal-error"),tN(n,new Xp(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e,n,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:a,type:l}=e;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return xN;case"linkViaPopup":case"linkViaRedirect":return CN;case"reauthViaPopup":case"reauthViaRedirect":return RN;default:fn(this.auth,"internal-error")}}resolve(e){ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN=new wl(2e3,1e4);class js extends y2{constructor(e,n,i,r,s){super(e,n,r,s),this.provider=i,this.authWindow=null,this.pollId=null,js.currentPopupAction&&js.currentPopupAction.cancel(),js.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return K(e,this.auth,"internal-error"),e}async onExecution(){ri(this.filter.length===1,"Popup operations only handle one event");const e=$p();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Sn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Sn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,js.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if((i=(n=this.authWindow)==null?void 0:n.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Sn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,IN.get())};e()}}js.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN="pendingRedirect",ku=new Map;class DN extends y2{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=ku.get(this.auth._key());if(!e){try{const i=await ON(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}ku.set(this.auth._key(),e)}return this.bypassAuthState||ku.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ON(t,e){const n=PN(e),i=VN(t);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function MN(t,e){ku.set(t._key(),e)}function VN(t){return Yn(t._redirectPersistence)}function PN(t){return Pu(NN,t.config.apiKey,t.name)}async function kN(t,e,n=!1){if(Zt(t.app))return Promise.reject(Xi(t));const i=Ra(t),r=wN(i,e),a=await new DN(i,r,n).execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN=10*60*1e3;class UN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!jN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!_2(e)){const r=((i=e.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";n.onError(Sn(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=LN&&this.cachedEventUids.clear(),this.cachedEventUids.has(qv(e))}saveEventToCache(e){this.cachedEventUids.add(qv(e)),this.lastProcessedEventTime=Date.now()}}function qv(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function _2({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function jN(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _2(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zN(t,e={}){return yr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HN=/^https?/;async function qN(t){if(t.config.emulator)return;const{authorizedDomains:e}=await zN(t);for(const n of e)try{if(FN(n))return}catch{}fn(t,"unauthorized-domain")}function FN(t){const e=cm(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===i}if(!HN.test(n))return!1;if(BN.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN=new wl(3e4,6e4);function Fv(){const t=wn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function KN(t){return new Promise((e,n)=>{var r,s,a;function i(){Fv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Fv(),n(Sn(t,"network-request-failed"))},timeout:GN.get()})}if((s=(r=wn().gapi)==null?void 0:r.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((a=wn().gapi)!=null&&a.load)i();else{const l=U3("iframefcb");return wn()[l]=()=>{gapi.load?i():n(Sn(t,"network-request-failed"))},i2(`${L3()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw Lu=null,e})}let Lu=null;function YN(t){return Lu=Lu||KN(t),Lu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN=new wl(5e3,15e3),$N="__/auth/iframe",XN="emulator/auth/iframe",JN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},WN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ZN(t){const e=t.config;K(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Fp(e,XN):`https://${t.config.authDomain}/${$N}`,i={apiKey:e.apiKey,appName:t.name,v:ls},r=WN.get(t.config.apiHost);r&&(i.eid=r);const s=t._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${Sl(i).slice(1)}`}async function e6(t){const e=await YN(t),n=wn().gapi;return K(n,t,"internal-error"),e.open({where:document.body,url:ZN(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:JN,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const a=Sn(t,"network-request-failed"),l=wn().setTimeout(()=>{s(a)},QN.get());function u(){wn().clearTimeout(l),r(i)}i.ping(u).then(u,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},n6=500,i6=600,r6="_blank",s6="http://localhost";class Gv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function a6(t,e,n,i=n6,r=i6){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let l="";const u={...t6,width:i.toString(),height:r.toString(),top:s,left:a},c=_t().toLowerCase();n&&(l=Xb(c)?r6:n),Qb(c)&&(e=e||s6,u.scrollbars="yes");const f=Object.entries(u).reduce((p,[y,C])=>`${p}${y}=${C},`,"");if(C3(c)&&l!=="_self")return o6(e||"",l),new Gv(null);const d=window.open(e||"",l,f);K(d,t,"popup-blocked");try{d.focus()}catch{}return new Gv(d)}function o6(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l6="__/auth/handler",u6="emulator/auth/handler",c6=encodeURIComponent("fac");async function Kv(t,e,n,i,r,s){K(t.config.authDomain,t,"auth-domain-config-required"),K(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:ls,eventId:r};if(e instanceof a2){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",XC(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,d]of Object.entries({}))a[f]=d}if(e instanceof xl){const f=e.getScopes().filter(d=>d!=="");f.length>0&&(a.scopes=f.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const f of Object.keys(l))l[f]===void 0&&delete l[f];const u=await t._getAppCheckToken(),c=u?`#${c6}=${encodeURIComponent(u)}`:"";return`${h6(t)}?${Sl(l).slice(1)}${c}`}function h6({config:t}){return t.emulator?Fp(t,u6):`https://${t.authDomain}/${l6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jf="webStorageSupport";class f6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=f2,this._completeRedirectFn=kN,this._overrideRedirectResult=MN}async _openPopup(e,n,i,r){var a;ri((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await Kv(e,n,i,cm(),r);return a6(e,s,$p())}async _openRedirect(e,n,i,r){await this._originValidation(e);const s=await Kv(e,n,i,cm(),r);return pN(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(ri(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await e6(e),i=new UN(e);return n.register("authEvent",r=>(K(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Jf,{type:Jf},r=>{var a;const s=(a=r==null?void 0:r[0])==null?void 0:a[Jf];s!==void 0&&n(!!s),fn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=qN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return t2()||$b()||Kp()}}const d6=f6;var Yv="@firebase/auth",Qv="1.12.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function g6(t){Xr(new rr("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=i.options;K(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const u={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:n2(t)},c=new V3(i,r,s,u);return F3(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Xr(new rr("auth-internal",e=>{const n=Ra(e.getProvider("auth").getImmediate());return(i=>new m6(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),An(Yv,Qv,p6(t)),An(Yv,Qv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y6=5*60,_6=Mb("authIdTokenMaxAge")||y6;let $v=null;const v6=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>_6)return;const r=n==null?void 0:n.token;$v!==r&&($v=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function E6(t=Hp()){const e=mh(t,"auth");if(e.isInitialized())return e.getImmediate();const n=q3(t,{popupRedirectResolver:d6,persistence:[SN,fN,f2]}),i=Mb("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const a=v6(s.toString());oN(n,a,()=>a(n.currentUser)),aN(n,l=>a(l))}}const r=Nb("auth");return r&&G3(n,`http://${r}`),n}function T6(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}P3({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{const s=Sn("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",T6().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});g6("Browser");var b6="firebase",A6="12.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */An(b6,A6,"app");var Xv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ji,v2;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,v){function b(){}b.prototype=v.prototype,T.F=v.prototype,T.prototype=new b,T.prototype.constructor=T,T.D=function(x,R,N){for(var w=Array(arguments.length-2),dt=2;dt<arguments.length;dt++)w[dt-2]=arguments[dt];return v.prototype[R].apply(x,w)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(T,v,b){b||(b=0);const x=Array(16);if(typeof v=="string")for(var R=0;R<16;++R)x[R]=v.charCodeAt(b++)|v.charCodeAt(b++)<<8|v.charCodeAt(b++)<<16|v.charCodeAt(b++)<<24;else for(R=0;R<16;++R)x[R]=v[b++]|v[b++]<<8|v[b++]<<16|v[b++]<<24;v=T.g[0],b=T.g[1],R=T.g[2];let N=T.g[3],w;w=v+(N^b&(R^N))+x[0]+3614090360&4294967295,v=b+(w<<7&4294967295|w>>>25),w=N+(R^v&(b^R))+x[1]+3905402710&4294967295,N=v+(w<<12&4294967295|w>>>20),w=R+(b^N&(v^b))+x[2]+606105819&4294967295,R=N+(w<<17&4294967295|w>>>15),w=b+(v^R&(N^v))+x[3]+3250441966&4294967295,b=R+(w<<22&4294967295|w>>>10),w=v+(N^b&(R^N))+x[4]+4118548399&4294967295,v=b+(w<<7&4294967295|w>>>25),w=N+(R^v&(b^R))+x[5]+1200080426&4294967295,N=v+(w<<12&4294967295|w>>>20),w=R+(b^N&(v^b))+x[6]+2821735955&4294967295,R=N+(w<<17&4294967295|w>>>15),w=b+(v^R&(N^v))+x[7]+4249261313&4294967295,b=R+(w<<22&4294967295|w>>>10),w=v+(N^b&(R^N))+x[8]+1770035416&4294967295,v=b+(w<<7&4294967295|w>>>25),w=N+(R^v&(b^R))+x[9]+2336552879&4294967295,N=v+(w<<12&4294967295|w>>>20),w=R+(b^N&(v^b))+x[10]+4294925233&4294967295,R=N+(w<<17&4294967295|w>>>15),w=b+(v^R&(N^v))+x[11]+2304563134&4294967295,b=R+(w<<22&4294967295|w>>>10),w=v+(N^b&(R^N))+x[12]+1804603682&4294967295,v=b+(w<<7&4294967295|w>>>25),w=N+(R^v&(b^R))+x[13]+4254626195&4294967295,N=v+(w<<12&4294967295|w>>>20),w=R+(b^N&(v^b))+x[14]+2792965006&4294967295,R=N+(w<<17&4294967295|w>>>15),w=b+(v^R&(N^v))+x[15]+1236535329&4294967295,b=R+(w<<22&4294967295|w>>>10),w=v+(R^N&(b^R))+x[1]+4129170786&4294967295,v=b+(w<<5&4294967295|w>>>27),w=N+(b^R&(v^b))+x[6]+3225465664&4294967295,N=v+(w<<9&4294967295|w>>>23),w=R+(v^b&(N^v))+x[11]+643717713&4294967295,R=N+(w<<14&4294967295|w>>>18),w=b+(N^v&(R^N))+x[0]+3921069994&4294967295,b=R+(w<<20&4294967295|w>>>12),w=v+(R^N&(b^R))+x[5]+3593408605&4294967295,v=b+(w<<5&4294967295|w>>>27),w=N+(b^R&(v^b))+x[10]+38016083&4294967295,N=v+(w<<9&4294967295|w>>>23),w=R+(v^b&(N^v))+x[15]+3634488961&4294967295,R=N+(w<<14&4294967295|w>>>18),w=b+(N^v&(R^N))+x[4]+3889429448&4294967295,b=R+(w<<20&4294967295|w>>>12),w=v+(R^N&(b^R))+x[9]+568446438&4294967295,v=b+(w<<5&4294967295|w>>>27),w=N+(b^R&(v^b))+x[14]+3275163606&4294967295,N=v+(w<<9&4294967295|w>>>23),w=R+(v^b&(N^v))+x[3]+4107603335&4294967295,R=N+(w<<14&4294967295|w>>>18),w=b+(N^v&(R^N))+x[8]+1163531501&4294967295,b=R+(w<<20&4294967295|w>>>12),w=v+(R^N&(b^R))+x[13]+2850285829&4294967295,v=b+(w<<5&4294967295|w>>>27),w=N+(b^R&(v^b))+x[2]+4243563512&4294967295,N=v+(w<<9&4294967295|w>>>23),w=R+(v^b&(N^v))+x[7]+1735328473&4294967295,R=N+(w<<14&4294967295|w>>>18),w=b+(N^v&(R^N))+x[12]+2368359562&4294967295,b=R+(w<<20&4294967295|w>>>12),w=v+(b^R^N)+x[5]+4294588738&4294967295,v=b+(w<<4&4294967295|w>>>28),w=N+(v^b^R)+x[8]+2272392833&4294967295,N=v+(w<<11&4294967295|w>>>21),w=R+(N^v^b)+x[11]+1839030562&4294967295,R=N+(w<<16&4294967295|w>>>16),w=b+(R^N^v)+x[14]+4259657740&4294967295,b=R+(w<<23&4294967295|w>>>9),w=v+(b^R^N)+x[1]+2763975236&4294967295,v=b+(w<<4&4294967295|w>>>28),w=N+(v^b^R)+x[4]+1272893353&4294967295,N=v+(w<<11&4294967295|w>>>21),w=R+(N^v^b)+x[7]+4139469664&4294967295,R=N+(w<<16&4294967295|w>>>16),w=b+(R^N^v)+x[10]+3200236656&4294967295,b=R+(w<<23&4294967295|w>>>9),w=v+(b^R^N)+x[13]+681279174&4294967295,v=b+(w<<4&4294967295|w>>>28),w=N+(v^b^R)+x[0]+3936430074&4294967295,N=v+(w<<11&4294967295|w>>>21),w=R+(N^v^b)+x[3]+3572445317&4294967295,R=N+(w<<16&4294967295|w>>>16),w=b+(R^N^v)+x[6]+76029189&4294967295,b=R+(w<<23&4294967295|w>>>9),w=v+(b^R^N)+x[9]+3654602809&4294967295,v=b+(w<<4&4294967295|w>>>28),w=N+(v^b^R)+x[12]+3873151461&4294967295,N=v+(w<<11&4294967295|w>>>21),w=R+(N^v^b)+x[15]+530742520&4294967295,R=N+(w<<16&4294967295|w>>>16),w=b+(R^N^v)+x[2]+3299628645&4294967295,b=R+(w<<23&4294967295|w>>>9),w=v+(R^(b|~N))+x[0]+4096336452&4294967295,v=b+(w<<6&4294967295|w>>>26),w=N+(b^(v|~R))+x[7]+1126891415&4294967295,N=v+(w<<10&4294967295|w>>>22),w=R+(v^(N|~b))+x[14]+2878612391&4294967295,R=N+(w<<15&4294967295|w>>>17),w=b+(N^(R|~v))+x[5]+4237533241&4294967295,b=R+(w<<21&4294967295|w>>>11),w=v+(R^(b|~N))+x[12]+1700485571&4294967295,v=b+(w<<6&4294967295|w>>>26),w=N+(b^(v|~R))+x[3]+2399980690&4294967295,N=v+(w<<10&4294967295|w>>>22),w=R+(v^(N|~b))+x[10]+4293915773&4294967295,R=N+(w<<15&4294967295|w>>>17),w=b+(N^(R|~v))+x[1]+2240044497&4294967295,b=R+(w<<21&4294967295|w>>>11),w=v+(R^(b|~N))+x[8]+1873313359&4294967295,v=b+(w<<6&4294967295|w>>>26),w=N+(b^(v|~R))+x[15]+4264355552&4294967295,N=v+(w<<10&4294967295|w>>>22),w=R+(v^(N|~b))+x[6]+2734768916&4294967295,R=N+(w<<15&4294967295|w>>>17),w=b+(N^(R|~v))+x[13]+1309151649&4294967295,b=R+(w<<21&4294967295|w>>>11),w=v+(R^(b|~N))+x[4]+4149444226&4294967295,v=b+(w<<6&4294967295|w>>>26),w=N+(b^(v|~R))+x[11]+3174756917&4294967295,N=v+(w<<10&4294967295|w>>>22),w=R+(v^(N|~b))+x[2]+718787259&4294967295,R=N+(w<<15&4294967295|w>>>17),w=b+(N^(R|~v))+x[9]+3951481745&4294967295,T.g[0]=T.g[0]+v&4294967295,T.g[1]=T.g[1]+(R+(w<<21&4294967295|w>>>11))&4294967295,T.g[2]=T.g[2]+R&4294967295,T.g[3]=T.g[3]+N&4294967295}i.prototype.v=function(T,v){v===void 0&&(v=T.length);const b=v-this.blockSize,x=this.C;let R=this.h,N=0;for(;N<v;){if(R==0)for(;N<=b;)r(this,T,N),N+=this.blockSize;if(typeof T=="string"){for(;N<v;)if(x[R++]=T.charCodeAt(N++),R==this.blockSize){r(this,x),R=0;break}}else for(;N<v;)if(x[R++]=T[N++],R==this.blockSize){r(this,x),R=0;break}}this.h=R,this.o+=v},i.prototype.A=function(){var T=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);T[0]=128;for(var v=1;v<T.length-8;++v)T[v]=0;v=this.o*8;for(var b=T.length-8;b<T.length;++b)T[b]=v&255,v/=256;for(this.v(T),T=Array(16),v=0,b=0;b<4;++b)for(let x=0;x<32;x+=8)T[v++]=this.g[b]>>>x&255;return T};function s(T,v){var b=l;return Object.prototype.hasOwnProperty.call(b,T)?b[T]:b[T]=v(T)}function a(T,v){this.h=v;const b=[];let x=!0;for(let R=T.length-1;R>=0;R--){const N=T[R]|0;x&&N==v||(b[R]=N,x=!1)}this.g=b}var l={};function u(T){return-128<=T&&T<128?s(T,function(v){return new a([v|0],v<0?-1:0)}):new a([T|0],T<0?-1:0)}function c(T){if(isNaN(T)||!isFinite(T))return d;if(T<0)return D(c(-T));const v=[];let b=1;for(let x=0;T>=b;x++)v[x]=T/b|0,b*=4294967296;return new a(v,0)}function f(T,v){if(T.length==0)throw Error("number format error: empty string");if(v=v||10,v<2||36<v)throw Error("radix out of range: "+v);if(T.charAt(0)=="-")return D(f(T.substring(1),v));if(T.indexOf("-")>=0)throw Error('number format error: interior "-" character');const b=c(Math.pow(v,8));let x=d;for(let N=0;N<T.length;N+=8){var R=Math.min(8,T.length-N);const w=parseInt(T.substring(N,N+R),v);R<8?(R=c(Math.pow(v,R)),x=x.j(R).add(c(w))):(x=x.j(b),x=x.add(c(w)))}return x}var d=u(0),p=u(1),y=u(16777216);t=a.prototype,t.m=function(){if(M(this))return-D(this).m();let T=0,v=1;for(let b=0;b<this.g.length;b++){const x=this.i(b);T+=(x>=0?x:4294967296+x)*v,v*=4294967296}return T},t.toString=function(T){if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(C(this))return"0";if(M(this))return"-"+D(this).toString(T);const v=c(Math.pow(T,6));var b=this;let x="";for(;;){const R=I(b,v).g;b=A(b,R.j(v));let N=((b.g.length>0?b.g[0]:b.h)>>>0).toString(T);if(b=R,C(b))return N+x;for(;N.length<6;)N="0"+N;x=N+x}},t.i=function(T){return T<0?0:T<this.g.length?this.g[T]:this.h};function C(T){if(T.h!=0)return!1;for(let v=0;v<T.g.length;v++)if(T.g[v]!=0)return!1;return!0}function M(T){return T.h==-1}t.l=function(T){return T=A(this,T),M(T)?-1:C(T)?0:1};function D(T){const v=T.g.length,b=[];for(let x=0;x<v;x++)b[x]=~T.g[x];return new a(b,~T.h).add(p)}t.abs=function(){return M(this)?D(this):this},t.add=function(T){const v=Math.max(this.g.length,T.g.length),b=[];let x=0;for(let R=0;R<=v;R++){let N=x+(this.i(R)&65535)+(T.i(R)&65535),w=(N>>>16)+(this.i(R)>>>16)+(T.i(R)>>>16);x=w>>>16,N&=65535,w&=65535,b[R]=w<<16|N}return new a(b,b[b.length-1]&-2147483648?-1:0)};function A(T,v){return T.add(D(v))}t.j=function(T){if(C(this)||C(T))return d;if(M(this))return M(T)?D(this).j(D(T)):D(D(this).j(T));if(M(T))return D(this.j(D(T)));if(this.l(y)<0&&T.l(y)<0)return c(this.m()*T.m());const v=this.g.length+T.g.length,b=[];for(var x=0;x<2*v;x++)b[x]=0;for(x=0;x<this.g.length;x++)for(let R=0;R<T.g.length;R++){const N=this.i(x)>>>16,w=this.i(x)&65535,dt=T.i(R)>>>16,sn=T.i(R)&65535;b[2*x+2*R]+=w*sn,E(b,2*x+2*R),b[2*x+2*R+1]+=N*sn,E(b,2*x+2*R+1),b[2*x+2*R+1]+=w*dt,E(b,2*x+2*R+1),b[2*x+2*R+2]+=N*dt,E(b,2*x+2*R+2)}for(T=0;T<v;T++)b[T]=b[2*T+1]<<16|b[2*T];for(T=v;T<2*v;T++)b[T]=0;return new a(b,0)};function E(T,v){for(;(T[v]&65535)!=T[v];)T[v+1]+=T[v]>>>16,T[v]&=65535,v++}function S(T,v){this.g=T,this.h=v}function I(T,v){if(C(v))throw Error("division by zero");if(C(T))return new S(d,d);if(M(T))return v=I(D(T),v),new S(D(v.g),D(v.h));if(M(v))return v=I(T,D(v)),new S(D(v.g),v.h);if(T.g.length>30){if(M(T)||M(v))throw Error("slowDivide_ only works with positive integers.");for(var b=p,x=v;x.l(T)<=0;)b=k(b),x=k(x);var R=H(b,1),N=H(x,1);for(x=H(x,2),b=H(b,2);!C(x);){var w=N.add(x);w.l(T)<=0&&(R=R.add(b),N=w),x=H(x,1),b=H(b,1)}return v=A(T,R.j(v)),new S(R,v)}for(R=d;T.l(v)>=0;){for(b=Math.max(1,Math.floor(T.m()/v.m())),x=Math.ceil(Math.log(b)/Math.LN2),x=x<=48?1:Math.pow(2,x-48),N=c(b),w=N.j(v);M(w)||w.l(T)>0;)b-=x,N=c(b),w=N.j(v);C(N)&&(N=p),R=R.add(N),T=A(T,w)}return new S(R,T)}t.B=function(T){return I(this,T).h},t.and=function(T){const v=Math.max(this.g.length,T.g.length),b=[];for(let x=0;x<v;x++)b[x]=this.i(x)&T.i(x);return new a(b,this.h&T.h)},t.or=function(T){const v=Math.max(this.g.length,T.g.length),b=[];for(let x=0;x<v;x++)b[x]=this.i(x)|T.i(x);return new a(b,this.h|T.h)},t.xor=function(T){const v=Math.max(this.g.length,T.g.length),b=[];for(let x=0;x<v;x++)b[x]=this.i(x)^T.i(x);return new a(b,this.h^T.h)};function k(T){const v=T.g.length+1,b=[];for(let x=0;x<v;x++)b[x]=T.i(x)<<1|T.i(x-1)>>>31;return new a(b,T.h)}function H(T,v){const b=v>>5;v%=32;const x=T.g.length-b,R=[];for(let N=0;N<x;N++)R[N]=v>0?T.i(N+b)>>>v|T.i(N+b+1)<<32-v:T.i(N+b);return new a(R,T.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,v2=i,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=c,a.fromString=f,Ji=a}).apply(typeof Xv<"u"?Xv:typeof self<"u"?self:typeof window<"u"?window:{});var hu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var E2,ho,T2,Uu,dm,b2,A2,S2;(function(){var t,e=Object.defineProperty;function n(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof hu=="object"&&hu];for(var h=0;h<o.length;++h){var m=o[h];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var i=n(this);function r(o,h){if(h)e:{var m=i;o=o.split(".");for(var _=0;_<o.length-1;_++){var O=o[_];if(!(O in m))break e;m=m[O]}o=o[o.length-1],_=m[o],h=h(_),h!=_&&h!=null&&e(m,o,{configurable:!0,writable:!0,value:h})}}r("Symbol.dispose",function(o){return o||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(o){return o||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(o){return o||function(h){var m=[],_;for(_ in h)Object.prototype.hasOwnProperty.call(h,_)&&m.push([_,h[_]]);return m}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(o){var h=typeof o;return h=="object"&&o!=null||h=="function"}function u(o,h,m){return o.call.apply(o.bind,arguments)}function c(o,h,m){return c=u,c.apply(null,arguments)}function f(o,h){var m=Array.prototype.slice.call(arguments,1);return function(){var _=m.slice();return _.push.apply(_,arguments),o.apply(this,_)}}function d(o,h){function m(){}m.prototype=h.prototype,o.Z=h.prototype,o.prototype=new m,o.prototype.constructor=o,o.Ob=function(_,O,P){for(var z=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)z[ee-2]=arguments[ee];return h.prototype[O].apply(_,z)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?o=>o&&AsyncContext.Snapshot.wrap(o):o=>o;function y(o){const h=o.length;if(h>0){const m=Array(h);for(let _=0;_<h;_++)m[_]=o[_];return m}return[]}function C(o,h){for(let _=1;_<arguments.length;_++){const O=arguments[_];var m=typeof O;if(m=m!="object"?m:O?Array.isArray(O)?"array":m:"null",m=="array"||m=="object"&&typeof O.length=="number"){m=o.length||0;const P=O.length||0;o.length=m+P;for(let z=0;z<P;z++)o[m+z]=O[z]}else o.push(O)}}class M{constructor(h,m){this.i=h,this.j=m,this.h=0,this.g=null}get(){let h;return this.h>0?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function D(o){a.setTimeout(()=>{throw o},0)}function A(){var o=T;let h=null;return o.g&&(h=o.g,o.g=o.g.next,o.g||(o.h=null),h.next=null),h}class E{constructor(){this.h=this.g=null}add(h,m){const _=S.get();_.set(h,m),this.h?this.h.next=_:this.g=_,this.h=_}}var S=new M(()=>new I,o=>o.reset());class I{constructor(){this.next=this.g=this.h=null}set(h,m){this.h=h,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let k,H=!1,T=new E,v=()=>{const o=Promise.resolve(void 0);k=()=>{o.then(b)}};function b(){for(var o;o=A();){try{o.h.call(o.g)}catch(m){D(m)}var h=S;h.j(o),h.h<100&&(h.h++,o.next=h.g,h.g=o)}H=!1}function x(){this.u=this.u,this.C=this.C}x.prototype.u=!1,x.prototype.dispose=function(){this.u||(this.u=!0,this.N())},x.prototype[Symbol.dispose]=function(){this.dispose()},x.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function R(o,h){this.type=o,this.g=this.target=h,this.defaultPrevented=!1}R.prototype.h=function(){this.defaultPrevented=!0};var N=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var o=!1,h=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const m=()=>{};a.addEventListener("test",m,h),a.removeEventListener("test",m,h)}catch{}return o}();function w(o){return/^[\s\xa0]*$/.test(o)}function dt(o,h){R.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o&&this.init(o,h)}d(dt,R),dt.prototype.init=function(o,h){const m=this.type=o.type,_=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;this.target=o.target||o.srcElement,this.g=h,h=o.relatedTarget,h||(m=="mouseover"?h=o.fromElement:m=="mouseout"&&(h=o.toElement)),this.relatedTarget=h,_?(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=o.pointerType,this.state=o.state,this.i=o,o.defaultPrevented&&dt.Z.h.call(this)},dt.prototype.h=function(){dt.Z.h.call(this);const o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var sn="closure_listenable_"+(Math.random()*1e6|0),q=0;function te(o,h,m,_,O){this.listener=o,this.proxy=null,this.src=h,this.type=m,this.capture=!!_,this.ha=O,this.key=++q,this.da=this.fa=!1}function J(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function Ee(o,h,m){for(const _ in o)h.call(m,o[_],_,o)}function je(o,h){for(const m in o)h.call(void 0,o[m],m,o)}function Er(o){const h={};for(const m in o)h[m]=o[m];return h}const Tr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ds(o,h){let m,_;for(let O=1;O<arguments.length;O++){_=arguments[O];for(m in _)o[m]=_[m];for(let P=0;P<Tr.length;P++)m=Tr[P],Object.prototype.hasOwnProperty.call(_,m)&&(o[m]=_[m])}}function Gt(o){this.src=o,this.g={},this.h=0}Gt.prototype.add=function(o,h,m,_,O){const P=o.toString();o=this.g[P],o||(o=this.g[P]=[],this.h++);const z=Lh(o,h,_,O);return z>-1?(h=o[z],m||(h.fa=!1)):(h=new te(h,this.src,P,!!_,O),h.fa=m,o.push(h)),h};function ci(o,h){const m=h.type;if(m in o.g){var _=o.g[m],O=Array.prototype.indexOf.call(_,h,void 0),P;(P=O>=0)&&Array.prototype.splice.call(_,O,1),P&&(J(h),o.g[m].length==0&&(delete o.g[m],o.h--))}}function Lh(o,h,m,_){for(let O=0;O<o.length;++O){const P=o[O];if(!P.da&&P.listener==h&&P.capture==!!m&&P.ha==_)return O}return-1}var Uh="closure_lm_"+(Math.random()*1e6|0),jh={};function Lg(o,h,m,_,O){if(Array.isArray(h)){for(let P=0;P<h.length;P++)Lg(o,h[P],m,_,O);return null}return m=zg(m),o&&o[sn]?o.J(h,m,l(_)?!!_.capture:!1,O):rS(o,h,m,!1,_,O)}function rS(o,h,m,_,O,P){if(!h)throw Error("Invalid event type");const z=l(O)?!!O.capture:!!O;let ee=Bh(o);if(ee||(o[Uh]=ee=new Gt(o)),m=ee.add(h,m,_,z,P),m.proxy)return m;if(_=sS(),m.proxy=_,_.src=o,_.listener=m,o.addEventListener)N||(O=z),O===void 0&&(O=!1),o.addEventListener(h.toString(),_,O);else if(o.attachEvent)o.attachEvent(jg(h.toString()),_);else if(o.addListener&&o.removeListener)o.addListener(_);else throw Error("addEventListener and attachEvent are unavailable.");return m}function sS(){function o(m){return h.call(o.src,o.listener,m)}const h=aS;return o}function Ug(o,h,m,_,O){if(Array.isArray(h))for(var P=0;P<h.length;P++)Ug(o,h[P],m,_,O);else _=l(_)?!!_.capture:!!_,m=zg(m),o&&o[sn]?(o=o.i,P=String(h).toString(),P in o.g&&(h=o.g[P],m=Lh(h,m,_,O),m>-1&&(J(h[m]),Array.prototype.splice.call(h,m,1),h.length==0&&(delete o.g[P],o.h--)))):o&&(o=Bh(o))&&(h=o.g[h.toString()],o=-1,h&&(o=Lh(h,m,_,O)),(m=o>-1?h[o]:null)&&zh(m))}function zh(o){if(typeof o!="number"&&o&&!o.da){var h=o.src;if(h&&h[sn])ci(h.i,o);else{var m=o.type,_=o.proxy;h.removeEventListener?h.removeEventListener(m,_,o.capture):h.detachEvent?h.detachEvent(jg(m),_):h.addListener&&h.removeListener&&h.removeListener(_),(m=Bh(h))?(ci(m,o),m.h==0&&(m.src=null,h[Uh]=null)):J(o)}}}function jg(o){return o in jh?jh[o]:jh[o]="on"+o}function aS(o,h){if(o.da)o=!0;else{h=new dt(h,this);const m=o.listener,_=o.ha||o.src;o.fa&&zh(o),o=m.call(_,h)}return o}function Bh(o){return o=o[Uh],o instanceof Gt?o:null}var Hh="__closure_events_fn_"+(Math.random()*1e9>>>0);function zg(o){return typeof o=="function"?o:(o[Hh]||(o[Hh]=function(h){return o.handleEvent(h)}),o[Hh])}function mt(){x.call(this),this.i=new Gt(this),this.M=this,this.G=null}d(mt,x),mt.prototype[sn]=!0,mt.prototype.removeEventListener=function(o,h,m,_){Ug(this,o,h,m,_)};function vt(o,h){var m,_=o.G;if(_)for(m=[];_;_=_.G)m.push(_);if(o=o.M,_=h.type||h,typeof h=="string")h=new R(h,o);else if(h instanceof R)h.target=h.target||o;else{var O=h;h=new R(_,o),ds(h,O)}O=!0;let P,z;if(m)for(z=m.length-1;z>=0;z--)P=h.g=m[z],O=Pl(P,_,!0,h)&&O;if(P=h.g=o,O=Pl(P,_,!0,h)&&O,O=Pl(P,_,!1,h)&&O,m)for(z=0;z<m.length;z++)P=h.g=m[z],O=Pl(P,_,!1,h)&&O}mt.prototype.N=function(){if(mt.Z.N.call(this),this.i){var o=this.i;for(const h in o.g){const m=o.g[h];for(let _=0;_<m.length;_++)J(m[_]);delete o.g[h],o.h--}}this.G=null},mt.prototype.J=function(o,h,m,_){return this.i.add(String(o),h,!1,m,_)},mt.prototype.K=function(o,h,m,_){return this.i.add(String(o),h,!0,m,_)};function Pl(o,h,m,_){if(h=o.i.g[String(h)],!h)return!0;h=h.concat();let O=!0;for(let P=0;P<h.length;++P){const z=h[P];if(z&&!z.da&&z.capture==m){const ee=z.listener,$e=z.ha||z.src;z.fa&&ci(o.i,z),O=ee.call($e,_)!==!1&&O}}return O&&!_.defaultPrevented}function oS(o,h){if(typeof o!="function")if(o&&typeof o.handleEvent=="function")o=c(o.handleEvent,o);else throw Error("Invalid listener argument");return Number(h)>2147483647?-1:a.setTimeout(o,h||0)}function Bg(o){o.g=oS(()=>{o.g=null,o.i&&(o.i=!1,Bg(o))},o.l);const h=o.h;o.h=null,o.m.apply(null,h)}class lS extends x{constructor(h,m){super(),this.m=h,this.l=m,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:Bg(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Va(o){x.call(this),this.h=o,this.g={}}d(Va,x);var Hg=[];function qg(o){Ee(o.g,function(h,m){this.g.hasOwnProperty(m)&&zh(h)},o),o.g={}}Va.prototype.N=function(){Va.Z.N.call(this),qg(this)},Va.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qh=a.JSON.stringify,uS=a.JSON.parse,cS=class{stringify(o){return a.JSON.stringify(o,void 0)}parse(o){return a.JSON.parse(o,void 0)}};function Fg(){}function Gg(){}var Pa={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Fh(){R.call(this,"d")}d(Fh,R);function Gh(){R.call(this,"c")}d(Gh,R);var br={},Kg=null;function kl(){return Kg=Kg||new mt}br.Ia="serverreachability";function Yg(o){R.call(this,br.Ia,o)}d(Yg,R);function ka(o){const h=kl();vt(h,new Yg(h))}br.STAT_EVENT="statevent";function Qg(o,h){R.call(this,br.STAT_EVENT,o),this.stat=h}d(Qg,R);function Et(o){const h=kl();vt(h,new Qg(h,o))}br.Ja="timingevent";function $g(o,h){R.call(this,br.Ja,o),this.size=h}d($g,R);function La(o,h){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){o()},h)}function Ua(){this.g=!0}Ua.prototype.ua=function(){this.g=!1};function hS(o,h,m,_,O,P){o.info(function(){if(o.g)if(P){var z="",ee=P.split("&");for(let ye=0;ye<ee.length;ye++){var $e=ee[ye].split("=");if($e.length>1){const et=$e[0];$e=$e[1];const gn=et.split("_");z=gn.length>=2&&gn[1]=="type"?z+(et+"="+$e+"&"):z+(et+"=redacted&")}}}else z=null;else z=P;return"XMLHTTP REQ ("+_+") [attempt "+O+"]: "+h+`
`+m+`
`+z})}function fS(o,h,m,_,O,P,z){o.info(function(){return"XMLHTTP RESP ("+_+") [ attempt "+O+"]: "+h+`
`+m+`
`+P+" "+z})}function ms(o,h,m,_){o.info(function(){return"XMLHTTP TEXT ("+h+"): "+mS(o,m)+(_?" "+_:"")})}function dS(o,h){o.info(function(){return"TIMEOUT: "+h})}Ua.prototype.info=function(){};function mS(o,h){if(!o.g)return h;if(!h)return null;try{const P=JSON.parse(h);if(P){for(o=0;o<P.length;o++)if(Array.isArray(P[o])){var m=P[o];if(!(m.length<2)){var _=m[1];if(Array.isArray(_)&&!(_.length<1)){var O=_[0];if(O!="noop"&&O!="stop"&&O!="close")for(let z=1;z<_.length;z++)_[z]=""}}}}return qh(P)}catch{return h}}var Ll={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Xg={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Jg;function Kh(){}d(Kh,Fg),Kh.prototype.g=function(){return new XMLHttpRequest},Jg=new Kh;function ja(o){return encodeURIComponent(String(o))}function pS(o){var h=1;o=o.split(":");const m=[];for(;h>0&&o.length;)m.push(o.shift()),h--;return o.length&&m.push(o.join(":")),m}function hi(o,h,m,_){this.j=o,this.i=h,this.l=m,this.S=_||1,this.V=new Va(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Wg}function Wg(){this.i=null,this.g="",this.h=!1}var Zg={},Yh={};function Qh(o,h,m){o.M=1,o.A=jl(pn(h)),o.u=m,o.R=!0,ey(o,null)}function ey(o,h){o.F=Date.now(),Ul(o),o.B=pn(o.A);var m=o.B,_=o.S;Array.isArray(_)||(_=[String(_)]),dy(m.i,"t",_),o.C=0,m=o.j.L,o.h=new Wg,o.g=Dy(o.j,m?h:null,!o.u),o.P>0&&(o.O=new lS(c(o.Y,o,o.g),o.P)),h=o.V,m=o.g,_=o.ba;var O="readystatechange";Array.isArray(O)||(O&&(Hg[0]=O.toString()),O=Hg);for(let P=0;P<O.length;P++){const z=Lg(m,O[P],_||h.handleEvent,!1,h.h||h);if(!z)break;h.g[z.key]=z}h=o.J?Er(o.J):{},o.u?(o.v||(o.v="POST"),h["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.B,o.v,o.u,h)):(o.v="GET",o.g.ea(o.B,o.v,null,h)),ka(),hS(o.i,o.v,o.B,o.l,o.S,o.u)}hi.prototype.ba=function(o){o=o.target;const h=this.O;h&&mi(o)==3?h.j():this.Y(o)},hi.prototype.Y=function(o){try{if(o==this.g)e:{const ee=mi(this.g),$e=this.g.ya(),ye=this.g.ca();if(!(ee<3)&&(ee!=3||this.g&&(this.h.h||this.g.la()||Ey(this.g)))){this.K||ee!=4||$e==7||($e==8||ye<=0?ka(3):ka(2)),$h(this);var h=this.g.ca();this.X=h;var m=gS(this);if(this.o=h==200,fS(this.i,this.v,this.B,this.l,this.S,ee,h),this.o){if(this.U&&!this.L){t:{if(this.g){var _,O=this.g;if((_=O.g?O.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(_)){var P=_;break t}}P=null}if(o=P)ms(this.i,this.l,o,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Xh(this,o);else{this.o=!1,this.m=3,Et(12),Ar(this),za(this);break e}}if(this.R){o=!0;let et;for(;!this.K&&this.C<m.length;)if(et=yS(this,m),et==Yh){ee==4&&(this.m=4,Et(14),o=!1),ms(this.i,this.l,null,"[Incomplete Response]");break}else if(et==Zg){this.m=4,Et(15),ms(this.i,this.l,m,"[Invalid Chunk]"),o=!1;break}else ms(this.i,this.l,et,null),Xh(this,et);if(ty(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ee!=4||m.length!=0||this.h.h||(this.m=1,Et(16),o=!1),this.o=this.o&&o,!o)ms(this.i,this.l,m,"[Invalid Chunked Response]"),Ar(this),za(this);else if(m.length>0&&!this.W){this.W=!0;var z=this.j;z.g==this&&z.aa&&!z.P&&(z.j.info("Great, no buffering proxy detected. Bytes received: "+m.length),sf(z),z.P=!0,Et(11))}}else ms(this.i,this.l,m,null),Xh(this,m);ee==4&&Ar(this),this.o&&!this.K&&(ee==4?Ry(this.j,this):(this.o=!1,Ul(this)))}else DS(this.g),h==400&&m.indexOf("Unknown SID")>0?(this.m=3,Et(12)):(this.m=0,Et(13)),Ar(this),za(this)}}}catch{}finally{}};function gS(o){if(!ty(o))return o.g.la();const h=Ey(o.g);if(h==="")return"";let m="";const _=h.length,O=mi(o.g)==4;if(!o.h.i){if(typeof TextDecoder>"u")return Ar(o),za(o),"";o.h.i=new a.TextDecoder}for(let P=0;P<_;P++)o.h.h=!0,m+=o.h.i.decode(h[P],{stream:!(O&&P==_-1)});return h.length=0,o.h.g+=m,o.C=0,o.h.g}function ty(o){return o.g?o.v=="GET"&&o.M!=2&&o.j.Aa:!1}function yS(o,h){var m=o.C,_=h.indexOf(`
`,m);return _==-1?Yh:(m=Number(h.substring(m,_)),isNaN(m)?Zg:(_+=1,_+m>h.length?Yh:(h=h.slice(_,_+m),o.C=_+m,h)))}hi.prototype.cancel=function(){this.K=!0,Ar(this)};function Ul(o){o.T=Date.now()+o.H,ny(o,o.H)}function ny(o,h){if(o.D!=null)throw Error("WatchDog timer not null");o.D=La(c(o.aa,o),h)}function $h(o){o.D&&(a.clearTimeout(o.D),o.D=null)}hi.prototype.aa=function(){this.D=null;const o=Date.now();o-this.T>=0?(dS(this.i,this.B),this.M!=2&&(ka(),Et(17)),Ar(this),this.m=2,za(this)):ny(this,this.T-o)};function za(o){o.j.I==0||o.K||Ry(o.j,o)}function Ar(o){$h(o);var h=o.O;h&&typeof h.dispose=="function"&&h.dispose(),o.O=null,qg(o.V),o.g&&(h=o.g,o.g=null,h.abort(),h.dispose())}function Xh(o,h){try{var m=o.j;if(m.I!=0&&(m.g==o||Jh(m.h,o))){if(!o.L&&Jh(m.h,o)&&m.I==3){try{var _=m.Ba.g.parse(h)}catch{_=null}if(Array.isArray(_)&&_.length==3){var O=_;if(O[0]==0){e:if(!m.v){if(m.g)if(m.g.F+3e3<o.F)Fl(m),Hl(m);else break e;rf(m),Et(18)}}else m.xa=O[1],0<m.xa-m.K&&O[2]<37500&&m.F&&m.A==0&&!m.C&&(m.C=La(c(m.Va,m),6e3));sy(m.h)<=1&&m.ta&&(m.ta=void 0)}else wr(m,11)}else if((o.L||m.g==o)&&Fl(m),!w(h))for(O=m.Ba.g.parse(h),h=0;h<O.length;h++){let ye=O[h];const et=ye[0];if(!(et<=m.K))if(m.K=et,ye=ye[1],m.I==2)if(ye[0]=="c"){m.M=ye[1],m.ba=ye[2];const gn=ye[3];gn!=null&&(m.ka=gn,m.j.info("VER="+m.ka));const xr=ye[4];xr!=null&&(m.za=xr,m.j.info("SVER="+m.za));const pi=ye[5];pi!=null&&typeof pi=="number"&&pi>0&&(_=1.5*pi,m.O=_,m.j.info("backChannelRequestTimeoutMs_="+_)),_=m;const gi=o.g;if(gi){const Kl=gi.g?gi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Kl){var P=_.h;P.g||Kl.indexOf("spdy")==-1&&Kl.indexOf("quic")==-1&&Kl.indexOf("h2")==-1||(P.j=P.l,P.g=new Set,P.h&&(Wh(P,P.h),P.h=null))}if(_.G){const af=gi.g?gi.g.getResponseHeader("X-HTTP-Session-Id"):null;af&&(_.wa=af,Ae(_.J,_.G,af))}}m.I=3,m.l&&m.l.ra(),m.aa&&(m.T=Date.now()-o.F,m.j.info("Handshake RTT: "+m.T+"ms")),_=m;var z=o;if(_.na=Ny(_,_.L?_.ba:null,_.W),z.L){ay(_.h,z);var ee=z,$e=_.O;$e&&(ee.H=$e),ee.D&&($h(ee),Ul(ee)),_.g=z}else wy(_);m.i.length>0&&ql(m)}else ye[0]!="stop"&&ye[0]!="close"||wr(m,7);else m.I==3&&(ye[0]=="stop"||ye[0]=="close"?ye[0]=="stop"?wr(m,7):nf(m):ye[0]!="noop"&&m.l&&m.l.qa(ye),m.A=0)}}ka(4)}catch{}}var _S=class{constructor(o,h){this.g=o,this.map=h}};function iy(o){this.l=o||10,a.PerformanceNavigationTiming?(o=a.performance.getEntriesByType("navigation"),o=o.length>0&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ry(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function sy(o){return o.h?1:o.g?o.g.size:0}function Jh(o,h){return o.h?o.h==h:o.g?o.g.has(h):!1}function Wh(o,h){o.g?o.g.add(h):o.h=h}function ay(o,h){o.h&&o.h==h?o.h=null:o.g&&o.g.has(h)&&o.g.delete(h)}iy.prototype.cancel=function(){if(this.i=oy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function oy(o){if(o.h!=null)return o.i.concat(o.h.G);if(o.g!=null&&o.g.size!==0){let h=o.i;for(const m of o.g.values())h=h.concat(m.G);return h}return y(o.i)}var ly=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vS(o,h){if(o){o=o.split("&");for(let m=0;m<o.length;m++){const _=o[m].indexOf("=");let O,P=null;_>=0?(O=o[m].substring(0,_),P=o[m].substring(_+1)):O=o[m],h(O,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function fi(o){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let h;o instanceof fi?(this.l=o.l,Ba(this,o.j),this.o=o.o,this.g=o.g,Ha(this,o.u),this.h=o.h,Zh(this,my(o.i)),this.m=o.m):o&&(h=String(o).match(ly))?(this.l=!1,Ba(this,h[1]||"",!0),this.o=qa(h[2]||""),this.g=qa(h[3]||"",!0),Ha(this,h[4]),this.h=qa(h[5]||"",!0),Zh(this,h[6]||"",!0),this.m=qa(h[7]||"")):(this.l=!1,this.i=new Ga(null,this.l))}fi.prototype.toString=function(){const o=[];var h=this.j;h&&o.push(Fa(h,uy,!0),":");var m=this.g;return(m||h=="file")&&(o.push("//"),(h=this.o)&&o.push(Fa(h,uy,!0),"@"),o.push(ja(m).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.u,m!=null&&o.push(":",String(m))),(m=this.h)&&(this.g&&m.charAt(0)!="/"&&o.push("/"),o.push(Fa(m,m.charAt(0)=="/"?bS:TS,!0))),(m=this.i.toString())&&o.push("?",m),(m=this.m)&&o.push("#",Fa(m,SS)),o.join("")},fi.prototype.resolve=function(o){const h=pn(this);let m=!!o.j;m?Ba(h,o.j):m=!!o.o,m?h.o=o.o:m=!!o.g,m?h.g=o.g:m=o.u!=null;var _=o.h;if(m)Ha(h,o.u);else if(m=!!o.h){if(_.charAt(0)!="/")if(this.g&&!this.h)_="/"+_;else{var O=h.h.lastIndexOf("/");O!=-1&&(_=h.h.slice(0,O+1)+_)}if(O=_,O==".."||O==".")_="";else if(O.indexOf("./")!=-1||O.indexOf("/.")!=-1){_=O.lastIndexOf("/",0)==0,O=O.split("/");const P=[];for(let z=0;z<O.length;){const ee=O[z++];ee=="."?_&&z==O.length&&P.push(""):ee==".."?((P.length>1||P.length==1&&P[0]!="")&&P.pop(),_&&z==O.length&&P.push("")):(P.push(ee),_=!0)}_=P.join("/")}else _=O}return m?h.h=_:m=o.i.toString()!=="",m?Zh(h,my(o.i)):m=!!o.m,m&&(h.m=o.m),h};function pn(o){return new fi(o)}function Ba(o,h,m){o.j=m?qa(h,!0):h,o.j&&(o.j=o.j.replace(/:$/,""))}function Ha(o,h){if(h){if(h=Number(h),isNaN(h)||h<0)throw Error("Bad port number "+h);o.u=h}else o.u=null}function Zh(o,h,m){h instanceof Ga?(o.i=h,wS(o.i,o.l)):(m||(h=Fa(h,AS)),o.i=new Ga(h,o.l))}function Ae(o,h,m){o.i.set(h,m)}function jl(o){return Ae(o,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),o}function qa(o,h){return o?h?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Fa(o,h,m){return typeof o=="string"?(o=encodeURI(o).replace(h,ES),m&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function ES(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var uy=/[#\/\?@]/g,TS=/[#\?:]/g,bS=/[#\?]/g,AS=/[#\?@]/g,SS=/#/g;function Ga(o,h){this.h=this.g=null,this.i=o||null,this.j=!!h}function Sr(o){o.g||(o.g=new Map,o.h=0,o.i&&vS(o.i,function(h,m){o.add(decodeURIComponent(h.replace(/\+/g," ")),m)}))}t=Ga.prototype,t.add=function(o,h){Sr(this),this.i=null,o=ps(this,o);let m=this.g.get(o);return m||this.g.set(o,m=[]),m.push(h),this.h+=1,this};function cy(o,h){Sr(o),h=ps(o,h),o.g.has(h)&&(o.i=null,o.h-=o.g.get(h).length,o.g.delete(h))}function hy(o,h){return Sr(o),h=ps(o,h),o.g.has(h)}t.forEach=function(o,h){Sr(this),this.g.forEach(function(m,_){m.forEach(function(O){o.call(h,O,_,this)},this)},this)};function fy(o,h){Sr(o);let m=[];if(typeof h=="string")hy(o,h)&&(m=m.concat(o.g.get(ps(o,h))));else for(o=Array.from(o.g.values()),h=0;h<o.length;h++)m=m.concat(o[h]);return m}t.set=function(o,h){return Sr(this),this.i=null,o=ps(this,o),hy(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[h]),this.h+=1,this},t.get=function(o,h){return o?(o=fy(this,o),o.length>0?String(o[0]):h):h};function dy(o,h,m){cy(o,h),m.length>0&&(o.i=null,o.g.set(ps(o,h),y(m)),o.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],h=Array.from(this.g.keys());for(let _=0;_<h.length;_++){var m=h[_];const O=ja(m);m=fy(this,m);for(let P=0;P<m.length;P++){let z=O;m[P]!==""&&(z+="="+ja(m[P])),o.push(z)}}return this.i=o.join("&")};function my(o){const h=new Ga;return h.i=o.i,o.g&&(h.g=new Map(o.g),h.h=o.h),h}function ps(o,h){return h=String(h),o.j&&(h=h.toLowerCase()),h}function wS(o,h){h&&!o.j&&(Sr(o),o.i=null,o.g.forEach(function(m,_){const O=_.toLowerCase();_!=O&&(cy(this,_),dy(this,O,m))},o)),o.j=h}function xS(o,h){const m=new Ua;if(a.Image){const _=new Image;_.onload=f(di,m,"TestLoadImage: loaded",!0,h,_),_.onerror=f(di,m,"TestLoadImage: error",!1,h,_),_.onabort=f(di,m,"TestLoadImage: abort",!1,h,_),_.ontimeout=f(di,m,"TestLoadImage: timeout",!1,h,_),a.setTimeout(function(){_.ontimeout&&_.ontimeout()},1e4),_.src=o}else h(!1)}function RS(o,h){const m=new Ua,_=new AbortController,O=setTimeout(()=>{_.abort(),di(m,"TestPingServer: timeout",!1,h)},1e4);fetch(o,{signal:_.signal}).then(P=>{clearTimeout(O),P.ok?di(m,"TestPingServer: ok",!0,h):di(m,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(O),di(m,"TestPingServer: error",!1,h)})}function di(o,h,m,_,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),_(m)}catch{}}function CS(){this.g=new cS}function ef(o){this.i=o.Sb||null,this.h=o.ab||!1}d(ef,Fg),ef.prototype.g=function(){return new zl(this.i,this.h)};function zl(o,h){mt.call(this),this.H=o,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}d(zl,mt),t=zl.prototype,t.open=function(o,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=o,this.D=h,this.readyState=1,Ya(this)},t.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const h={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};o&&(h.body=o),(this.H||a).fetch(new Request(this.D,h)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ka(this)),this.readyState=0},t.Pa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Ya(this)),this.g&&(this.readyState=3,Ya(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;py(this)}else o.text().then(this.Oa.bind(this),this.ga.bind(this))};function py(o){o.j.read().then(o.Ma.bind(o)).catch(o.ga.bind(o))}t.Ma=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var h=o.value?o.value:new Uint8Array(0);(h=this.B.decode(h,{stream:!o.done}))&&(this.response=this.responseText+=h)}o.done?Ka(this):Ya(this),this.readyState==3&&py(this)}},t.Oa=function(o){this.g&&(this.response=this.responseText=o,Ka(this))},t.Na=function(o){this.g&&(this.response=o,Ka(this))},t.ga=function(){this.g&&Ka(this)};function Ka(o){o.readyState=4,o.l=null,o.j=null,o.B=null,Ya(o)}t.setRequestHeader=function(o,h){this.A.append(o,h)},t.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],h=this.h.entries();for(var m=h.next();!m.done;)m=m.value,o.push(m[0]+": "+m[1]),m=h.next();return o.join(`\r
`)};function Ya(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(zl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function gy(o){let h="";return Ee(o,function(m,_){h+=_,h+=":",h+=m,h+=`\r
`}),h}function tf(o,h,m){e:{for(_ in m){var _=!1;break e}_=!0}_||(m=gy(m),typeof o=="string"?m!=null&&ja(m):Ae(o,h,m))}function De(o){mt.call(this),this.headers=new Map,this.L=o||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}d(De,mt);var IS=/^https?$/i,NS=["POST","PUT"];t=De.prototype,t.Fa=function(o){this.H=o},t.ea=function(o,h,m,_){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);h=h?h.toUpperCase():"GET",this.D=o,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Jg.g(),this.g.onreadystatechange=p(c(this.Ca,this));try{this.B=!0,this.g.open(h,String(o),!0),this.B=!1}catch(P){yy(this,P);return}if(o=m||"",m=new Map(this.headers),_)if(Object.getPrototypeOf(_)===Object.prototype)for(var O in _)m.set(O,_[O]);else if(typeof _.keys=="function"&&typeof _.get=="function")for(const P of _.keys())m.set(P,_.get(P));else throw Error("Unknown input type for opt_headers: "+String(_));_=Array.from(m.keys()).find(P=>P.toLowerCase()=="content-type"),O=a.FormData&&o instanceof a.FormData,!(Array.prototype.indexOf.call(NS,h,void 0)>=0)||_||O||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[P,z]of m)this.g.setRequestHeader(P,z);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(o),this.v=!1}catch(P){yy(this,P)}};function yy(o,h){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=h,o.o=5,_y(o),Bl(o)}function _y(o){o.A||(o.A=!0,vt(o,"complete"),vt(o,"error"))}t.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=o||7,vt(this,"complete"),vt(this,"abort"),Bl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bl(this,!0)),De.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?vy(this):this.Xa())},t.Xa=function(){vy(this)};function vy(o){if(o.h&&typeof s<"u"){if(o.v&&mi(o)==4)setTimeout(o.Ca.bind(o),0);else if(vt(o,"readystatechange"),mi(o)==4){o.h=!1;try{const P=o.ca();e:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var m;if(!(m=h)){var _;if(_=P===0){let z=String(o.D).match(ly)[1]||null;!z&&a.self&&a.self.location&&(z=a.self.location.protocol.slice(0,-1)),_=!IS.test(z?z.toLowerCase():"")}m=_}if(m)vt(o,"complete"),vt(o,"success");else{o.o=6;try{var O=mi(o)>2?o.g.statusText:""}catch{O=""}o.l=O+" ["+o.ca()+"]",_y(o)}}finally{Bl(o)}}}}function Bl(o,h){if(o.g){o.m&&(clearTimeout(o.m),o.m=null);const m=o.g;o.g=null,h||vt(o,"ready");try{m.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function mi(o){return o.g?o.g.readyState:0}t.ca=function(){try{return mi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(o){if(this.g){var h=this.g.responseText;return o&&h.indexOf(o)==0&&(h=h.substring(o.length)),uS(h)}};function Ey(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.F){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function DS(o){const h={};o=(o.g&&mi(o)>=2&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let _=0;_<o.length;_++){if(w(o[_]))continue;var m=pS(o[_]);const O=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const P=h[O]||[];h[O]=P,P.push(m)}je(h,function(_){return _.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qa(o,h,m){return m&&m.internalChannelParams&&m.internalChannelParams[o]||h}function Ty(o){this.za=0,this.i=[],this.j=new Ua,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Qa("failFast",!1,o),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Qa("baseRetryDelayMs",5e3,o),this.Za=Qa("retryDelaySeedMs",1e4,o),this.Ta=Qa("forwardChannelMaxRetries",2,o),this.va=Qa("forwardChannelRequestTimeoutMs",2e4,o),this.ma=o&&o.xmlHttpFactory||void 0,this.Ua=o&&o.Rb||void 0,this.Aa=o&&o.useFetchStreams||!1,this.O=void 0,this.L=o&&o.supportsCrossDomainXhr||!1,this.M="",this.h=new iy(o&&o.concurrentRequestLimit),this.Ba=new CS,this.S=o&&o.fastHandshake||!1,this.R=o&&o.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=o&&o.Pb||!1,o&&o.ua&&this.j.ua(),o&&o.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&o&&o.detectBufferingProxy||!1,this.ia=void 0,o&&o.longPollingTimeout&&o.longPollingTimeout>0&&(this.ia=o.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Ty.prototype,t.ka=8,t.I=1,t.connect=function(o,h,m,_){Et(0),this.W=o,this.H=h||{},m&&_!==void 0&&(this.H.OSID=m,this.H.OAID=_),this.F=this.X,this.J=Ny(this,null,this.W),ql(this)};function nf(o){if(by(o),o.I==3){var h=o.V++,m=pn(o.J);if(Ae(m,"SID",o.M),Ae(m,"RID",h),Ae(m,"TYPE","terminate"),$a(o,m),h=new hi(o,o.j,h),h.M=2,h.A=jl(pn(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(h.A.toString(),"")}catch{}!m&&a.Image&&(new Image().src=h.A,m=!0),m||(h.g=Dy(h.j,null),h.g.ea(h.A)),h.F=Date.now(),Ul(h)}Iy(o)}function Hl(o){o.g&&(sf(o),o.g.cancel(),o.g=null)}function by(o){Hl(o),o.v&&(a.clearTimeout(o.v),o.v=null),Fl(o),o.h.cancel(),o.m&&(typeof o.m=="number"&&a.clearTimeout(o.m),o.m=null)}function ql(o){if(!ry(o.h)&&!o.m){o.m=!0;var h=o.Ea;k||v(),H||(k(),H=!0),T.add(h,o),o.D=0}}function OS(o,h){return sy(o.h)>=o.h.j-(o.m?1:0)?!1:o.m?(o.i=h.G.concat(o.i),!0):o.I==1||o.I==2||o.D>=(o.Sa?0:o.Ta)?!1:(o.m=La(c(o.Ea,o,h),Cy(o,o.D)),o.D++,!0)}t.Ea=function(o){if(this.m)if(this.m=null,this.I==1){if(!o){this.V=Math.floor(Math.random()*1e5),o=this.V++;const O=new hi(this,this.j,o);let P=this.o;if(this.U&&(P?(P=Er(P),ds(P,this.U)):P=this.U),this.u!==null||this.R||(O.J=P,P=null),this.S)e:{for(var h=0,m=0;m<this.i.length;m++){t:{var _=this.i[m];if("__data__"in _.map&&(_=_.map.__data__,typeof _=="string")){_=_.length;break t}_=void 0}if(_===void 0)break;if(h+=_,h>4096){h=m;break e}if(h===4096||m===this.i.length-1){h=m+1;break e}}h=1e3}else h=1e3;h=Sy(this,O,h),m=pn(this.J),Ae(m,"RID",o),Ae(m,"CVER",22),this.G&&Ae(m,"X-HTTP-Session-Id",this.G),$a(this,m),P&&(this.R?h="headers="+ja(gy(P))+"&"+h:this.u&&tf(m,this.u,P)),Wh(this.h,O),this.Ra&&Ae(m,"TYPE","init"),this.S?(Ae(m,"$req",h),Ae(m,"SID","null"),O.U=!0,Qh(O,m,null)):Qh(O,m,h),this.I=2}}else this.I==3&&(o?Ay(this,o):this.i.length==0||ry(this.h)||Ay(this))};function Ay(o,h){var m;h?m=h.l:m=o.V++;const _=pn(o.J);Ae(_,"SID",o.M),Ae(_,"RID",m),Ae(_,"AID",o.K),$a(o,_),o.u&&o.o&&tf(_,o.u,o.o),m=new hi(o,o.j,m,o.D+1),o.u===null&&(m.J=o.o),h&&(o.i=h.G.concat(o.i)),h=Sy(o,m,1e3),m.H=Math.round(o.va*.5)+Math.round(o.va*.5*Math.random()),Wh(o.h,m),Qh(m,_,h)}function $a(o,h){o.H&&Ee(o.H,function(m,_){Ae(h,_,m)}),o.l&&Ee({},function(m,_){Ae(h,_,m)})}function Sy(o,h,m){m=Math.min(o.i.length,m);const _=o.l?c(o.l.Ka,o.l,o):null;e:{var O=o.i;let ee=-1;for(;;){const $e=["count="+m];ee==-1?m>0?(ee=O[0].g,$e.push("ofs="+ee)):ee=0:$e.push("ofs="+ee);let ye=!0;for(let et=0;et<m;et++){var P=O[et].g;const gn=O[et].map;if(P-=ee,P<0)ee=Math.max(0,O[et].g-100),ye=!1;else try{P="req"+P+"_"||"";try{var z=gn instanceof Map?gn:Object.entries(gn);for(const[xr,pi]of z){let gi=pi;l(pi)&&(gi=qh(pi)),$e.push(P+xr+"="+encodeURIComponent(gi))}}catch(xr){throw $e.push(P+"type="+encodeURIComponent("_badmap")),xr}}catch{_&&_(gn)}}if(ye){z=$e.join("&");break e}}z=void 0}return o=o.i.splice(0,m),h.G=o,z}function wy(o){if(!o.g&&!o.v){o.Y=1;var h=o.Da;k||v(),H||(k(),H=!0),T.add(h,o),o.A=0}}function rf(o){return o.g||o.v||o.A>=3?!1:(o.Y++,o.v=La(c(o.Da,o),Cy(o,o.A)),o.A++,!0)}t.Da=function(){if(this.v=null,xy(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var o=4*this.T;this.j.info("BP detection timer enabled: "+o),this.B=La(c(this.Wa,this),o)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Et(10),Hl(this),xy(this))};function sf(o){o.B!=null&&(a.clearTimeout(o.B),o.B=null)}function xy(o){o.g=new hi(o,o.j,"rpc",o.Y),o.u===null&&(o.g.J=o.o),o.g.P=0;var h=pn(o.na);Ae(h,"RID","rpc"),Ae(h,"SID",o.M),Ae(h,"AID",o.K),Ae(h,"CI",o.F?"0":"1"),!o.F&&o.ia&&Ae(h,"TO",o.ia),Ae(h,"TYPE","xmlhttp"),$a(o,h),o.u&&o.o&&tf(h,o.u,o.o),o.O&&(o.g.H=o.O);var m=o.g;o=o.ba,m.M=1,m.A=jl(pn(h)),m.u=null,m.R=!0,ey(m,o)}t.Va=function(){this.C!=null&&(this.C=null,Hl(this),rf(this),Et(19))};function Fl(o){o.C!=null&&(a.clearTimeout(o.C),o.C=null)}function Ry(o,h){var m=null;if(o.g==h){Fl(o),sf(o),o.g=null;var _=2}else if(Jh(o.h,h))m=h.G,ay(o.h,h),_=1;else return;if(o.I!=0){if(h.o)if(_==1){m=h.u?h.u.length:0,h=Date.now()-h.F;var O=o.D;_=kl(),vt(_,new $g(_,m)),ql(o)}else wy(o);else if(O=h.m,O==3||O==0&&h.X>0||!(_==1&&OS(o,h)||_==2&&rf(o)))switch(m&&m.length>0&&(h=o.h,h.i=h.i.concat(m)),O){case 1:wr(o,5);break;case 4:wr(o,10);break;case 3:wr(o,6);break;default:wr(o,2)}}}function Cy(o,h){let m=o.Qa+Math.floor(Math.random()*o.Za);return o.isActive()||(m*=2),m*h}function wr(o,h){if(o.j.info("Error code "+h),h==2){var m=c(o.bb,o),_=o.Ua;const O=!_;_=new fi(_||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ba(_,"https"),jl(_),O?xS(_.toString(),m):RS(_.toString(),m)}else Et(2);o.I=0,o.l&&o.l.pa(h),Iy(o),by(o)}t.bb=function(o){o?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function Iy(o){if(o.I=0,o.ja=[],o.l){const h=oy(o.h);(h.length!=0||o.i.length!=0)&&(C(o.ja,h),C(o.ja,o.i),o.h.i.length=0,y(o.i),o.i.length=0),o.l.oa()}}function Ny(o,h,m){var _=m instanceof fi?pn(m):new fi(m);if(_.g!="")h&&(_.g=h+"."+_.g),Ha(_,_.u);else{var O=a.location;_=O.protocol,h=h?h+"."+O.hostname:O.hostname,O=+O.port;const P=new fi(null);_&&Ba(P,_),h&&(P.g=h),O&&Ha(P,O),m&&(P.h=m),_=P}return m=o.G,h=o.wa,m&&h&&Ae(_,m,h),Ae(_,"VER",o.ka),$a(o,_),_}function Dy(o,h,m){if(h&&!o.L)throw Error("Can't create secondary domain capable XhrIo object.");return h=o.Aa&&!o.ma?new De(new ef({ab:m})):new De(o.ma),h.Fa(o.L),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Oy(){}t=Oy.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Gl(){}Gl.prototype.g=function(o,h){return new Mt(o,h)};function Mt(o,h){mt.call(this),this.g=new Ty(h),this.l=o,this.h=h&&h.messageUrlParams||null,o=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(o?o["X-WebChannel-Content-Type"]=h.messageContentType:o={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.sa&&(o?o["X-WebChannel-Client-Profile"]=h.sa:o={"X-WebChannel-Client-Profile":h.sa}),this.g.U=o,(o=h&&h.Qb)&&!w(o)&&(this.g.u=o),this.A=h&&h.supportsCrossDomainXhr||!1,this.v=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!w(h)&&(this.g.G=h,o=this.h,o!==null&&h in o&&(o=this.h,h in o&&delete o[h])),this.j=new gs(this)}d(Mt,mt),Mt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Mt.prototype.close=function(){nf(this.g)},Mt.prototype.o=function(o){var h=this.g;if(typeof o=="string"){var m={};m.__data__=o,o=m}else this.v&&(m={},m.__data__=qh(o),o=m);h.i.push(new _S(h.Ya++,o)),h.I==3&&ql(h)},Mt.prototype.N=function(){this.g.l=null,delete this.j,nf(this.g),delete this.g,Mt.Z.N.call(this)};function My(o){Fh.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var h=o.__sm__;if(h){e:{for(const m in h){o=m;break e}o=void 0}(this.i=o)&&(o=this.i,h=h!==null&&o in h?h[o]:void 0),this.data=h}else this.data=o}d(My,Fh);function Vy(){Gh.call(this),this.status=1}d(Vy,Gh);function gs(o){this.g=o}d(gs,Oy),gs.prototype.ra=function(){vt(this.g,"a")},gs.prototype.qa=function(o){vt(this.g,new My(o))},gs.prototype.pa=function(o){vt(this.g,new Vy)},gs.prototype.oa=function(){vt(this.g,"b")},Gl.prototype.createWebChannel=Gl.prototype.g,Mt.prototype.send=Mt.prototype.o,Mt.prototype.open=Mt.prototype.m,Mt.prototype.close=Mt.prototype.close,S2=function(){return new Gl},A2=function(){return kl()},b2=br,dm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ll.NO_ERROR=0,Ll.TIMEOUT=8,Ll.HTTP_ERROR=6,Uu=Ll,Xg.COMPLETE="complete",T2=Xg,Gg.EventType=Pa,Pa.OPEN="a",Pa.CLOSE="b",Pa.ERROR="c",Pa.MESSAGE="d",mt.prototype.listen=mt.prototype.J,ho=Gg,De.prototype.listenOnce=De.prototype.K,De.prototype.getLastError=De.prototype.Ha,De.prototype.getLastErrorCode=De.prototype.ya,De.prototype.getStatus=De.prototype.ca,De.prototype.getResponseJson=De.prototype.La,De.prototype.getResponseText=De.prototype.la,De.prototype.send=De.prototype.ea,De.prototype.setWithCredentials=De.prototype.Fa,E2=De}).apply(typeof hu<"u"?hu:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gt.UNAUTHENTICATED=new gt(null),gt.GOOGLE_CREDENTIALS=new gt("google-credentials-uid"),gt.FIRST_PARTY=new gt("first-party-uid"),gt.MOCK_USER=new gt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ia="12.10.0";function S6(t){Ia=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr=new zp("@firebase/firestore");function As(){return Wr.logLevel}function F(t,...e){if(Wr.logLevel<=re.DEBUG){const n=e.map(Jp);Wr.debug(`Firestore (${Ia}): ${t}`,...n)}}function si(t,...e){if(Wr.logLevel<=re.ERROR){const n=e.map(Jp);Wr.error(`Firestore (${Ia}): ${t}`,...n)}}function Zr(t,...e){if(Wr.logLevel<=re.WARN){const n=e.map(Jp);Wr.warn(`Firestore (${Ia}): ${t}`,...n)}}function Jp(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,w2(t,i,n)}function w2(t,e,n){let i=`FIRESTORE (${Ia}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw si(i),new Error(i)}function fe(t,e,n,i){let r="Unexpected state";typeof n=="string"?r=n:i=n,t||w2(e,r,i)}function X(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class B extends Mn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class w6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(gt.UNAUTHENTICATED))}shutdown(){}}class x6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class R6{constructor(e){this.t=e,this.currentUser=gt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){fe(this.o===void 0,42304);let i=this.i;const r=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let s=new Hr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Hr,e.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await r(this.currentUser)})},l=u=>{F("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(F("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Hr)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(F("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(fe(typeof i.accessToken=="string",31837,{l:i}),new x2(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return fe(e===null||typeof e=="string",2055,{h:e}),new gt(e)}}class C6{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=gt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class I6{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new C6(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(gt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Jv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class N6{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Zt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){fe(this.o===void 0,3512);const i=s=>{s.error!=null&&F("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,F("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{F("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?r(s):F("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Jv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(fe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Jv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D6(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=D6(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=e.charAt(r[s]%62))}return i}}function se(t,e){return t<e?-1:t>e?1:0}function mm(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const r=t.charAt(i),s=e.charAt(i);if(r!==s)return Wf(r)===Wf(s)?se(r,s):Wf(r)?1:-1}return se(t.length,e.length)}const O6=55296,M6=57343;function Wf(t){const e=t.charCodeAt(0);return e>=O6&&e<=M6}function ha(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv="__name__";class yn{constructor(e,n,i){n===void 0?n=0:n>e.length&&Y(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Y(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return yn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof yn?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let r=0;r<i;r++){const s=yn.compareSegments(e.get(r),n.get(r));if(s!==0)return s}return se(e.length,n.length)}static compareSegments(e,n){const i=yn.isNumericId(e),r=yn.isNumericId(n);return i&&!r?-1:!i&&r?1:i&&r?yn.extractNumericId(e).compare(yn.extractNumericId(n)):mm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ji.fromString(e.substring(4,e.length-2))}}class Te extends yn{construct(e,n,i){return new Te(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new B(U.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new Te(n)}static emptyPath(){return new Te([])}}const V6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ut extends yn{construct(e,n,i){return new ut(e,n,i)}static isValidIdentifier(e){return V6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ut.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Wv}static keyField(){return new ut([Wv])}static fromServerFormat(e){const n=[];let i="",r=0;const s=()=>{if(i.length===0)throw new B(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let a=!1;for(;r<e.length;){const l=e[r];if(l==="\\"){if(r+1===e.length)throw new B(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[r+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new B(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=u,r+=2}else l==="`"?(a=!a,r++):l!=="."||a?(i+=l,r++):(s(),r++)}if(s(),a)throw new B(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ut(n)}static emptyPath(){return new ut([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.path=e}static fromPath(e){return new G(Te.fromString(e))}static fromName(e){return new G(Te.fromString(e).popFirst(5))}static empty(){return new G(Te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Te.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Te.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new G(new Te(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(t,e,n){if(!n)throw new B(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function P6(t,e,n,i){if(e===!0&&i===!0)throw new B(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Zv(t){if(!G.isDocumentKey(t))throw new B(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function e0(t){if(G.isDocumentKey(t))throw new B(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function C2(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function vh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Y(12329,{type:typeof t})}function Wi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new B(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=vh(t);throw new B(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ke(t,e){const n={typeString:t};return e&&(n.value=e),n}function Cl(t,e){if(!C2(t))throw new B(U.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const r=e[i].typeString,s="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const a=t[i];if(r&&typeof a!==r){n=`JSON field '${i}' must be a ${r}.`;break}if(s!==void 0&&a!==s.value){n=`Expected '${i}' field to equal '${s.value}'`;break}}if(n)throw new B(U.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0=-62135596800,n0=1e6;class xe{static now(){return xe.fromMillis(Date.now())}static fromDate(e){return xe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*n0);return new xe(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new B(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new B(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<t0)throw new B(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new B(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/n0}_compareTo(e){return this.seconds===e.seconds?se(this.nanoseconds,e.nanoseconds):se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:xe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Cl(e,xe._jsonSchema))return new xe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-t0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}xe._jsonSchemaVersion="firestore/timestamp/1.0",xe._jsonSchema={type:Ke("string",xe._jsonSchemaVersion),seconds:Ke("number"),nanoseconds:Ke("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${static fromTimestamp(e){return new $(e)}static min(){return new $(new xe(0,0))}static max(){return new $(new xe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tl=-1;function k6(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=$.fromTimestamp(i===1e9?new xe(n+1,0):new xe(n,i));return new sr(r,G.empty(),e)}function L6(t){return new sr(t.readTime,t.key,tl)}class sr{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new sr($.min(),G.empty(),tl)}static max(){return new sr($.max(),G.empty(),tl)}}function U6(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=G.comparator(t.documentKey,e.documentKey),n!==0?n:se(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class z6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Na(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==j6)throw t;F("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Y(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new j((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof j?n:j.resolve(n)}catch(n){return j.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):j.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):j.reject(n)}static resolve(e){return new j((n,i)=>{n(e)})}static reject(e){return new j((n,i)=>{i(e)})}static waitFor(e){return new j((n,i)=>{let r=0,s=0,a=!1;e.forEach(l=>{++r,l.next(()=>{++s,a&&s===r&&n()},u=>i(u))}),a=!0,s===r&&n()})}static or(e){let n=j.resolve(!1);for(const i of e)n=n.next(r=>r?j.resolve(r):i());return n}static forEach(e,n){const i=[];return e.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(e,n){return new j((i,r)=>{const s=e.length,a=new Array(s);let l=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(f=>{a[c]=f,++l,l===s&&i(a)},f=>r(f))}})}static doWhile(e,n){return new j((i,r)=>{const s=()=>{e()===!0?n().next(()=>{s()},r):i()};s()})}}function B6(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Da(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Eh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zp=-1;function Th(t){return t==null}function Ic(t){return t===0&&1/t==-1/0}function H6(t){return typeof t=="number"&&Number.isInteger(t)&&!Ic(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2="";function q6(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=i0(e)),e=F6(t.get(n),e);return i0(e)}function F6(t,e){let n=e;const i=t.length;for(let r=0;r<i;r++){const s=t.charAt(r);switch(s){case"\0":n+="";break;case I2:n+="";break;default:n+=s}}return n}function i0(t){return t+I2+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function _r(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function N2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e,n){this.comparator=e,this.root=n||at.EMPTY}insert(e,n){return new Ne(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,at.BLACK,null,null))}remove(e){return new Ne(this.comparator,this.root.remove(e,this.comparator).copy(null,null,at.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fu(this.root,e,this.comparator,!1)}getReverseIterator(){return new fu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fu(this.root,e,this.comparator,!0)}}class fu{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?i(e.key,n):1,n&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class at{constructor(e,n,i,r,s){this.key=e,this.value=n,this.color=i??at.RED,this.left=r??at.EMPTY,this.right=s??at.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,s){return new at(e??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return at.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return at.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,at.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,at.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Y(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Y(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Y(27949);return e+(this.isRed()?0:1)}}at.EMPTY=null,at.RED=!0,at.BLACK=!1;at.EMPTY=new class{constructor(){this.size=0}get key(){throw Y(57766)}get value(){throw Y(16141)}get color(){throw Y(16727)}get left(){throw Y(29726)}get right(){throw Y(36894)}copy(e,n,i,r,s){return this}insert(e,n,i){return new at(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e){this.comparator=e,this.data=new Ne(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new s0(this.data.getIterator())}getIteratorFrom(e){return new s0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof We)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new We(this.comparator);return n.data=e,n}}class s0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.fields=e,e.sort(ut.comparator)}static empty(){return new Ut([])}unionWith(e){let n=new We(ut.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Ut(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ha(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new D2("Invalid base64 string: "+s):s}}(e);return new ft(n)}static fromUint8Array(e){const n=function(r){let s="";for(let a=0;a<r.length;++a)s+=String.fromCharCode(r[a]);return s}(e);return new ft(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ft.EMPTY_BYTE_STRING=new ft("");const G6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ar(t){if(fe(!!t,39018),typeof t=="string"){let e=0;const n=G6.exec(t);if(fe(!!n,46558,{timestamp:t}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ve(t.seconds),nanos:Ve(t.nanos)}}function Ve(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function or(t){return typeof t=="string"?ft.fromBase64String(t):ft.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2="server_timestamp",M2="__type__",V2="__previous_value__",P2="__local_write_time__";function eg(t){var n,i;return((i=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[M2])==null?void 0:i.stringValue)===O2}function bh(t){const e=t.mapValue.fields[V2];return eg(e)?bh(e):e}function nl(t){const e=ar(t.mapValue.fields[P2].timestampValue);return new xe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K6{constructor(e,n,i,r,s,a,l,u,c,f,d){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=c,this.isUsingEmulator=f,this.apiKey=d}}const Nc="(default)";class il{constructor(e,n){this.projectId=e,this.database=n||Nc}static empty(){return new il("","")}get isDefaultDatabase(){return this.database===Nc}isEqual(e){return e instanceof il&&e.projectId===this.projectId&&e.database===this.database}}function Y6(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new B(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new il(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2="__type__",Q6="__max__",du={mapValue:{}},L2="__vector__",Dc="value";function lr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?eg(t)?4:X6(t)?9007199254740991:$6(t)?10:11:Y(28295,{value:t})}function In(t,e){if(t===e)return!0;const n=lr(t);if(n!==lr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return nl(t).isEqual(nl(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const a=ar(r.timestampValue),l=ar(s.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,s){return or(r.bytesValue).isEqual(or(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return Ve(r.geoPointValue.latitude)===Ve(s.geoPointValue.latitude)&&Ve(r.geoPointValue.longitude)===Ve(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Ve(r.integerValue)===Ve(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const a=Ve(r.doubleValue),l=Ve(s.doubleValue);return a===l?Ic(a)===Ic(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return ha(t.arrayValue.values||[],e.arrayValue.values||[],In);case 10:case 11:return function(r,s){const a=r.mapValue.fields||{},l=s.mapValue.fields||{};if(r0(a)!==r0(l))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(l[u]===void 0||!In(a[u],l[u])))return!1;return!0}(t,e);default:return Y(52216,{left:t})}}function rl(t,e){return(t.values||[]).find(n=>In(n,e))!==void 0}function fa(t,e){if(t===e)return 0;const n=lr(t),i=lr(e);if(n!==i)return se(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return se(t.booleanValue,e.booleanValue);case 2:return function(s,a){const l=Ve(s.integerValue||s.doubleValue),u=Ve(a.integerValue||a.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return a0(t.timestampValue,e.timestampValue);case 4:return a0(nl(t),nl(e));case 5:return mm(t.stringValue,e.stringValue);case 6:return function(s,a){const l=or(s),u=or(a);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const l=s.split("/"),u=a.split("/");for(let c=0;c<l.length&&c<u.length;c++){const f=se(l[c],u[c]);if(f!==0)return f}return se(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const l=se(Ve(s.latitude),Ve(a.latitude));return l!==0?l:se(Ve(s.longitude),Ve(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return o0(t.arrayValue,e.arrayValue);case 10:return function(s,a){var p,y,C,M;const l=s.fields||{},u=a.fields||{},c=(p=l[Dc])==null?void 0:p.arrayValue,f=(y=u[Dc])==null?void 0:y.arrayValue,d=se(((C=c==null?void 0:c.values)==null?void 0:C.length)||0,((M=f==null?void 0:f.values)==null?void 0:M.length)||0);return d!==0?d:o0(c,f)}(t.mapValue,e.mapValue);case 11:return function(s,a){if(s===du.mapValue&&a===du.mapValue)return 0;if(s===du.mapValue)return 1;if(a===du.mapValue)return-1;const l=s.fields||{},u=Object.keys(l),c=a.fields||{},f=Object.keys(c);u.sort(),f.sort();for(let d=0;d<u.length&&d<f.length;++d){const p=mm(u[d],f[d]);if(p!==0)return p;const y=fa(l[u[d]],c[f[d]]);if(y!==0)return y}return se(u.length,f.length)}(t.mapValue,e.mapValue);default:throw Y(23264,{he:n})}}function a0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return se(t,e);const n=ar(t),i=ar(e),r=se(n.seconds,i.seconds);return r!==0?r:se(n.nanos,i.nanos)}function o0(t,e){const n=t.values||[],i=e.values||[];for(let r=0;r<n.length&&r<i.length;++r){const s=fa(n[r],i[r]);if(s)return s}return se(n.length,i.length)}function da(t){return pm(t)}function pm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=ar(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return or(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return G.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(const s of n.values||[])r?r=!1:i+=",",i+=pm(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",s=!0;for(const a of i)s?s=!1:r+=",",r+=`${a}:${pm(n.fields[a])}`;return r+"}"}(t.mapValue):Y(61005,{value:t})}function ju(t){switch(lr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=bh(t);return e?16+ju(e):16;case 5:return 2*t.stringValue.length;case 6:return or(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,s)=>r+ju(s),0)}(t.arrayValue);case 10:case 11:return function(i){let r=0;return _r(i.fields,(s,a)=>{r+=s.length+ju(a)}),r}(t.mapValue);default:throw Y(13486,{value:t})}}function l0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function gm(t){return!!t&&"integerValue"in t}function tg(t){return!!t&&"arrayValue"in t}function u0(t){return!!t&&"nullValue"in t}function c0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function zu(t){return!!t&&"mapValue"in t}function $6(t){var n,i;return((i=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[k2])==null?void 0:i.stringValue)===L2}function Oo(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return _r(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=Oo(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Oo(t.arrayValue.values[n]);return e}return{...t}}function X6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Q6}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.value=e}static empty(){return new It({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!zu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Oo(n)}setAll(e){let n=ut.emptyPath(),i={},r=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,i,r),i={},r=[],n=l.popLast()}a?i[l.lastSegment()]=Oo(a):r.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(e){const n=this.field(e.popLast());zu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return In(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];zu(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){_r(n,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new It(Oo(this.value))}}function U2(t){const e=[];return _r(t.fields,(n,i)=>{const r=new ut([n]);if(zu(i)){const s=U2(i.mapValue).fields;if(s.length===0)e.push(r);else for(const a of s)e.push(r.child(a))}else e.push(r)}),new Ut(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e,n,i,r,s,a,l){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=a,this.documentState=l}static newInvalidDocument(e){return new yt(e,0,$.min(),$.min(),$.min(),It.empty(),0)}static newFoundDocument(e,n,i,r){return new yt(e,1,n,$.min(),i,r,0)}static newNoDocument(e,n){return new yt(e,2,n,$.min(),$.min(),It.empty(),0)}static newUnknownDocument(e,n){return new yt(e,3,n,$.min(),$.min(),It.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual($.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=It.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=It.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof yt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,n){this.position=e,this.inclusive=n}}function h0(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){const s=e[r],a=t.position[r];if(s.field.isKeyField()?i=G.comparator(G.fromName(a.referenceValue),n.key):i=fa(a,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function f0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!In(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e,n="asc"){this.field=e,this.dir=n}}function J6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{}class Fe extends j2{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new Z6(e,n,i):n==="array-contains"?new nD(e,i):n==="in"?new iD(e,i):n==="not-in"?new rD(e,i):n==="array-contains-any"?new sD(e,i):new Fe(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new eD(e,i):new tD(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(fa(n,this.value)):n!==null&&lr(this.value)===lr(n)&&this.matchesComparison(fa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Y(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class dn extends j2{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new dn(e,n)}matches(e){return z2(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function z2(t){return t.op==="and"}function B2(t){return W6(t)&&z2(t)}function W6(t){for(const e of t.filters)if(e instanceof dn)return!1;return!0}function ym(t){if(t instanceof Fe)return t.field.canonicalString()+t.op.toString()+da(t.value);if(B2(t))return t.filters.map(e=>ym(e)).join(",");{const e=t.filters.map(n=>ym(n)).join(",");return`${t.op}(${e})`}}function H2(t,e){return t instanceof Fe?function(i,r){return r instanceof Fe&&i.op===r.op&&i.field.isEqual(r.field)&&In(i.value,r.value)}(t,e):t instanceof dn?function(i,r){return r instanceof dn&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,a,l)=>s&&H2(a,r.filters[l]),!0):!1}(t,e):void Y(19439)}function q2(t){return t instanceof Fe?function(n){return`${n.field.canonicalString()} ${n.op} ${da(n.value)}`}(t):t instanceof dn?function(n){return n.op.toString()+" {"+n.getFilters().map(q2).join(" ,")+"}"}(t):"Filter"}class Z6 extends Fe{constructor(e,n,i){super(e,n,i),this.key=G.fromName(i.referenceValue)}matches(e){const n=G.comparator(e.key,this.key);return this.matchesComparison(n)}}class eD extends Fe{constructor(e,n){super(e,"in",n),this.keys=F2("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class tD extends Fe{constructor(e,n){super(e,"not-in",n),this.keys=F2("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function F2(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(i=>G.fromName(i.referenceValue))}class nD extends Fe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return tg(n)&&rl(n.arrayValue,this.value)}}class iD extends Fe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&rl(this.value.arrayValue,n)}}class rD extends Fe{constructor(e,n){super(e,"not-in",n)}matches(e){if(rl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!rl(this.value.arrayValue,n)}}class sD extends Fe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!tg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>rl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e,n=null,i=[],r=[],s=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=a,this.endAt=l,this.Te=null}}function d0(t,e=null,n=[],i=[],r=null,s=null,a=null){return new aD(t,e,n,i,r,s,a)}function ng(t){const e=X(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>ym(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),Th(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>da(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>da(i)).join(",")),e.Te=n}return e.Te}function ig(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!J6(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!H2(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!f0(t.startAt,e.startAt)&&f0(t.endAt,e.endAt)}function _m(t){return G.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e,n=null,i=[],r=[],s=null,a="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=a,this.startAt=l,this.endAt=u,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function oD(t,e,n,i,r,s,a,l){return new Oa(t,e,n,i,r,s,a,l)}function rg(t){return new Oa(t)}function m0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function lD(t){return G.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function G2(t){return t.collectionGroup!==null}function Mo(t){const e=X(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new We(ut.comparator);return a.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(l=l.add(c.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new sl(s,i))}),n.has(ut.keyField().canonicalString())||e.Ie.push(new sl(ut.keyField(),i))}return e.Ie}function xn(t){const e=X(t);return e.Ee||(e.Ee=uD(e,Mo(t))),e.Ee}function uD(t,e){if(t.limitType==="F")return d0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{const s=r.dir==="desc"?"asc":"desc";return new sl(r.field,s)});const n=t.endAt?new Oc(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Oc(t.startAt.position,t.startAt.inclusive):null;return d0(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function vm(t,e){const n=t.filters.concat([e]);return new Oa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function cD(t,e){const n=t.explicitOrderBy.concat([e]);return new Oa(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function Em(t,e,n){return new Oa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ah(t,e){return ig(xn(t),xn(e))&&t.limitType===e.limitType}function K2(t){return`${ng(xn(t))}|lt:${t.limitType}`}function Ss(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>q2(r)).join(", ")}]`),Th(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>da(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>da(r)).join(",")),`Target(${i})`}(xn(t))}; limitType=${t.limitType})`}function Sh(t,e){return e.isFoundDocument()&&function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):G.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(t,e)&&function(i,r){for(const s of Mo(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(t,e)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(a,l,u){const c=h0(a,l,u);return a.inclusive?c<=0:c<0}(i.startAt,Mo(i),r)||i.endAt&&!function(a,l,u){const c=h0(a,l,u);return a.inclusive?c>=0:c>0}(i.endAt,Mo(i),r))}(t,e)}function hD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Y2(t){return(e,n)=>{let i=!1;for(const r of Mo(t)){const s=fD(r,e,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function fD(t,e,n){const i=t.field.isKeyField()?G.comparator(e.key,n.key):function(s,a,l){const u=a.data.field(s),c=l.data.field(s);return u!==null&&c!==null?fa(u,c):Y(42886)}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Y(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){_r(this.inner,(n,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return N2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD=new Ne(G.comparator);function ai(){return dD}const Q2=new Ne(G.comparator);function fo(...t){let e=Q2;for(const n of t)e=e.insert(n.key,n);return e}function $2(t){let e=Q2;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Pr(){return Vo()}function X2(){return Vo()}function Vo(){return new cs(t=>t.toString(),(t,e)=>t.isEqual(e))}const mD=new Ne(G.comparator),pD=new We(G.comparator);function ae(...t){let e=pD;for(const n of t)e=e.add(n);return e}const gD=new We(se);function yD(){return gD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ic(e)?"-0":e}}function J2(t){return{integerValue:""+t}}function _D(t,e){return H6(e)?J2(e):sg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(){this._=void 0}}function vD(t,e,n){return t instanceof al?function(r,s){const a={fields:{[M2]:{stringValue:O2},[P2]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&eg(s)&&(s=bh(s)),s&&(a.fields[V2]=s),{mapValue:a}}(n,e):t instanceof ol?Z2(t,e):t instanceof ll?eA(t,e):function(r,s){const a=W2(r,s),l=p0(a)+p0(r.Ae);return gm(a)&&gm(r.Ae)?J2(l):sg(r.serializer,l)}(t,e)}function ED(t,e,n){return t instanceof ol?Z2(t,e):t instanceof ll?eA(t,e):n}function W2(t,e){return t instanceof Mc?function(i){return gm(i)||function(s){return!!s&&"doubleValue"in s}(i)}(e)?e:{integerValue:0}:null}class al extends wh{}class ol extends wh{constructor(e){super(),this.elements=e}}function Z2(t,e){const n=tA(e);for(const i of t.elements)n.some(r=>In(r,i))||n.push(i);return{arrayValue:{values:n}}}class ll extends wh{constructor(e){super(),this.elements=e}}function eA(t,e){let n=tA(e);for(const i of t.elements)n=n.filter(r=>!In(r,i));return{arrayValue:{values:n}}}class Mc extends wh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function p0(t){return Ve(t.integerValue||t.doubleValue)}function tA(t){return tg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e,n){this.field=e,this.transform=n}}function bD(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof ol&&r instanceof ol||i instanceof ll&&r instanceof ll?ha(i.elements,r.elements,In):i instanceof Mc&&r instanceof Mc?In(i.Ae,r.Ae):i instanceof al&&r instanceof al}(t.transform,e.transform)}class AD{constructor(e,n){this.version=e,this.transformResults=n}}class cn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new cn}static exists(e){return new cn(void 0,e)}static updateTime(e){return new cn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class xh{}function nA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ag(t.key,cn.none()):new Il(t.key,t.data,cn.none());{const n=t.data,i=It.empty();let r=new We(ut.comparator);for(let s of e.fields)if(!r.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?i.delete(s):i.set(s,a),r=r.add(s)}return new vr(t.key,i,new Ut(r.toArray()),cn.none())}}function SD(t,e,n){t instanceof Il?function(r,s,a){const l=r.value.clone(),u=y0(r.fieldTransforms,s,a.transformResults);l.setAll(u),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof vr?function(r,s,a){if(!Bu(r.precondition,s))return void s.convertToUnknownDocument(a.version);const l=y0(r.fieldTransforms,s,a.transformResults),u=s.data;u.setAll(iA(r)),u.setAll(l),s.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(t,e,n):function(r,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Po(t,e,n,i){return t instanceof Il?function(s,a,l,u){if(!Bu(s.precondition,a))return l;const c=s.value.clone(),f=_0(s.fieldTransforms,u,a);return c.setAll(f),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),null}(t,e,n,i):t instanceof vr?function(s,a,l,u){if(!Bu(s.precondition,a))return l;const c=_0(s.fieldTransforms,u,a),f=a.data;return f.setAll(iA(s)),f.setAll(c),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,i):function(s,a,l){return Bu(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function wD(t,e){let n=null;for(const i of t.fieldTransforms){const r=e.data.field(i.field),s=W2(i.transform,r||null);s!=null&&(n===null&&(n=It.empty()),n.set(i.field,s))}return n||null}function g0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&ha(i,r,(s,a)=>bD(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Il extends xh{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class vr extends xh{constructor(e,n,i,r,s=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function iA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function y0(t,e,n){const i=new Map;fe(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let r=0;r<n.length;r++){const s=t[r],a=s.transform,l=e.data.field(s.field);i.set(s.field,ED(a,l,n[r]))}return i}function _0(t,e,n){const i=new Map;for(const r of t){const s=r.transform,a=n.data.field(r.field);i.set(r.field,vD(s,a,e))}return i}class ag extends xh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xD extends xh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&SD(s,e,i[r])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Po(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Po(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=X2();return this.mutations.forEach(r=>{const s=e.get(r.key),a=s.overlayedDocument;let l=this.applyToLocalView(a,s.mutatedFields);l=n.has(r.key)?null:l;const u=nA(a,l);u!==null&&i.set(r.key,u),a.isValidDocument()||a.convertToNoDocument($.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ae())}isEqual(e){return this.batchId===e.batchId&&ha(this.mutations,e.mutations,(n,i)=>g0(n,i))&&ha(this.baseMutations,e.baseMutations,(n,i)=>g0(n,i))}}class og{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){fe(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let r=function(){return mD}();const s=e.mutations;for(let a=0;a<s.length;a++)r=r.insert(s[a].key,i[a].version);return new og(e,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze,ue;function ND(t){switch(t){case U.OK:return Y(64938);case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0;default:return Y(15467,{code:t})}}function rA(t){if(t===void 0)return si("GRPC error has no .code"),U.UNKNOWN;switch(t){case ze.OK:return U.OK;case ze.CANCELLED:return U.CANCELLED;case ze.UNKNOWN:return U.UNKNOWN;case ze.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case ze.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case ze.INTERNAL:return U.INTERNAL;case ze.UNAVAILABLE:return U.UNAVAILABLE;case ze.UNAUTHENTICATED:return U.UNAUTHENTICATED;case ze.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case ze.NOT_FOUND:return U.NOT_FOUND;case ze.ALREADY_EXISTS:return U.ALREADY_EXISTS;case ze.PERMISSION_DENIED:return U.PERMISSION_DENIED;case ze.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case ze.ABORTED:return U.ABORTED;case ze.OUT_OF_RANGE:return U.OUT_OF_RANGE;case ze.UNIMPLEMENTED:return U.UNIMPLEMENTED;case ze.DATA_LOSS:return U.DATA_LOSS;default:return Y(39323,{code:t})}}(ue=ze||(ze={}))[ue.OK=0]="OK",ue[ue.CANCELLED=1]="CANCELLED",ue[ue.UNKNOWN=2]="UNKNOWN",ue[ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ue[ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ue[ue.NOT_FOUND=5]="NOT_FOUND",ue[ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",ue[ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",ue[ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",ue[ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ue[ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ue[ue.ABORTED=10]="ABORTED",ue[ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",ue[ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",ue[ue.INTERNAL=13]="INTERNAL",ue[ue.UNAVAILABLE=14]="UNAVAILABLE",ue[ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD=new Ji([4294967295,4294967295],0);function v0(t){const e=DD().encode(t),n=new v2;return n.update(e),new Uint8Array(n.digest())}function E0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ji([n,i],0),new Ji([r,s],0)]}class lg{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new mo(`Invalid padding: ${n}`);if(i<0)throw new mo(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new mo(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new mo(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ji.fromNumber(this.ge)}ye(e,n,i){let r=e.add(n.multiply(Ji.fromNumber(i)));return r.compare(OD)===1&&(r=new Ji([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=v0(e),[i,r]=E0(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(i,r,s);if(!this.we(a))return!1}return!0}static create(e,n,i){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new lg(s,r,n);return i.forEach(l=>a.insert(l)),a}insert(e){if(this.ge===0)return;const n=v0(e),[i,r]=E0(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(i,r,s);this.be(a)}}be(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class mo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e,n,i,r,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const r=new Map;return r.set(e,Nl.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Rh($.min(),r,new Ne(se),ai(),ae())}}class Nl{constructor(e,n,i,r,s){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Nl(i,n,ae(),ae(),ae())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(e,n,i,r){this.Se=e,this.removedTargetIds=n,this.key=i,this.De=r}}class sA{constructor(e,n){this.targetId=e,this.Ce=n}}class aA{constructor(e,n,i=ft.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}}class T0{constructor(){this.ve=0,this.Fe=b0(),this.Me=ft.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ae(),n=ae(),i=ae();return this.Fe.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:Y(38017,{changeType:s})}}),new Nl(this.Me,this.xe,e,n,i)}Ke(){this.Oe=!1,this.Fe=b0()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,fe(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class MD{constructor(e){this.Ge=e,this.ze=new Map,this.je=ai(),this.He=mu(),this.Je=mu(),this.Ze=new Ne(se)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(e.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.Qe(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:Y(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((i,r)=>{this.rt(r)&&n(r)})}st(e){const n=e.targetId,i=e.Ce.count,r=this.ot(n);if(r){const s=r.target;if(_m(s))if(i===0){const a=new G(s.path);this.et(n,a,yt.newNoDocument(a,$.min()))}else fe(i===1,20013,{expectedCount:i});else{const a=this._t(n);if(a!==i){const l=this.ut(e),u=l?this.ct(l,e,a):1;if(u!==0){this.it(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=n;let a,l;try{a=or(i).toUint8Array()}catch(u){if(u instanceof D2)return Zr("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new lg(a,r,s)}catch(u){return Zr(u instanceof mo?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.ge===0?null:l}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let r=0;return i.forEach(s=>{const a=this.Ge.ht(),l=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.et(n,s,null),r++)}),r}Tt(e){const n=new Map;this.ze.forEach((s,a)=>{const l=this.ot(a);if(l){if(s.current&&_m(l.target)){const u=new G(l.target.path);this.It(u).has(a)||this.Et(a,u)||this.et(a,u,yt.newNoDocument(u,e))}s.Be&&(n.set(a,s.ke()),s.Ke())}});let i=ae();this.Je.forEach((s,a)=>{let l=!0;a.forEachWhile(u=>{const c=this.ot(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(i=i.add(s))}),this.je.forEach((s,a)=>a.setReadTime(e));const r=new Rh(e,n,this.Ze,this.je,i);return this.je=ai(),this.He=mu(),this.Je=mu(),this.Ze=new Ne(se),r}Ye(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,i),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,n)?r.qe(n,1):r.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new T0,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new We(se),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new We(se),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||F("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new T0),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function mu(){return new Ne(G.comparator)}function b0(){return new Ne(G.comparator)}const VD={asc:"ASCENDING",desc:"DESCENDING"},PD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kD={and:"AND",or:"OR"};class LD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Tm(t,e){return t.useProto3Json||Th(e)?e:{value:e}}function Vc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function oA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function UD(t,e){return Vc(t,e.toTimestamp())}function Rn(t){return fe(!!t,49232),$.fromTimestamp(function(n){const i=ar(n);return new xe(i.seconds,i.nanos)}(t))}function ug(t,e){return bm(t,e).canonicalString()}function bm(t,e){const n=function(r){return new Te(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function lA(t){const e=Te.fromString(t);return fe(dA(e),10190,{key:e.toString()}),e}function Am(t,e){return ug(t.databaseId,e.path)}function Zf(t,e){const n=lA(e);if(n.get(1)!==t.databaseId.projectId)throw new B(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new B(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new G(cA(n))}function uA(t,e){return ug(t.databaseId,e)}function jD(t){const e=lA(t);return e.length===4?Te.emptyPath():cA(e)}function Sm(t){return new Te(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function cA(t){return fe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function A0(t,e,n){return{name:Am(t,e),fields:n.value.mapValue.fields}}function zD(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Y(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(c,f){return c.useProto3Json?(fe(f===void 0||typeof f=="string",58123),ft.fromBase64String(f||"")):(fe(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),ft.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(c){const f=c.code===void 0?U.UNKNOWN:rA(c.code);return new B(f,c.message||"")}(a);n=new aA(i,r,s,l||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=Zf(t,i.document.name),s=Rn(i.document.updateTime),a=i.document.createTime?Rn(i.document.createTime):$.min(),l=new It({mapValue:{fields:i.document.fields}}),u=yt.newFoundDocument(r,s,a,l),c=i.targetIds||[],f=i.removedTargetIds||[];n=new Hu(c,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=Zf(t,i.document),s=i.readTime?Rn(i.readTime):$.min(),a=yt.newNoDocument(r,s),l=i.removedTargetIds||[];n=new Hu([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=Zf(t,i.document),s=i.removedTargetIds||[];n=new Hu([],s,r,null)}else{if(!("filter"in e))return Y(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:s}=i,a=new ID(r,s),l=i.targetId;n=new sA(l,a)}}return n}function BD(t,e){let n;if(e instanceof Il)n={update:A0(t,e.key,e.value)};else if(e instanceof ag)n={delete:Am(t,e.key)};else if(e instanceof vr)n={update:A0(t,e.key,e.data),updateMask:XD(e.fieldMask)};else{if(!(e instanceof xD))return Y(16599,{dt:e.type});n={verify:Am(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(s,a){const l=a.transform;if(l instanceof al)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof ol)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof ll)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Mc)return{fieldPath:a.field.canonicalString(),increment:l.Ae};throw Y(20930,{transform:a.transform})}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:UD(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Y(27497)}(t,e.precondition)),n}function HD(t,e){return t&&t.length>0?(fe(e!==void 0,14353),t.map(n=>function(r,s){let a=r.updateTime?Rn(r.updateTime):Rn(s);return a.isEqual($.min())&&(a=Rn(s)),new AD(a,r.transformResults||[])}(n,e))):[]}function qD(t,e){return{documents:[uA(t,e.path)]}}function FD(t,e){const n={structuredQuery:{}},i=e.path;let r;e.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=uA(t,r);const s=function(c){if(c.length!==0)return fA(dn.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const a=function(c){if(c.length!==0)return c.map(f=>function(p){return{field:ws(p.field),direction:YD(p.dir)}}(f))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=Tm(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:r}}function GD(t){let e=jD(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){fe(i===1,65062);const f=n.from[0];f.allDescendants?r=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(d){const p=hA(d);return p instanceof dn&&B2(p)?p.getFilters():[p]}(n.where));let a=[];n.orderBy&&(a=function(d){return d.map(p=>function(C){return new sl(xs(C.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(p))}(n.orderBy));let l=null;n.limit&&(l=function(d){let p;return p=typeof d=="object"?d.value:d,Th(p)?null:p}(n.limit));let u=null;n.startAt&&(u=function(d){const p=!!d.before,y=d.values||[];return new Oc(y,p)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const p=!d.before,y=d.values||[];return new Oc(y,p)}(n.endAt)),oD(e,r,a,s,l,"F",u,c)}function KD(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Y(28987,{purpose:r})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function hA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=xs(n.unaryFilter.field);return Fe.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=xs(n.unaryFilter.field);return Fe.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=xs(n.unaryFilter.field);return Fe.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=xs(n.unaryFilter.field);return Fe.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Y(61313);default:return Y(60726)}}(t):t.fieldFilter!==void 0?function(n){return Fe.create(xs(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Y(58110);default:return Y(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return dn.create(n.compositeFilter.filters.map(i=>hA(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Y(1026)}}(n.compositeFilter.op))}(t):Y(30097,{filter:t})}function YD(t){return VD[t]}function QD(t){return PD[t]}function $D(t){return kD[t]}function ws(t){return{fieldPath:t.canonicalString()}}function xs(t){return ut.fromServerFormat(t.fieldPath)}function fA(t){return t instanceof Fe?function(n){if(n.op==="=="){if(c0(n.value))return{unaryFilter:{field:ws(n.field),op:"IS_NAN"}};if(u0(n.value))return{unaryFilter:{field:ws(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(c0(n.value))return{unaryFilter:{field:ws(n.field),op:"IS_NOT_NAN"}};if(u0(n.value))return{unaryFilter:{field:ws(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ws(n.field),op:QD(n.op),value:n.value}}}(t):t instanceof dn?function(n){const i=n.getFilters().map(r=>fA(r));return i.length===1?i[0]:{compositeFilter:{op:$D(n.op),filters:i}}}(t):Y(54877,{filter:t})}function XD(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function dA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function mA(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e,n,i,r,s=$.min(),a=$.min(),l=ft.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new ki(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ki(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e){this.yt=e}}function WD(t){const e=GD({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Em(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(){this.Sn=new eO}addToCollectionParentIndex(e,n){return this.Sn.add(n),j.resolve()}getCollectionParents(e,n){return j.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return j.resolve()}deleteFieldIndex(e,n){return j.resolve()}deleteAllFieldIndexes(e){return j.resolve()}createTargetIndexes(e,n){return j.resolve()}getDocumentsMatchingTarget(e,n){return j.resolve(null)}getIndexType(e,n){return j.resolve(0)}getFieldIndexes(e,n){return j.resolve([])}getNextCollectionGroupToUpdate(e){return j.resolve(null)}getMinOffset(e,n){return j.resolve(sr.min())}getMinOffsetFromCollectionGroup(e,n){return j.resolve(sr.min())}updateCollectionGroup(e,n,i){return j.resolve()}updateIndexEntries(e,n){return j.resolve()}}class eO{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new We(Te.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new We(Te.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},pA=41943040;class Ct{static withCacheSize(e){return new Ct(e,Ct.DEFAULT_COLLECTION_PERCENTILE,Ct.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ct.DEFAULT_COLLECTION_PERCENTILE=10,Ct.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ct.DEFAULT=new Ct(pA,Ct.DEFAULT_COLLECTION_PERCENTILE,Ct.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ct.DISABLED=new Ct(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new ma(0)}static ar(){return new ma(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0="LruGarbageCollector",tO=1048576;function x0([t,e],[n,i]){const r=se(t,n);return r===0?se(e,i):r}class nO{constructor(e){this.Pr=e,this.buffer=new We(x0),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();x0(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class iO{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){F(w0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Da(n)?F(w0,"Ignoring IndexedDB error during garbage collection: ",n):await Na(n)}await this.Ar(3e5)})}}class rO{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return j.resolve(Eh.ce);const i=new nO(n);return this.Vr.forEachTarget(e,r=>i.Er(r.sequenceNumber)).next(()=>this.Vr.mr(e,r=>i.Er(r))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.Vr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(F("LruGarbageCollector","Garbage collection skipped; disabled"),j.resolve(S0)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(F("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),S0):this.gr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let i,r,s,a,l,u,c;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(F("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),r=this.params.maximumSequenceNumbersToCollect):r=d,a=Date.now(),this.nthSequenceNumber(e,r))).next(d=>(i=d,l=Date.now(),this.removeTargets(e,i,n))).next(d=>(s=d,u=Date.now(),this.removeOrphanedDocuments(e,i))).next(d=>(c=Date.now(),As()<=re.DEBUG&&F("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-f}ms
	Determined least recently used ${r} in `+(l-a)+`ms
	Removed ${s} targets in `+(u-l)+`ms
	Removed ${d} documents in `+(c-u)+`ms
Total Duration: ${c-f}ms`),j.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:d})))}}function sO(t,e){return new rO(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(){this.changes=new cs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,yt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?j.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&Po(i.mutation,r,Ut.empty(),xe.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,ae()).next(()=>i))}getLocalViewOfDocuments(e,n,i=ae()){const r=Pr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(s=>{let a=fo();return s.forEach((l,u)=>{a=a.insert(l,u.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const i=Pr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,ae()))}populateOverlays(e,n,i){const r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,i,r){let s=ai();const a=Vo(),l=function(){return Vo()}();return n.forEach((u,c)=>{const f=i.get(c.key);r.has(c.key)&&(f===void 0||f.mutation instanceof vr)?s=s.insert(c.key,c):f!==void 0?(a.set(c.key,f.mutation.getFieldMask()),Po(f.mutation,c,f.mutation.getFieldMask(),xe.now())):a.set(c.key,Ut.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,f)=>a.set(c,f)),n.forEach((c,f)=>l.set(c,new oO(f,a.get(c)??null))),l))}recalculateAndSaveOverlays(e,n){const i=Vo();let r=new Ne((a,l)=>a-l),s=ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const l of a)l.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let f=i.get(u)||Ut.empty();f=l.applyToLocalView(c,f),i.set(u,f);const d=(r.get(l.batchId)||ae()).add(u);r=r.insert(l.batchId,d)})}).next(()=>{const a=[],l=r.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),c=u.key,f=u.value,d=X2();f.forEach(p=>{if(!s.has(p)){const y=nA(n.get(p),i.get(p));y!==null&&d.set(p,y),s=s.add(p)}}),a.push(this.documentOverlayCache.saveOverlays(e,c,d))}return j.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return lD(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):G2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(s=>{const a=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-s.size):j.resolve(Pr());let l=tl,u=s;return a.next(c=>j.forEach(c,(f,d)=>(l<d.largestBatchId&&(l=d.largestBatchId),s.get(f)?j.resolve():this.remoteDocumentCache.getEntry(e,f).next(p=>{u=u.insert(f,p)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,ae())).next(f=>({batchId:l,changes:$2(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new G(n)).next(i=>{let r=fo();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){const s=n.collectionGroup;let a=fo();return this.indexManager.getCollectionParents(e,s).next(l=>j.forEach(l,u=>{const c=function(d,p){return new Oa(p,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,i,r).next(f=>{f.forEach((d,p)=>{a=a.insert(d,p)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,s,r))).next(a=>{s.forEach((u,c)=>{const f=c.getKey();a.get(f)===null&&(a=a.insert(f,yt.newInvalidDocument(f)))});let l=fo();return a.forEach((u,c)=>{const f=s.get(u);f!==void 0&&Po(f.mutation,c,Ut.empty(),xe.now()),Sh(n,c)&&(l=l.insert(u,c))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return j.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:Rn(r.createTime)}}(n)),j.resolve()}getNamedQuery(e,n){return j.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,function(r){return{name:r.name,query:WD(r.bundledQuery),readTime:Rn(r.readTime)}}(n)),j.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(){this.overlays=new Ne(G.comparator),this.Lr=new Map}getOverlay(e,n){return j.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Pr();return j.forEach(n,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,s)=>{this.bt(e,n,s)}),j.resolve()}removeOverlaysForBatchId(e,n,i){const r=this.Lr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Lr.delete(i)),j.resolve()}getOverlaysForCollection(e,n,i){const r=Pr(),s=n.length+1,a=new G(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const u=l.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>i&&r.set(u.getKey(),u)}return j.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let s=new Ne((c,f)=>c-f);const a=this.overlays.getIterator();for(;a.hasNext();){const c=a.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>i){let f=s.get(c.largestBatchId);f===null&&(f=Pr(),s=s.insert(c.largestBatchId,f)),f.set(c.getKey(),c)}}const l=Pr(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,f)=>l.set(c,f)),!(l.size()>=r)););return j.resolve(l)}bt(e,n,i){const r=this.overlays.get(i.key);if(r!==null){const a=this.Lr.get(r.largestBatchId).delete(i.key);this.Lr.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new CD(n,i));let s=this.Lr.get(n);s===void 0&&(s=ae(),this.Lr.set(n,s)),this.Lr.set(n,s.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(){this.sessionToken=ft.EMPTY_BYTE_STRING}getSessionToken(e){return j.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,j.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(){this.kr=new We(tt.Kr),this.qr=new We(tt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const i=new tt(e,n);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Wr(new tt(e,n))}Qr(e,n){e.forEach(i=>this.removeReference(i,n))}Gr(e){const n=new G(new Te([])),i=new tt(n,e),r=new tt(n,e+1),s=[];return this.qr.forEachInRange([i,r],a=>{this.Wr(a),s.push(a.key)}),s}zr(){this.kr.forEach(e=>this.Wr(e))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new G(new Te([])),i=new tt(n,e),r=new tt(n,e+1);let s=ae();return this.qr.forEachInRange([i,r],a=>{s=s.add(a.key)}),s}containsKey(e){const n=new tt(e,0),i=this.kr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class tt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return G.comparator(e.key,n.key)||se(e.Hr,n.Hr)}static Ur(e,n){return se(e.Hr,n.Hr)||G.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new We(tt.Kr)}checkEmpty(e){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){const s=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new RD(s,n,i,r);this.mutationQueue.push(a);for(const l of r)this.Jr=this.Jr.add(new tt(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return j.resolve(a)}lookupMutationBatch(e,n){return j.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,r=this.Xr(i),s=r<0?0:r;return j.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?Zp:this.Yn-1)}getAllMutationBatches(e){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new tt(n,0),r=new tt(n,Number.POSITIVE_INFINITY),s=[];return this.Jr.forEachInRange([i,r],a=>{const l=this.Zr(a.Hr);s.push(l)}),j.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new We(se);return n.forEach(r=>{const s=new tt(r,0),a=new tt(r,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([s,a],l=>{i=i.add(l.Hr)})}),j.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,r=i.length+1;let s=i;G.isDocumentKey(s)||(s=s.child(""));const a=new tt(new G(s),0);let l=new We(se);return this.Jr.forEachWhile(u=>{const c=u.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(l=l.add(u.Hr)),!0)},a),j.resolve(this.Yr(l))}Yr(e){const n=[];return e.forEach(i=>{const r=this.Zr(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){fe(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return j.forEach(n.mutations,r=>{const s=new tt(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Jr=i})}nr(e){}containsKey(e,n){const i=new tt(n,0),r=this.Jr.firstAfterOrEqual(i);return j.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,j.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(e){this.ti=e,this.docs=function(){return new Ne(G.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,r=this.docs.get(i),s=r?r.size:0,a=this.ti(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return j.resolve(i?i.document.mutableCopy():yt.newInvalidDocument(n))}getEntries(e,n){let i=ai();return n.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():yt.newInvalidDocument(r))}),j.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let s=ai();const a=n.path,l=new G(a.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:c,value:{document:f}}=u.getNext();if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||U6(L6(f),i)<=0||(r.has(f.key)||Sh(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return j.resolve(s)}getAllFromCollectionGroup(e,n,i,r){Y(9500)}ni(e,n){return j.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new mO(this)}getSize(e){return j.resolve(this.size)}}class mO extends aO{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.Mr.addEntry(e,r)):this.Mr.removeEntry(i)}),j.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(e){this.persistence=e,this.ri=new cs(n=>ng(n),ig),this.lastRemoteSnapshotVersion=$.min(),this.highestTargetId=0,this.ii=0,this.si=new cg,this.targetCount=0,this.oi=ma._r()}forEachTarget(e,n){return this.ri.forEach((i,r)=>n(r)),j.resolve()}getLastRemoteSnapshotVersion(e){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return j.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ii&&(this.ii=n),j.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new ma(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,j.resolve()}updateTargetData(e,n){return this.lr(n),j.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,j.resolve()}removeTargets(e,n,i){let r=0;const s=[];return this.ri.forEach((a,l)=>{l.sequenceNumber<=n&&i.get(l.targetId)===null&&(this.ri.delete(a),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),r++)}),j.waitFor(s).next(()=>r)}getTargetCount(e){return j.resolve(this.targetCount)}getTargetData(e,n){const i=this.ri.get(n)||null;return j.resolve(i)}addMatchingKeys(e,n,i){return this.si.$r(n,i),j.resolve()}removeMatchingKeys(e,n,i){this.si.Qr(n,i);const r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(a=>{s.push(r.markPotentiallyOrphaned(e,a))}),j.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),j.resolve()}getMatchingKeysForTargetId(e,n){const i=this.si.jr(n);return j.resolve(i)}containsKey(e,n){return j.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e,n){this._i={},this.overlays={},this.ai=new Eh(0),this.ui=!1,this.ui=!0,this.ci=new hO,this.referenceDelegate=e(this),this.li=new pO(this),this.indexManager=new ZD,this.remoteDocumentCache=function(r){return new dO(r)}(i=>this.referenceDelegate.hi(i)),this.serializer=new JD(n),this.Pi=new uO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new cO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this._i[e.toKey()];return i||(i=new fO(n,this.referenceDelegate),this._i[e.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,i){F("MemoryPersistence","Starting transaction:",e);const r=new gO(this.ai.next());return this.referenceDelegate.Ti(),i(r).next(s=>this.referenceDelegate.Ii(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ei(e,n){return j.or(Object.values(this._i).map(i=>()=>i.containsKey(e,n)))}}class gO extends z6{constructor(e){super(),this.currentSequenceNumber=e}}class hg{constructor(e){this.persistence=e,this.Ri=new cg,this.Ai=null}static Vi(e){return new hg(e)}get di(){if(this.Ai)return this.Ai;throw Y(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.di.delete(i.toString()),j.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.di.add(i.toString()),j.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),j.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach(r=>this.di.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(s=>this.di.add(s.toString()))}).next(()=>i.removeTargetData(e,n))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.di,i=>{const r=G.fromPath(i);return this.mi(e,r).next(s=>{s||n.removeEntry(r,$.min())})}).next(()=>(this.Ai=null,n.apply(e)))}updateLimboDocument(e,n){return this.mi(e,n).next(i=>{i?this.di.delete(n.toString()):this.di.add(n.toString())})}hi(e){return 0}mi(e,n){return j.or([()=>j.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Pc{constructor(e,n){this.persistence=e,this.fi=new cs(i=>q6(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=sO(this,n)}static Vi(e,n){return new Pc(e,n)}Ti(){}Ii(e){return j.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(r=>i+r))}pr(e){let n=0;return this.mr(e,i=>{n++}).next(()=>n)}mr(e,n){return j.forEach(this.fi,(i,r)=>this.wr(e,i,r).next(s=>s?j.resolve():n(r)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.ni(e,a=>this.wr(e,a,n).next(l=>{l||(i++,s.removeEntry(a,$.min()))})).next(()=>s.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),j.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),j.resolve()}removeReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),j.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),j.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ju(e.data.value)),n}wr(e,n,i){return j.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const r=this.fi.get(n);return j.resolve(r!==void 0&&r>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.Ts=i,this.Is=r}static Es(e,n){let i=ae(),r=ae();for(const s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new fg(e,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=function(){return FC()?8:B6(_t())>0?6:4}()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,r){const s={result:null};return this.gs(e,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.ps(e,n,r,i).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new yO;return this.ys(e,n,a).next(l=>{if(s.result=l,this.As)return this.ws(e,n,a,l.size)})}).next(()=>s.result)}ws(e,n,i,r){return i.documentReadCount<this.Vs?(As()<=re.DEBUG&&F("QueryEngine","SDK will not create cache indexes for query:",Ss(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),j.resolve()):(As()<=re.DEBUG&&F("QueryEngine","Query:",Ss(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.ds*r?(As()<=re.DEBUG&&F("QueryEngine","The SDK decides to create cache indexes for query:",Ss(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xn(n))):j.resolve())}gs(e,n){if(m0(n))return j.resolve(null);let i=xn(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=Em(n,null,"F"),i=xn(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const a=ae(...s);return this.fs.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,i).next(u=>{const c=this.bs(n,l);return this.Ss(n,c,a,u.readTime)?this.gs(e,Em(n,null,"F")):this.Ds(e,c,n,u)}))})))}ps(e,n,i,r){return m0(n)||r.isEqual($.min())?j.resolve(null):this.fs.getDocuments(e,i).next(s=>{const a=this.bs(n,s);return this.Ss(n,a,i,r)?j.resolve(null):(As()<=re.DEBUG&&F("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Ss(n)),this.Ds(e,a,n,k6(r,tl)).next(l=>l))})}bs(e,n){let i=new We(Y2(e));return n.forEach((r,s)=>{Sh(e,s)&&(i=i.add(s))}),i}Ss(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}ys(e,n,i){return As()<=re.DEBUG&&F("QueryEngine","Using full collection scan to execute query:",Ss(n)),this.fs.getDocumentsMatchingQuery(e,n,sr.min(),i)}Ds(e,n,i,r){return this.fs.getDocumentsMatchingQuery(e,i,r).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dg="LocalStore",vO=3e8;class EO{constructor(e,n,i,r){this.persistence=e,this.Cs=n,this.serializer=r,this.vs=new Ne(se),this.Fs=new cs(s=>ng(s),ig),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(i)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lO(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.vs))}}function TO(t,e,n,i){return new EO(t,e,n,i)}async function yA(t,e){const n=X(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n.Os(e),n.mutationQueue.getAllMutationBatches(i))).next(s=>{const a=[],l=[];let u=ae();for(const c of r){a.push(c.batchId);for(const f of c.mutations)u=u.add(f.key)}for(const c of s){l.push(c.batchId);for(const f of c.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(i,u).next(c=>({Ns:c,removedBatchIds:a,addedBatchIds:l}))})})}function bO(t,e){const n=X(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=n.xs.newChangeBuffer({trackRemovals:!0});return function(l,u,c,f){const d=c.batch,p=d.keys();let y=j.resolve();return p.forEach(C=>{y=y.next(()=>f.getEntry(u,C)).next(M=>{const D=c.docVersions.get(C);fe(D!==null,48541),M.version.compareTo(D)<0&&(d.applyToRemoteDocument(M,c),M.isValidDocument()&&(M.setReadTime(c.commitVersion),f.addEntry(M)))})}),y.next(()=>l.mutationQueue.removeMutationBatch(u,d))}(n,i,e,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(l){let u=ae();for(let c=0;c<l.mutationResults.length;++c)l.mutationResults[c].transformResults.length>0&&(u=u.add(l.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function _A(t){const e=X(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.li.getLastRemoteSnapshotVersion(n))}function AO(t,e){const n=X(t),i=e.snapshotVersion;let r=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.xs.newChangeBuffer({trackRemovals:!0});r=n.vs;const l=[];e.targetChanges.forEach((f,d)=>{const p=r.get(d);if(!p)return;l.push(n.li.removeMatchingKeys(s,f.removedDocuments,d).next(()=>n.li.addMatchingKeys(s,f.addedDocuments,d)));let y=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?y=y.withResumeToken(ft.EMPTY_BYTE_STRING,$.min()).withLastLimboFreeSnapshotVersion($.min()):f.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(f.resumeToken,i)),r=r.insert(d,y),function(M,D,A){return M.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=vO?!0:A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size>0}(p,y,f)&&l.push(n.li.updateTargetData(s,y))});let u=ai(),c=ae();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),l.push(SO(s,a,e.documentUpdates).next(f=>{u=f.Bs,c=f.Ls})),!i.isEqual($.min())){const f=n.li.getLastRemoteSnapshotVersion(s).next(d=>n.li.setTargetsMetadata(s,s.currentSequenceNumber,i));l.push(f)}return j.waitFor(l).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.vs=r,s))}function SO(t,e,n){let i=ae(),r=ae();return n.forEach(s=>i=i.add(s)),e.getEntries(t,i).next(s=>{let a=ai();return n.forEach((l,u)=>{const c=s.get(l);u.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(l)),u.isNoDocument()&&u.version.isEqual($.min())?(e.removeEntry(l,u.readTime),a=a.insert(l,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),a=a.insert(l,u)):F(dg,"Ignoring outdated watch update for ",l,". Current version:",c.version," Watch version:",u.version)}),{Bs:a,Ls:r}})}function wO(t,e){const n=X(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Zp),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function xO(t,e){const n=X(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.li.getTargetData(i,e).next(s=>s?(r=s,j.resolve(r)):n.li.allocateTargetId(i).next(a=>(r=new ki(e,a,"TargetPurposeListen",i.currentSequenceNumber),n.li.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.vs.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.vs=n.vs.insert(i.targetId,i),n.Fs.set(e,i.targetId)),i})}async function wm(t,e,n){const i=X(t),r=i.vs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,a=>i.persistence.referenceDelegate.removeTarget(a,r))}catch(a){if(!Da(a))throw a;F(dg,`Failed to update sequence numbers for target ${e}: ${a}`)}i.vs=i.vs.remove(e),i.Fs.delete(r.target)}function R0(t,e,n){const i=X(t);let r=$.min(),s=ae();return i.persistence.runTransaction("Execute query","readwrite",a=>function(u,c,f){const d=X(u),p=d.Fs.get(f);return p!==void 0?j.resolve(d.vs.get(p)):d.li.getTargetData(c,f)}(i,a,xn(e)).next(l=>{if(l)return r=l.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(a,l.targetId).next(u=>{s=u})}).next(()=>i.Cs.getDocumentsMatchingQuery(a,e,n?r:$.min(),n?s:ae())).next(l=>(RO(i,hD(e),l),{documents:l,ks:s})))}function RO(t,e,n){let i=t.Ms.get(e)||$.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),t.Ms.set(e,i)}class C0{constructor(){this.activeTargetIds=yD()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class CO{constructor(){this.vo=new C0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,i){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new C0,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0="ConnectivityMonitor";class N0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){F(I0,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){F(I0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pu=null;function xm(){return pu===null?pu=function(){return 268435456+Math.round(2147483648*Math.random())}():pu++,"0x"+pu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ed="RestConnection",NO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class DO{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${i}/databases/${r}`,this.$o=this.databaseId.database===Nc?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Wo(e,n,i,r,s){const a=xm(),l=this.Qo(e,n.toUriEncodedString());F(ed,`Sending RPC '${e}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(u,r,s);const{host:c}=new URL(l),f=os(c);return this.zo(e,l,u,i,f).then(d=>(F(ed,`Received RPC '${e}' ${a}: `,d),d),d=>{throw Zr(ed,`RPC '${e}' ${a} failed with error: `,d,"url: ",l,"request:",i),d})}jo(e,n,i,r,s,a){return this.Wo(e,n,i,r,s)}Go(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ia}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}Qo(e,n){const i=NO[e];let r=`${this.qo}/v1/${n}:${i}`;return this.databaseInfo.apiKey&&(r=`${r}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),r}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pt="WebChannelConnection",io=(t,e,n)=>{t.listen(e,i=>{try{n(i)}catch(r){setTimeout(()=>{throw r},0)}})};class Xs extends DO{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Xs.c_){const e=A2();io(e,b2.STAT_EVENT,n=>{n.stat===dm.PROXY?F(pt,"STAT_EVENT: detected buffering proxy"):n.stat===dm.NOPROXY&&F(pt,"STAT_EVENT: detected no buffering proxy")}),Xs.c_=!0}}zo(e,n,i,r,s){const a=xm();return new Promise((l,u)=>{const c=new E2;c.setWithCredentials(!0),c.listenOnce(T2.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Uu.NO_ERROR:const d=c.getResponseJson();F(pt,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(d)),l(d);break;case Uu.TIMEOUT:F(pt,`RPC '${e}' ${a} timed out`),u(new B(U.DEADLINE_EXCEEDED,"Request time out"));break;case Uu.HTTP_ERROR:const p=c.getStatus();if(F(pt,`RPC '${e}' ${a} failed with status:`,p,"response text:",c.getResponseText()),p>0){let y=c.getResponseJson();Array.isArray(y)&&(y=y[0]);const C=y==null?void 0:y.error;if(C&&C.status&&C.message){const M=function(A){const E=A.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(E)>=0?E:U.UNKNOWN}(C.status);u(new B(M,C.message))}else u(new B(U.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new B(U.UNAVAILABLE,"Connection failed."));break;default:Y(9055,{l_:e,streamId:a,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{F(pt,`RPC '${e}' ${a} completed.`)}});const f=JSON.stringify(r);F(pt,`RPC '${e}' ${a} sending request:`,r),c.send(n,"POST",f,i,15)})}T_(e,n,i){const r=xm(),s=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=this.createWebChannelTransport(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Go(l.initMessageHeaders,n,i),l.encodeInitMessageHeaders=!0;const c=s.join("");F(pt,`Creating RPC '${e}' stream ${r}: ${c}`,l);const f=a.createWebChannel(c,l);this.I_(f);let d=!1,p=!1;const y=new OO({Ho:C=>{p?F(pt,`Not sending because RPC '${e}' stream ${r} is closed:`,C):(d||(F(pt,`Opening RPC '${e}' stream ${r} transport.`),f.open(),d=!0),F(pt,`RPC '${e}' stream ${r} sending:`,C),f.send(C))},Jo:()=>f.close()});return io(f,ho.EventType.OPEN,()=>{p||(F(pt,`RPC '${e}' stream ${r} transport opened.`),y.i_())}),io(f,ho.EventType.CLOSE,()=>{p||(p=!0,F(pt,`RPC '${e}' stream ${r} transport closed`),y.o_(),this.E_(f))}),io(f,ho.EventType.ERROR,C=>{p||(p=!0,Zr(pt,`RPC '${e}' stream ${r} transport errored. Name:`,C.name,"Message:",C.message),y.o_(new B(U.UNAVAILABLE,"The operation could not be completed")))}),io(f,ho.EventType.MESSAGE,C=>{var M;if(!p){const D=C.data[0];fe(!!D,16349);const A=D,E=(A==null?void 0:A.error)||((M=A[0])==null?void 0:M.error);if(E){F(pt,`RPC '${e}' stream ${r} received error:`,E);const S=E.status;let I=function(T){const v=ze[T];if(v!==void 0)return rA(v)}(S),k=E.message;S==="NOT_FOUND"&&k.includes("database")&&k.includes("does not exist")&&k.includes(this.databaseId.database)&&Zr(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),I===void 0&&(I=U.INTERNAL,k="Unknown error status: "+S+" with message "+E.message),p=!0,y.o_(new B(I,k)),f.close()}else F(pt,`RPC '${e}' stream ${r} received:`,D),y.__(D)}}),Xs.u_(),setTimeout(()=>{y.s_()},0),y}terminate(){this.a_.forEach(e=>e.close()),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter(n=>n===e)}Go(e,n,i){super.Go(e,n,i),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return S2()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MO(t){return new Xs(t)}function td(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ch(t){return new LD(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xs.c_=!1;class vA{constructor(e,n,i=1e3,r=1.5,s=6e4){this.Ci=e,this.timerId=n,this.R_=i,this.A_=r,this.V_=s,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),r=Math.max(0,n-i);r>0&&F("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0="PersistentStream";class EA{constructor(e,n,i,r,s,a,l,u){this.Ci=e,this.b_=i,this.S_=r,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new vA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(si(n.toString()),si("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.D_===n&&this.G_(i,r)},i=>{e(()=>{const r=new B(U.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(r)})})}G_(e,n){const i=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo(()=>{i(()=>this.listener.Zo())}),this.stream.Yo(()=>{i(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(r=>{i(()=>this.z_(r))}),this.stream.onMessage(r=>{i(()=>++this.F_==1?this.H_(r):this.onNext(r))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return F(D0,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget(()=>this.D_===e?n():(F(D0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class VO extends EA{constructor(e,n,i,r,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,a),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=zD(this.serializer,e),i=function(s){if(!("targetChange"in s))return $.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?$.min():a.readTime?Rn(a.readTime):$.min()}(e);return this.listener.J_(n,i)}Z_(e){const n={};n.database=Sm(this.serializer),n.addTarget=function(s,a){let l;const u=a.target;if(l=_m(u)?{documents:qD(s,u)}:{query:FD(s,u).ft},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=oA(s,a.resumeToken);const c=Tm(s,a.expectedCount);c!==null&&(l.expectedCount=c)}else if(a.snapshotVersion.compareTo($.min())>0){l.readTime=Vc(s,a.snapshotVersion.toTimestamp());const c=Tm(s,a.expectedCount);c!==null&&(l.expectedCount=c)}return l}(this.serializer,e);const i=KD(this.serializer,e);i&&(n.labels=i),this.K_(n)}X_(e){const n={};n.database=Sm(this.serializer),n.removeTarget=e,this.K_(n)}}class PO extends EA{constructor(e,n,i,r,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,a),this.serializer=s}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=HD(e.writeResults,e.commitTime),i=Rn(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=Sm(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>BD(this.serializer,i))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{}class LO extends kO{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new B(U.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,i,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Wo(e,bm(n,i),r,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new B(U.UNKNOWN,s.toString())})}jo(e,n,i,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.jo(e,bm(n,i),r,a,l,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new B(U.UNKNOWN,a.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}function UO(t,e,n,i){return new LO(t,e,n,i)}class jO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(si(n),this.aa=!1):F("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const es="RemoteStore";class zO{constructor(e,n,i,r,s){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=s,this.Aa.Mo(a=>{i.enqueueAndForget(async()=>{hs(this)&&(F(es,"Restarting streams for network reachability change."),await async function(u){const c=X(u);c.Ea.add(4),await Dl(c),c.Va.set("Unknown"),c.Ea.delete(4),await Ih(c)}(this))})}),this.Va=new jO(i,r)}}async function Ih(t){if(hs(t))for(const e of t.Ra)await e(!0)}async function Dl(t){for(const e of t.Ra)await e(!1)}function TA(t,e){const n=X(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),yg(n)?gg(n):Ma(n).O_()&&pg(n,e))}function mg(t,e){const n=X(t),i=Ma(n);n.Ia.delete(e),i.O_()&&bA(n,e),n.Ia.size===0&&(i.O_()?i.L_():hs(n)&&n.Va.set("Unknown"))}function pg(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo($.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ma(t).Z_(e)}function bA(t,e){t.da.$e(e),Ma(t).X_(e)}function gg(t){t.da=new MD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Ma(t).start(),t.Va.ua()}function yg(t){return hs(t)&&!Ma(t).x_()&&t.Ia.size>0}function hs(t){return X(t).Ea.size===0}function AA(t){t.da=void 0}async function BO(t){t.Va.set("Online")}async function HO(t){t.Ia.forEach((e,n)=>{pg(t,e)})}async function qO(t,e){AA(t),yg(t)?(t.Va.ha(e),gg(t)):t.Va.set("Unknown")}async function FO(t,e,n){if(t.Va.set("Online"),e instanceof aA&&e.state===2&&e.cause)try{await async function(r,s){const a=s.cause;for(const l of s.targetIds)r.Ia.has(l)&&(await r.remoteSyncer.rejectListen(l,a),r.Ia.delete(l),r.da.removeTarget(l))}(t,e)}catch(i){F(es,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await kc(t,i)}else if(e instanceof Hu?t.da.Xe(e):e instanceof sA?t.da.st(e):t.da.tt(e),!n.isEqual($.min()))try{const i=await _A(t.localStore);n.compareTo(i)>=0&&await function(s,a){const l=s.da.Tt(a);return l.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const f=s.Ia.get(c);f&&s.Ia.set(c,f.withResumeToken(u.resumeToken,a))}}),l.targetMismatches.forEach((u,c)=>{const f=s.Ia.get(u);if(!f)return;s.Ia.set(u,f.withResumeToken(ft.EMPTY_BYTE_STRING,f.snapshotVersion)),bA(s,u);const d=new ki(f.target,u,c,f.sequenceNumber);pg(s,d)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(i){F(es,"Failed to raise snapshot:",i),await kc(t,i)}}async function kc(t,e,n){if(!Da(e))throw e;t.Ea.add(1),await Dl(t),t.Va.set("Offline"),n||(n=()=>_A(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{F(es,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Ih(t)})}function SA(t,e){return e().catch(n=>kc(t,n,e))}async function Nh(t){const e=X(t),n=ur(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Zp;for(;GO(e);)try{const r=await wO(e.localStore,i);if(r===null){e.Ta.length===0&&n.L_();break}i=r.batchId,KO(e,r)}catch(r){await kc(e,r)}wA(e)&&xA(e)}function GO(t){return hs(t)&&t.Ta.length<10}function KO(t,e){t.Ta.push(e);const n=ur(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function wA(t){return hs(t)&&!ur(t).x_()&&t.Ta.length>0}function xA(t){ur(t).start()}async function YO(t){ur(t).ra()}async function QO(t){const e=ur(t);for(const n of t.Ta)e.ea(n.mutations)}async function $O(t,e,n){const i=t.Ta.shift(),r=og.from(i,e,n);await SA(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await Nh(t)}async function XO(t,e){e&&ur(t).Y_&&await async function(i,r){if(function(a){return ND(a)&&a!==U.ABORTED}(r.code)){const s=i.Ta.shift();ur(i).B_(),await SA(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),await Nh(i)}}(t,e),wA(t)&&xA(t)}async function O0(t,e){const n=X(t);n.asyncQueue.verifyOperationInProgress(),F(es,"RemoteStore received new credentials");const i=hs(n);n.Ea.add(3),await Dl(n),i&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Ih(n)}async function JO(t,e){const n=X(t);e?(n.Ea.delete(2),await Ih(n)):e||(n.Ea.add(2),await Dl(n),n.Va.set("Unknown"))}function Ma(t){return t.ma||(t.ma=function(n,i,r){const s=X(n);return s.sa(),new VO(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Zo:BO.bind(null,t),Yo:HO.bind(null,t),t_:qO.bind(null,t),J_:FO.bind(null,t)}),t.Ra.push(async e=>{e?(t.ma.B_(),yg(t)?gg(t):t.Va.set("Unknown")):(await t.ma.stop(),AA(t))})),t.ma}function ur(t){return t.fa||(t.fa=function(n,i,r){const s=X(n);return s.sa(),new PO(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:YO.bind(null,t),t_:XO.bind(null,t),ta:QO.bind(null,t),na:$O.bind(null,t)}),t.Ra.push(async e=>{e?(t.fa.B_(),await Nh(t)):(await t.fa.stop(),t.Ta.length>0&&(F(es,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e,n,i,r,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,s){const a=Date.now()+i,l=new _g(e,n,a,r,s);return l.start(i),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new B(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vg(t,e){if(si("AsyncQueue",`${e}: ${t}`),Da(t))return new B(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{static emptySet(e){return new Js(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||G.comparator(n.key,i.key):(n,i)=>G.comparator(n.key,i.key),this.keyedMap=fo(),this.sortedSet=new Ne(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Js)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Js;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(){this.ga=new Ne(G.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Y(63341,{Vt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,i)=>{e.push(i)}),e}}class pa{constructor(e,n,i,r,s,a,l,u,c){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,i,r,s){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new pa(e,n,Js.emptySet(n),a,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ah(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(e=>e.Da())}}class ZO{constructor(){this.queries=V0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const r=X(n),s=r.queries;r.queries=V0(),s.forEach((a,l)=>{for(const u of l.ba)u.onError(i)})})(this,new B(U.ABORTED,"Firestore shutting down"))}}function V0(){return new cs(t=>K2(t),Ah)}async function e5(t,e){const n=X(t);let i=3;const r=e.query;let s=n.queries.get(r);s?!s.Sa()&&e.Da()&&(i=2):(s=new WO,i=e.Da()?0:1);try{switch(i){case 0:s.wa=await n.onListen(r,!0);break;case 1:s.wa=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(a){const l=vg(a,`Initialization of query '${Ss(e.query)}' failed`);return void e.onError(l)}n.queries.set(r,s),s.ba.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&Eg(n)}async function t5(t,e){const n=X(t),i=e.query;let r=3;const s=n.queries.get(i);if(s){const a=s.ba.indexOf(e);a>=0&&(s.ba.splice(a,1),s.ba.length===0?r=e.Da()?0:1:!s.Sa()&&e.Da()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function n5(t,e){const n=X(t);let i=!1;for(const r of e){const s=r.query,a=n.queries.get(s);if(a){for(const l of a.ba)l.Fa(r)&&(i=!0);a.wa=r}}i&&Eg(n)}function i5(t,e,n){const i=X(t),r=i.queries.get(e);if(r)for(const s of r.ba)s.onError(n);i.queries.delete(e)}function Eg(t){t.Ca.forEach(e=>{e.next()})}var Rm,P0;(P0=Rm||(Rm={})).Ma="default",P0.Cache="cache";class r5{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new pa(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.Ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=pa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Rm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e){this.key=e}}class CA{constructor(e){this.key=e}}class s5{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ae(),this.mutatedKeys=ae(),this.eu=Y2(e),this.tu=new Js(this.eu)}get nu(){return this.Za}ru(e,n){const i=n?n.iu:new M0,r=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,a=r,l=!1;const u=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,c=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((f,d)=>{const p=r.get(f),y=Sh(this.query,d)?d:null,C=!!p&&this.mutatedKeys.has(p.key),M=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let D=!1;p&&y?p.data.isEqual(y.data)?C!==M&&(i.track({type:3,doc:y}),D=!0):this.su(p,y)||(i.track({type:2,doc:y}),D=!0,(u&&this.eu(y,u)>0||c&&this.eu(y,c)<0)&&(l=!0)):!p&&y?(i.track({type:0,doc:y}),D=!0):p&&!y&&(i.track({type:1,doc:p}),D=!0,(u||c)&&(l=!0)),D&&(y?(a=a.add(y),s=M?s.add(f):s.delete(f)):(a=a.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const f=this.query.limitType==="F"?a.last():a.first();a=a.delete(f.key),s=s.delete(f.key),i.track({type:1,doc:f})}return{tu:a,iu:i,Ss:l,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort((f,d)=>function(y,C){const M=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Y(20277,{Vt:D})}};return M(y)-M(C)}(f.type,d.type)||this.eu(f.doc,d.doc)),this.ou(i),r=r??!1;const l=n&&!r?this._u():[],u=this.Ya.size===0&&this.current&&!r?1:0,c=u!==this.Xa;return this.Xa=u,a.length!==0||c?{snapshot:new pa(this.query,e.tu,s,a,e.mutatedKeys,u===0,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new M0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Za=this.Za.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Za=this.Za.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=ae(),this.tu.forEach(i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))});const n=[];return e.forEach(i=>{this.Ya.has(i)||n.push(new CA(i))}),this.Ya.forEach(i=>{e.has(i)||n.push(new RA(i))}),n}cu(e){this.Za=e.ks,this.Ya=ae();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return pa.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Tg="SyncEngine";class a5{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class o5{constructor(e){this.key=e,this.hu=!1}}class l5{constructor(e,n,i,r,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new cs(l=>K2(l),Ah),this.Iu=new Map,this.Eu=new Set,this.Ru=new Ne(G.comparator),this.Au=new Map,this.Vu=new cg,this.du={},this.mu=new Map,this.fu=ma.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function u5(t,e,n=!0){const i=VA(t);let r;const s=i.Tu.get(e);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.lu()):r=await IA(i,e,n,!0),r}async function c5(t,e){const n=VA(t);await IA(n,e,!0,!1)}async function IA(t,e,n,i){const r=await xO(t.localStore,xn(e)),s=r.targetId,a=t.sharedClientState.addLocalQueryTarget(s,n);let l;return i&&(l=await h5(t,e,s,a==="current",r.resumeToken)),t.isPrimaryClient&&n&&TA(t.remoteStore,r),l}async function h5(t,e,n,i,r){t.pu=(d,p,y)=>async function(M,D,A,E){let S=D.view.ru(A);S.Ss&&(S=await R0(M.localStore,D.query,!1).then(({documents:T})=>D.view.ru(T,S)));const I=E&&E.targetChanges.get(D.targetId),k=E&&E.targetMismatches.get(D.targetId)!=null,H=D.view.applyChanges(S,M.isPrimaryClient,I,k);return L0(M,D.targetId,H.au),H.snapshot}(t,d,p,y);const s=await R0(t.localStore,e,!0),a=new s5(e,s.ks),l=a.ru(s.documents),u=Nl.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),c=a.applyChanges(l,t.isPrimaryClient,u);L0(t,n,c.au);const f=new a5(e,n,a);return t.Tu.set(e,f),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function f5(t,e,n){const i=X(t),r=i.Tu.get(e),s=i.Iu.get(r.targetId);if(s.length>1)return i.Iu.set(r.targetId,s.filter(a=>!Ah(a,e))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await wm(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&mg(i.remoteStore,r.targetId),Cm(i,r.targetId)}).catch(Na)):(Cm(i,r.targetId),await wm(i.localStore,r.targetId,!0))}async function d5(t,e){const n=X(t),i=n.Tu.get(e),r=n.Iu.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),mg(n.remoteStore,i.targetId))}async function m5(t,e,n){const i=T5(t);try{const r=await function(a,l){const u=X(a),c=xe.now(),f=l.reduce((y,C)=>y.add(C.key),ae());let d,p;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let C=ai(),M=ae();return u.xs.getEntries(y,f).next(D=>{C=D,C.forEach((A,E)=>{E.isValidDocument()||(M=M.add(A))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,C)).next(D=>{d=D;const A=[];for(const E of l){const S=wD(E,d.get(E.key).overlayedDocument);S!=null&&A.push(new vr(E.key,S,U2(S.value.mapValue),cn.exists(!0)))}return u.mutationQueue.addMutationBatch(y,c,A,l)}).next(D=>{p=D;const A=D.applyToLocalDocumentSet(d,M);return u.documentOverlayCache.saveOverlays(y,D.batchId,A)})}).then(()=>({batchId:p.batchId,changes:$2(d)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(a,l,u){let c=a.du[a.currentUser.toKey()];c||(c=new Ne(se)),c=c.insert(l,u),a.du[a.currentUser.toKey()]=c}(i,r.batchId,n),await Ol(i,r.changes),await Nh(i.remoteStore)}catch(r){const s=vg(r,"Failed to persist write");n.reject(s)}}async function NA(t,e){const n=X(t);try{const i=await AO(n.localStore,e);e.targetChanges.forEach((r,s)=>{const a=n.Au.get(s);a&&(fe(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?a.hu=!0:r.modifiedDocuments.size>0?fe(a.hu,14607):r.removedDocuments.size>0&&(fe(a.hu,42227),a.hu=!1))}),await Ol(n,i,e)}catch(i){await Na(i)}}function k0(t,e,n){const i=X(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.Tu.forEach((s,a)=>{const l=a.view.va(e);l.snapshot&&r.push(l.snapshot)}),function(a,l){const u=X(a);u.onlineState=l;let c=!1;u.queries.forEach((f,d)=>{for(const p of d.ba)p.va(l)&&(c=!0)}),c&&Eg(u)}(i.eventManager,e),r.length&&i.Pu.J_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function p5(t,e,n){const i=X(t);i.sharedClientState.updateQueryState(e,"rejected",n);const r=i.Au.get(e),s=r&&r.key;if(s){let a=new Ne(G.comparator);a=a.insert(s,yt.newNoDocument(s,$.min()));const l=ae().add(s),u=new Rh($.min(),new Map,new Ne(se),a,l);await NA(i,u),i.Ru=i.Ru.remove(s),i.Au.delete(e),bg(i)}else await wm(i.localStore,e,!1).then(()=>Cm(i,e,n)).catch(Na)}async function g5(t,e){const n=X(t),i=e.batch.batchId;try{const r=await bO(n.localStore,e);OA(n,i,null),DA(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Ol(n,r)}catch(r){await Na(r)}}async function y5(t,e,n){const i=X(t);try{const r=await function(a,l){const u=X(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let f;return u.mutationQueue.lookupMutationBatch(c,l).next(d=>(fe(d!==null,37113),f=d.keys(),u.mutationQueue.removeMutationBatch(c,d))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,f,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,f)).next(()=>u.localDocuments.getDocuments(c,f))})}(i.localStore,e);OA(i,e,n),DA(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Ol(i,r)}catch(r){await Na(r)}}function DA(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function OA(t,e,n){const i=X(t);let r=i.du[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(n?s.reject(n):s.resolve(),r=r.remove(e)),i.du[i.currentUser.toKey()]=r}}function Cm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach(i=>{t.Vu.containsKey(i)||MA(t,i)})}function MA(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(mg(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),bg(t))}function L0(t,e,n){for(const i of n)i instanceof RA?(t.Vu.addReference(i.key,e),_5(t,i)):i instanceof CA?(F(Tg,"Document no longer in limbo: "+i.key),t.Vu.removeReference(i.key,e),t.Vu.containsKey(i.key)||MA(t,i.key)):Y(19791,{wu:i})}function _5(t,e){const n=e.key,i=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(i)||(F(Tg,"New document in limbo: "+n),t.Eu.add(i),bg(t))}function bg(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new G(Te.fromString(e)),i=t.fu.next();t.Au.set(i,new o5(n)),t.Ru=t.Ru.insert(n,i),TA(t.remoteStore,new ki(xn(rg(n.path)),i,"TargetPurposeLimboResolution",Eh.ce))}}async function Ol(t,e,n){const i=X(t),r=[],s=[],a=[];i.Tu.isEmpty()||(i.Tu.forEach((l,u)=>{a.push(i.pu(u,e,n).then(c=>{var f;if((c||n)&&i.isPrimaryClient){const d=c?!c.fromCache:(f=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:f.current;i.sharedClientState.updateQueryState(u.targetId,d?"current":"not-current")}if(c){r.push(c);const d=fg.Es(u.targetId,c);s.push(d)}}))}),await Promise.all(a),i.Pu.J_(r),await async function(u,c){const f=X(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>j.forEach(c,p=>j.forEach(p.Ts,y=>f.persistence.referenceDelegate.addReference(d,p.targetId,y)).next(()=>j.forEach(p.Is,y=>f.persistence.referenceDelegate.removeReference(d,p.targetId,y)))))}catch(d){if(!Da(d))throw d;F(dg,"Failed to update sequence numbers: "+d)}for(const d of c){const p=d.targetId;if(!d.fromCache){const y=f.vs.get(p),C=y.snapshotVersion,M=y.withLastLimboFreeSnapshotVersion(C);f.vs=f.vs.insert(p,M)}}}(i.localStore,s))}async function v5(t,e){const n=X(t);if(!n.currentUser.isEqual(e)){F(Tg,"User change. New user:",e.toKey());const i=await yA(n.localStore,e);n.currentUser=e,function(s,a){s.mu.forEach(l=>{l.forEach(u=>{u.reject(new B(U.CANCELLED,a))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Ol(n,i.Ns)}}function E5(t,e){const n=X(t),i=n.Au.get(e);if(i&&i.hu)return ae().add(i.key);{let r=ae();const s=n.Iu.get(e);if(!s)return r;for(const a of s){const l=n.Tu.get(a);r=r.unionWith(l.view.nu)}return r}}function VA(t){const e=X(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=NA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=E5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=p5.bind(null,e),e.Pu.J_=n5.bind(null,e.eventManager),e.Pu.yu=i5.bind(null,e.eventManager),e}function T5(t){const e=X(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=g5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=y5.bind(null,e),e}class Lc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ch(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return TO(this.persistence,new _O,e.initialUser,this.serializer)}Cu(e){return new gA(hg.Vi,this.serializer)}Du(e){return new CO}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Lc.provider={build:()=>new Lc};class b5 extends Lc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){fe(this.persistence.referenceDelegate instanceof Pc,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new iO(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Ct.withCacheSize(this.cacheSizeBytes):Ct.DEFAULT;return new gA(i=>Pc.Vi(i,n),this.serializer)}}class Im{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>k0(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=v5.bind(null,this.syncEngine),await JO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new ZO}()}createDatastore(e){const n=Ch(e.databaseInfo.databaseId),i=MO(e.databaseInfo);return UO(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,s,a,l){return new zO(i,r,s,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>k0(this.syncEngine,n,0),function(){return N0.v()?new N0:new IO}())}createSyncEngine(e,n){return function(r,s,a,l,u,c,f){const d=new l5(r,s,a,l,u,c);return f&&(d.gu=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(r){const s=X(r);F(es,"RemoteStore shutting down."),s.Ea.add(5),await Dl(s),s.Aa.shutdown(),s.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Im.provider={build:()=>new Im};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):si("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cr="FirestoreClient";class S5{constructor(e,n,i,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this._databaseInfo=r,this.user=gt.UNAUTHENTICATED,this.clientId=Wp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,async a=>{F(cr,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(i,a=>(F(cr,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=vg(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function nd(t,e){t.asyncQueue.verifyOperationInProgress(),F(cr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async r=>{i.isEqual(r)||(await yA(e.localStore,r),i=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function U0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await w5(t);F(cr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>O0(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>O0(e.remoteStore,r)),t._onlineComponents=e}async function w5(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){F(cr,"Using user provided OfflineComponentProvider");try{await nd(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(r){return r.name==="FirebaseError"?r.code===U.FAILED_PRECONDITION||r.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;Zr("Error using user provided cache. Falling back to memory cache: "+n),await nd(t,new Lc)}}else F(cr,"Using default OfflineComponentProvider"),await nd(t,new b5(void 0));return t._offlineComponents}async function PA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(F(cr,"Using user provided OnlineComponentProvider"),await U0(t,t._uninitializedComponentsProvider._online)):(F(cr,"Using default OnlineComponentProvider"),await U0(t,new Im))),t._onlineComponents}function x5(t){return PA(t).then(e=>e.syncEngine)}async function j0(t){const e=await PA(t),n=e.eventManager;return n.onListen=u5.bind(null,e.syncEngine),n.onUnlisten=f5.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=c5.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=d5.bind(null,e.syncEngine),n}function R5(t,e,n,i){const r=new A5(i),s=new r5(e,r,n);return t.asyncQueue.enqueueAndForget(async()=>e5(await j0(t),s)),()=>{r.Nu(),t.asyncQueue.enqueueAndForget(async()=>t5(await j0(t),s))}}function C5(t,e){const n=new Hr;return t.asyncQueue.enqueueAndForget(async()=>m5(await x5(t),e,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I5="ComponentProvider",z0=new Map;function N5(t,e,n,i,r){return new K6(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,kA(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA="firestore.googleapis.com",B0=!0;class H0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new B(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=LA,this.ssl=B0}else this.host=e.host,this.ssl=e.ssl??B0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=pA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<tO)throw new B(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}P6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kA(e.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new B(U.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new B(U.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new B(U.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Dh{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new H0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new B(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new B(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new H0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new w6;switch(i.type){case"firstParty":return new I6(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new B(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=z0.get(n);i&&(F(I5,"Removing Datastore"),z0.delete(n),i.terminate())}(this),Promise.resolve()}}function D5(t,e,n,i={}){var c;t=Wi(t,Dh);const r=os(e),s=t._getSettings(),a={...s,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;r&&(Up(`https://${l}`),jp("Firestore",!0)),s.host!==LA&&s.host!==l&&Zr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...s,host:l,ssl:r,emulatorOptions:i};if(!$r(u,a)&&(t._setSettings(u),i.mockUserToken)){let f,d;if(typeof i.mockUserToken=="string")f=i.mockUserToken,d=gt.MOCK_USER;else{f=Vb(i.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const p=i.mockUserToken.sub||i.mockUserToken.user_id;if(!p)throw new B(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new gt(p)}t._authCredentials=new x6(new x2(f,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new fs(this.firestore,e,this._query)}}class Ye{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ye(this.firestore,e,this._key)}toJSON(){return{type:Ye._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(Cl(n,Ye._jsonSchema))return new Ye(e,i||null,new G(Te.fromString(n.referencePath)))}}Ye._jsonSchemaVersion="firestore/documentReference/1.0",Ye._jsonSchema={type:Ke("string",Ye._jsonSchemaVersion),referencePath:Ke("string")};class Zi extends fs{constructor(e,n,i){super(e,n,rg(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ye(this.firestore,null,new G(e))}withConverter(e){return new Zi(this.firestore,e,this._path)}}function Ag(t,e,...n){if(t=Qe(t),R2("collection","path",e),t instanceof Dh){const i=Te.fromString(e,...n);return e0(i),new Zi(t,null,i)}{if(!(t instanceof Ye||t instanceof Zi))throw new B(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Te.fromString(e,...n));return e0(i),new Zi(t.firestore,null,i)}}function Uc(t,e,...n){if(t=Qe(t),arguments.length===1&&(e=Wp.newId()),R2("doc","path",e),t instanceof Dh){const i=Te.fromString(e,...n);return Zv(i),new Ye(t,null,new G(i))}{if(!(t instanceof Ye||t instanceof Zi))throw new B(U.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Te.fromString(e,...n));return Zv(i),new Ye(t.firestore,t instanceof Zi?t.converter:null,new G(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0="AsyncQueue";class F0{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new vA(this,"async_queue_retry"),this._c=()=>{const i=td();i&&F(q0,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=td();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=td();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Hr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Yu.push(e),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Da(e))throw e;F(q0,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(i=>{throw this.nc=i,this.rc=!1,si("INTERNAL UNHANDLED ERROR: ",G0(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const r=_g.createAndSchedule(this,e,n,i,s=>this.hc(s));return this.tc.push(r),r}uc(){this.nc&&Y(47125,{Pc:G0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function G0(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class ga extends Dh{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=new F0,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new F0(e),this._firestoreClient=void 0,await e}}}function O5(t,e){const n=typeof t=="object"?t:Hp(),i=typeof t=="string"?t:Nc,r=mh(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=Db("firestore");s&&D5(r,...s)}return r}function UA(t){if(t._terminated)throw new B(U.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||M5(t),t._firestoreClient}function M5(t){var i,r,s,a;const e=t._freezeSettings(),n=N5(t._databaseId,((i=t._app)==null?void 0:i.options.appId)||"",t._persistenceKey,(r=t._app)==null?void 0:r.options.apiKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new S5(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(u){const c=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this._byteString=e}static fromBase64String(e){try{return new en(ft.fromBase64String(e))}catch(n){throw new B(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new en(ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:en._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Cl(e,en._jsonSchema))return en.fromBase64String(e.bytes)}}en._jsonSchemaVersion="firestore/bytes/1.0",en._jsonSchema={type:Ke("string",en._jsonSchemaVersion),bytes:Ke("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new B(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ut(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new B(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new B(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return se(this._lat,e._lat)||se(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Cn._jsonSchemaVersion}}static fromJSON(e){if(Cl(e,Cn._jsonSchema))return new Cn(e.latitude,e.longitude)}}Cn._jsonSchemaVersion="firestore/geoPoint/1.0",Cn._jsonSchema={type:Ke("string",Cn._jsonSchemaVersion),latitude:Ke("number"),longitude:Ke("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:hn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Cl(e,hn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new hn(e.vectorValues);throw new B(U.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}hn._jsonSchemaVersion="firestore/vectorValue/1.0",hn._jsonSchema={type:Ke("string",hn._jsonSchemaVersion),vectorValues:Ke("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V5=/^__.*__$/;class P5{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new vr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Il(e,this.data,n,this.fieldTransforms)}}class jA{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new vr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function zA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Y(40011,{dataSource:t})}}class wg{constructor(e,n,i,r,s,a){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.validatePath(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new wg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var r;const n=(r=this.path)==null?void 0:r.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePathSegment(e),i}childContextForFieldPath(e){var r;const n=(r=this.path)==null?void 0:r.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePath(),i}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return jc(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(zA(this.dataSource)&&V5.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class k5{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Ch(e)}createContext(e,n,i,r=!1){return new wg({dataSource:e,methodName:n,targetDoc:i,path:ut.emptyPath(),arrayElement:!1,hasConverter:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xg(t){const e=t._freezeSettings(),n=Ch(t._databaseId);return new k5(t._databaseId,!!e.ignoreUndefinedProperties,n)}function L5(t,e,n,i,r,s={}){const a=t.createContext(s.merge||s.mergeFields?2:0,e,n,r);Cg("Data must be an object, but it was:",a,i);const l=BA(i,a);let u,c;if(s.merge)u=new Ut(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const f=[];for(const d of s.mergeFields){const p=ts(e,d,n);if(!a.contains(p))throw new B(U.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);FA(f,p)||f.push(p)}u=new Ut(f),c=a.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=a.fieldTransforms;return new P5(new It(l),u,c)}class Mh extends Oh{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Mh}}class Rg extends Oh{_toFieldTransform(e){return new TD(e.path,new al)}isEqual(e){return e instanceof Rg}}function U5(t,e,n,i){const r=t.createContext(1,e,n);Cg("Data must be an object, but it was:",r,i);const s=[],a=It.empty();_r(i,(u,c)=>{const f=qA(e,u,n);c=Qe(c);const d=r.childContextForFieldPath(f);if(c instanceof Mh)s.push(f);else{const p=Ml(c,d);p!=null&&(s.push(f),a.set(f,p))}});const l=new Ut(s);return new jA(a,l,r.fieldTransforms)}function j5(t,e,n,i,r,s){const a=t.createContext(1,e,n),l=[ts(e,i,n)],u=[r];if(s.length%2!=0)throw new B(U.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)l.push(ts(e,s[p])),u.push(s[p+1]);const c=[],f=It.empty();for(let p=l.length-1;p>=0;--p)if(!FA(c,l[p])){const y=l[p];let C=u[p];C=Qe(C);const M=a.childContextForFieldPath(y);if(C instanceof Mh)c.push(y);else{const D=Ml(C,M);D!=null&&(c.push(y),f.set(y,D))}}const d=new Ut(c);return new jA(f,d,a.fieldTransforms)}function z5(t,e,n,i=!1){return Ml(n,t.createContext(i?4:3,e))}function Ml(t,e){if(HA(t=Qe(t)))return Cg("Unsupported field value:",e,t),BA(t,e);if(t instanceof Oh)return function(i,r){if(!zA(r.dataSource))throw r.createError(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.createError(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return function(i,r){const s=[];let a=0;for(const l of i){let u=Ml(l,r.childContextForArray(a));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),a++}return{arrayValue:{values:s}}}(t,e)}return function(i,r){if((i=Qe(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return _D(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=xe.fromDate(i);return{timestampValue:Vc(r.serializer,s)}}if(i instanceof xe){const s=new xe(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Vc(r.serializer,s)}}if(i instanceof Cn)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof en)return{bytesValue:oA(r.serializer,i._byteString)};if(i instanceof Ye){const s=r.databaseId,a=i.firestore._databaseId;if(!a.isEqual(s))throw r.createError(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:ug(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof hn)return function(a,l){const u=a instanceof hn?a.toArray():a;return{mapValue:{fields:{[k2]:{stringValue:L2},[Dc]:{arrayValue:{values:u.map(f=>{if(typeof f!="number")throw l.createError("VectorValues must only contain numeric values.");return sg(l.serializer,f)})}}}}}}(i,r);if(mA(i))return i._toProto(r.serializer);throw r.createError(`Unsupported field value: ${vh(i)}`)}(t,e)}function BA(t,e){const n={};return N2(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_r(t,(i,r)=>{const s=Ml(r,e.childContextForField(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function HA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof xe||t instanceof Cn||t instanceof en||t instanceof Ye||t instanceof Oh||t instanceof hn||mA(t))}function Cg(t,e,n){if(!HA(n)||!C2(n)){const i=vh(n);throw i==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+i)}}function ts(t,e,n){if((e=Qe(e))instanceof Sg)return e._internalPath;if(typeof e=="string")return qA(t,e);throw jc("Field path arguments must be of type string or ",t,!1,void 0,n)}const B5=new RegExp("[~\\*/\\[\\]]");function qA(t,e,n){if(e.search(B5)>=0)throw jc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Sg(...e.split("."))._internalPath}catch{throw jc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function jc(t,e,n,i,r){const s=i&&!i.isEmpty(),a=r!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(s||a)&&(u+=" (found",s&&(u+=` in field ${i}`),a&&(u+=` in document ${r}`),u+=")"),new B(U.INVALID_ARGUMENT,l+t+u)}function FA(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H5{convertValue(e,n="none"){switch(lr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ve(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(or(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Y(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return _r(e,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertVectorValue(e){var i,r,s;const n=(s=(r=(i=e.fields)==null?void 0:i[Dc].arrayValue)==null?void 0:r.values)==null?void 0:s.map(a=>Ve(a.doubleValue));return new hn(n)}convertGeoPoint(e){return new Cn(Ve(e.latitude),Ve(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=bh(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(nl(e));default:return null}}convertTimestamp(e){const n=ar(e);return new xe(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Te.fromString(e);fe(dA(i),9688,{name:e});const r=new il(i.get(1),i.get(3)),s=new G(i.popFirst(5));return r.isEqual(n)||si(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA extends H5{constructor(e){super(),this.firestore=e}convertBytes(e){return new en(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ye(this.firestore,null,n)}}function zc(){return new Rg("serverTimestamp")}const K0="@firebase/firestore",Y0="4.12.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q0(t){return function(n,i){if(typeof n!="object"||n===null)return!1;const r=n;for(const s of i)if(s in r&&typeof r[s]=="function")return!0;return!1}(t,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(e,n,i,r,s){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ye(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new q5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(ts("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class q5 extends KA{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F5(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new B(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ig{}class YA extends Ig{}function G5(t,e,...n){let i=[];e instanceof Ig&&i.push(e),i=i.concat(n),function(s){const a=s.filter(u=>u instanceof Ng).length,l=s.filter(u=>u instanceof Vh).length;if(a>1||a>0&&l>0)throw new B(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)t=r._apply(t);return t}class Vh extends YA{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Vh(e,n,i)}_apply(e){const n=this._parse(e);return QA(e._query,n),new fs(e.firestore,e.converter,vm(e._query,n))}_parse(e){const n=xg(e.firestore);return function(s,a,l,u,c,f,d){let p;if(c.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new B(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){X0(d,f);const C=[];for(const M of d)C.push($0(u,s,M));p={arrayValue:{values:C}}}else p=$0(u,s,d)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||X0(d,f),p=z5(l,a,d,f==="in"||f==="not-in");return Fe.create(c,f,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function K5(t,e,n){const i=e,r=ts("where",t);return Vh._create(r,i,n)}class Ng extends Ig{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ng(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:dn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,s){let a=r;const l=s.getFlattenedFilters();for(const u of l)QA(a,u),a=vm(a,u)}(e._query,n),new fs(e.firestore,e.converter,vm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Dg extends YA{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Dg(e,n)}_apply(e){const n=function(r,s,a){if(r.startAt!==null)throw new B(U.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new B(U.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new sl(s,a)}(e._query,this._field,this._direction);return new fs(e.firestore,e.converter,cD(e._query,n))}}function Y5(t,e="asc"){const n=e,i=ts("orderBy",t);return Dg._create(i,n)}function $0(t,e,n){if(typeof(n=Qe(n))=="string"){if(n==="")throw new B(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!G2(e)&&n.indexOf("/")!==-1)throw new B(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(Te.fromString(n));if(!G.isDocumentKey(i))throw new B(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return l0(t,new G(i))}if(n instanceof Ye)return l0(t,n._key);throw new B(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vh(n)}.`)}function X0(t,e){if(!Array.isArray(t)||t.length===0)throw new B(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function QA(t,e){const n=function(r,s){for(const a of r)for(const l of a.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new B(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new B(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function Q5(t,e,n){let i;return i=t?t.toFirestore(e):e,i}class po{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qr extends KA{constructor(e,n,i,r,s,a){super(e,n,i,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new qu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(ts("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new B(U.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=qr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}qr._jsonSchemaVersion="firestore/documentSnapshot/1.0",qr._jsonSchema={type:Ke("string",qr._jsonSchemaVersion),bundleSource:Ke("string","DocumentSnapshot"),bundleName:Ke("string"),bundle:Ke("string")};class qu extends qr{data(e={}){return super.data(e)}}class Ws{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new po(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new qu(this._firestore,this._userDataWriter,i.key,i,new po(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new B(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(l=>{const u=new qu(r._firestore,r._userDataWriter,l.doc.key,l.doc,new po(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}})}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const u=new qu(r._firestore,r._userDataWriter,l.doc.key,l.doc,new po(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,f=-1;return l.type!==0&&(c=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),f=a.indexOf(l.doc.key)),{type:$5(l.type),doc:u,oldIndex:c,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new B(U.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ws._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Wp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],r=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),i.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),r.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function $5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Y(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ws._jsonSchemaVersion="firestore/querySnapshot/1.0",Ws._jsonSchema={type:Ke("string",Ws._jsonSchemaVersion),bundleSource:Ke("string","QuerySnapshot"),bundleName:Ke("string"),bundle:Ke("string")};function $A(t,e,n,...i){t=Wi(t,Ye);const r=Wi(t.firestore,ga),s=xg(r);let a;return a=typeof(e=Qe(e))=="string"||e instanceof Sg?j5(s,"updateDoc",t._key,e,n,i):U5(s,"updateDoc",t._key,e),Og(r,[a.toMutation(t._key,cn.exists(!0))])}function X5(t){return Og(Wi(t.firestore,ga),[new ag(t._key,cn.none())])}function XA(t,e){const n=Wi(t.firestore,ga),i=Uc(t),r=Q5(t.converter,e),s=xg(t.firestore);return Og(n,[L5(s,"addDoc",i._key,r,t.converter!==null,{}).toMutation(i._key,cn.exists(!1))]).then(()=>i)}function J5(t,...e){var c,f,d;t=Qe(t);let n={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||Q0(e[i])||(n=e[i++]);const r={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Q0(e[i])){const p=e[i];e[i]=(c=p.next)==null?void 0:c.bind(p),e[i+1]=(f=p.error)==null?void 0:f.bind(p),e[i+2]=(d=p.complete)==null?void 0:d.bind(p)}let s,a,l;if(t instanceof Ye)a=Wi(t.firestore,ga),l=rg(t._key.path),s={next:p=>{e[i]&&e[i](W5(a,t,p))},error:e[i+1],complete:e[i+2]};else{const p=Wi(t,fs);a=Wi(p.firestore,ga),l=p._query;const y=new GA(a);s={next:C=>{e[i]&&e[i](new Ws(a,y,p,C))},error:e[i+1],complete:e[i+2]},F5(t._query)}const u=UA(a);return R5(u,l,r,s)}function Og(t,e){const n=UA(t);return C5(n,e)}function W5(t,e,n){const i=n.docs.get(e._key),r=new GA(t);return new qr(t,r,e._key,i,new po(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){S6(ls),Xr(new rr("firestore",(i,{instanceIdentifier:r,options:s})=>{const a=i.getProvider("app").getImmediate(),l=new ga(new R6(i.getProvider("auth-internal")),new N6(a,i.getProvider("app-check-internal")),Y6(a,r),a);return s={useFetchStreams:n,...s},l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),An(K0,Y0,e),An(K0,Y0,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA="firebasestorage.googleapis.com",Z5="storageBucket",e9=2*60*1e3,t9=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn extends Mn{constructor(e,n,i=0){super(id(e),`Firebase Storage: ${n} (${id(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Vn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return id(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Nn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Nn||(Nn={}));function id(t){return"storage/"+t}function n9(){const t="An unknown error occurred, please check the error payload for server response.";return new Vn(Nn.UNKNOWN,t)}function i9(){return new Vn(Nn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function r9(){return new Vn(Nn.CANCELED,"User canceled the upload/download.")}function s9(t){return new Vn(Nn.INVALID_URL,"Invalid URL '"+t+"'.")}function a9(t){return new Vn(Nn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function J0(t){return new Vn(Nn.INVALID_ARGUMENT,t)}function WA(){return new Vn(Nn.APP_DELETED,"The Firebase app was deleted.")}function o9(t){return new Vn(Nn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=un.makeFromUrl(e,n)}catch{return new un(e,"")}if(i.path==="")return i;throw a9(e)}static makeFromUrl(e,n){let i=null;const r="([A-Za-z0-9.\\-_]+)";function s(I){I.path.charAt(I.path.length-1)==="/"&&(I.path_=I.path_.slice(0,-1))}const a="(/(.*))?$",l=new RegExp("^gs://"+r+a,"i"),u={bucket:1,path:3};function c(I){I.path_=decodeURIComponent(I.path)}const f="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",y=new RegExp(`^https?://${d}/${f}/b/${r}/o${p}`,"i"),C={bucket:1,path:3},M=n===JA?"(?:storage.googleapis.com|storage.cloud.google.com)":n,D="([^?#]*)",A=new RegExp(`^https?://${M}/${r}/${D}`,"i"),S=[{regex:l,indices:u,postModify:s},{regex:y,indices:C,postModify:c},{regex:A,indices:{bucket:1,path:2},postModify:c}];for(let I=0;I<S.length;I++){const k=S[I],H=k.regex.exec(e);if(H){const T=H[k.indices.bucket];let v=H[k.indices.path];v||(v=""),i=new un(T,v),k.postModify(i);break}}if(i==null)throw s9(e);return i}}class l9{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u9(t,e,n){let i=1,r=null,s=null,a=!1,l=0;function u(){return l===2}let c=!1;function f(...D){c||(c=!0,e.apply(null,D))}function d(D){r=setTimeout(()=>{r=null,t(y,u())},D)}function p(){s&&clearTimeout(s)}function y(D,...A){if(c){p();return}if(D){p(),f.call(null,D,...A);return}if(u()||a){p(),f.call(null,D,...A);return}i<64&&(i*=2);let S;l===1?(l=2,S=0):S=(i+Math.random())*1e3,d(S)}let C=!1;function M(D){C||(C=!0,p(),!c&&(r!==null?(D||(l=2),clearTimeout(r),d(0)):D||(l=1)))}return d(0),s=setTimeout(()=>{a=!0,M(!0)},n),M}function c9(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h9(t){return t!==void 0}function W0(t,e,n,i){if(i<e)throw J0(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw J0(`Invalid value for '${t}'. Expected ${n} or less.`)}function f9(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const r=e(i)+"="+e(t[i]);n=n+r+"&"}return n=n.slice(0,-1),n}var Bc;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Bc||(Bc={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d9(t,e){const n=t>=500&&t<600,r=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||r||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m9{constructor(e,n,i,r,s,a,l,u,c,f,d,p=!0,y=!1){this.url_=e,this.method_=n,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=a,this.callback_=l,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=f,this.connectionFactory_=d,this.retry=p,this.isUsingEmulator=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,M)=>{this.resolve_=C,this.reject_=M,this.start_()})}start_(){const e=(i,r)=>{if(r){i(!1,new gu(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const a=l=>{const u=l.loaded,c=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,c)};this.progressCallback_!==null&&s.addUploadProgressListener(a),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(a),this.pendingConnection_=null;const l=s.getErrorCode()===Bc.NO_ERROR,u=s.getStatus();if(!l||d9(u,this.additionalRetryCodes_)&&this.retry){const f=s.getErrorCode()===Bc.ABORT;i(!1,new gu(!1,null,f));return}const c=this.successCodes_.indexOf(u)!==-1;i(!0,new gu(c,s))})},n=(i,r)=>{const s=this.resolve_,a=this.reject_,l=r.connection;if(r.wasSuccessCode)try{const u=this.callback_(l,l.getResponse());h9(u)?s(u):s()}catch(u){a(u)}else if(l!==null){const u=n9();u.serverResponse=l.getErrorText(),this.errorCallback_?a(this.errorCallback_(l,u)):a(u)}else if(r.canceled){const u=this.appDelete_?WA():r9();a(u)}else{const u=i9();a(u)}};this.canceled_?n(!1,new gu(!1,null,!0)):this.backoffId_=u9(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&c9(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class gu{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function p9(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function g9(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function y9(t,e){e&&(t["X-Firebase-GMPID"]=e)}function _9(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function v9(t,e,n,i,r,s,a=!0,l=!1){const u=f9(t.urlParams),c=t.url+u,f=Object.assign({},t.headers);return y9(f,e),p9(f,n),g9(f,s),_9(f,i),new m9(c,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r,a,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E9(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function T9(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e,n){this._service=e,n instanceof un?this._location=n:this._location=un.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Hc(e,n)}get root(){const e=new un(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return T9(this._location.path)}get storage(){return this._service}get parent(){const e=E9(this._location.path);if(e===null)return null;const n=new un(this._location.bucket,e);return new Hc(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw o9(e)}}function Z0(t,e){const n=e==null?void 0:e[Z5];return n==null?null:un.makeFromBucketSpec(n,t)}function b9(t,e,n,i={}){t.host=`${e}:${n}`;const r=os(e);r&&(Up(`https://${t.host}/b`),jp("Storage",!0)),t._isUsingEmulator=!0,t._protocol=r?"https":"http";const{mockUserToken:s}=i;s&&(t._overrideAuthToken=typeof s=="string"?s:Vb(s,t.app.options.projectId))}class A9{constructor(e,n,i,r,s,a=!1){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._isUsingEmulator=a,this._bucket=null,this._host=JA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=e9,this._maxUploadRetryTime=t9,this._requests=new Set,r!=null?this._bucket=un.makeFromBucketSpec(r,this._host):this._bucket=Z0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=un.makeFromBucketSpec(this._url,e):this._bucket=Z0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){W0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){W0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Zt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Hc(this,e)}_makeRequest(e,n,i,r,s=!0){if(this._deleted)return new l9(WA());{const a=v9(e,this._appId,i,r,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[i,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,r).getPromise()}}const e1="@firebase/storage",t1="0.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA="storage";function S9(t=Hp(),e){t=Qe(t);const i=mh(t,ZA).getImmediate({identifier:e}),r=Db("storage");return r&&w9(i,...r),i}function w9(t,e,n,i={}){b9(t,e,n,i)}function x9(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return new A9(n,i,r,e,ls)}function R9(){Xr(new rr(ZA,x9,"PUBLIC").setMultipleInstances(!0)),An(e1,t1,""),An(e1,t1,"esm2020")}R9();const Nm={apiKey:"AIzaSyCBG0iqlCvJO1Pn4jQ-2qXUfArmks5A0ps",authDomain:"blissbridalmehandi.firebaseapp.com",projectId:"blissbridalmehandi",storageBucket:"blissbridalmehandi.firebasestorage.app",messagingSenderId:"380226645201",appId:"1:380226645201:web:15868b8b08c03ee66269f0"},ul=!!(Nm.apiKey&&Nm.projectId);let yu=null,oi=null,Vr=null;ul&&(yu=Lb(Nm),oi=O5(yu),S9(yu),Vr=E6(yu));const eS=V.createContext(null);function C9({children:t}){const[e,n]=V.useState(null),[i,r]=V.useState(ul);V.useEffect(()=>{if(!ul||!Vr){r(!1);return}return lN(Vr,u=>{n(u),r(!1)})},[]);const s=(l,u)=>Vr?sN(Vr,l,u):Promise.reject(new Error("Firebase not configured")),a=()=>Vr?uN(Vr):Promise.reject(new Error("Firebase not configured"));return g.jsx(eS.Provider,{value:{user:e,loading:i,login:s,logout:a},children:t})}function Ph(){const t=V.useContext(eS);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t}var tS={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},n1=Li.createContext&&Li.createContext(tS),I9=["attr","size","title"];function N9(t,e){if(t==null)return{};var n=D9(t,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function D9(t,e){if(t==null)return{};var n={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function qc(){return qc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},qc.apply(this,arguments)}function i1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function Fc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?i1(Object(n),!0).forEach(function(i){O9(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i1(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function O9(t,e,n){return e=M9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M9(t){var e=V9(t,"string");return typeof e=="symbol"?e:e+""}function V9(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nS(t){return t&&t.map((e,n)=>Li.createElement(e.tag,Fc({key:n},e.attr),nS(e.child)))}function ve(t){return e=>Li.createElement(P9,qc({attr:Fc({},t.attr)},e),nS(t.child))}function P9(t){var e=n=>{var{attr:i,size:r,title:s}=t,a=N9(t,I9),l=r||n.size||"1em",u;return n.className&&(u=n.className),t.className&&(u=(u?u+" ":"")+t.className),Li.createElement("svg",qc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,a,{className:u,style:Fc(Fc({color:t.color||n.color},n.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&Li.createElement("title",null,s),t.children)};return n1!==void 0?Li.createElement(n1.Consumer,null,n=>e(n)):e(tS)}function k9(t){return ve({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"},child:[]}]})(t)}function L9(t){return ve({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"},child:[]}]})(t)}function U9(t){return ve({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"},child:[]}]})(t)}function j9(t){return ve({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"},child:[]}]})(t)}function z9(t){return ve({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M5.5 13a3.5 3.5 0 01-.369-6.98 4 4 0 117.753-1.977A4.5 4.5 0 1113.5 13H11V9.413l1.293 1.293a1 1 0 001.414-1.414l-3-3a1 1 0 00-1.414 0l-3 3a1 1 0 001.414 1.414L9 9.414V13H5.5z"},child:[]},{tag:"path",attr:{d:"M9 13h2v5a1 1 0 11-2 0v-5z"},child:[]}]})(t)}function B9(t){return ve({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M3 3a1 1 0 00-1 1v12a1 1 0 102 0V4a1 1 0 00-1-1zm10.293 9.293a1 1 0 001.414 1.414l3-3a1 1 0 000-1.414l-3-3a1 1 0 10-1.414 1.414L14.586 9H7a1 1 0 100 2h7.586l-1.293 1.293z",clipRule:"evenodd"},child:[]}]})(t)}function H9(t){return ve({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"},child:[]}]})(t)}function q9(t){return ve({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"},child:[]}]})(t)}function iS(t){return ve({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"},child:[]}]})(t)}function F9(t){return ve({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"},child:[]}]})(t)}function G9(t){return ve({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM6.293 6.707a1 1 0 010-1.414l3-3a1 1 0 011.414 0l3 3a1 1 0 01-1.414 1.414L11 5.414V13a1 1 0 11-2 0V5.414L7.707 6.707a1 1 0 01-1.414 0z",clipRule:"evenodd"},child:[]}]})(t)}function Mg(t){return ve({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"},child:[]}]})(t)}const r1=[{name:"Home",path:"/"},{name:"Gallery",path:"/gallery"},{name:"Book Now",path:"/booking"},{name:"Admin",path:"/admin"}];function K9(){const[t,e]=V.useState(!1),[n,i]=V.useState(!1),{pathname:r}=pr();V.useEffect(()=>{const c=()=>i(window.scrollY>50);return window.addEventListener("scroll",c),()=>window.removeEventListener("scroll",c)},[]),V.useEffect(()=>{e(!1)},[r]);const s=r==="/",a=n||!s?"bg-white/95 backdrop-blur-md shadow-md":"bg-transparent",l=n||!s?"text-maroon":"text-white",u=n||!s?"text-maroon":"text-gold-light";return g.jsxs("nav",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${a}`,children:[g.jsxs("div",{className:"container-custom flex items-center justify-between h-16 md:h-20",children:[g.jsx(Br,{to:"/",className:`font-vibes text-2xl md:text-3xl transition-colors ${u}`,children:"Bliss Bridal Mehandi"}),g.jsx("div",{className:"hidden md:flex items-center gap-8",children:r1.map(c=>g.jsx(Br,{to:c.path,className:`font-poppins font-medium text-sm uppercase tracking-wider transition-colors hover:text-gold ${r===c.path?"text-gold":l}`,children:c.name},c.path))}),g.jsx("button",{onClick:()=>e(!t),className:`md:hidden p-2 transition-colors ${l}`,"aria-label":"Toggle menu",children:t?g.jsx(Mg,{size:24}):g.jsx(H9,{size:24})})]}),t&&g.jsx("div",{className:"md:hidden bg-white/95 backdrop-blur-md shadow-lg animate-slide-down",children:g.jsx("div",{className:"container-custom py-4 flex flex-col gap-4",children:r1.map(c=>g.jsx(Br,{to:c.path,className:`font-poppins font-medium text-sm uppercase tracking-wider py-2 transition-colors hover:text-gold ${r===c.path?"text-gold":"text-maroon"}`,children:c.name},c.path))})})]})}function Y9(t){return ve({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(t)}function Q9(t){return ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.5 92C469.6 33.1 411.8 0 352.4 0c-27.9 0-56.2 7.3-81.8 22.6L243.1 39c-15.2 9.1-20.1 28.7-11 43.9l32.8 54.9c6 10 16.6 15.6 27.5 15.6 5.6 0 11.2-1.5 16.4-4.5l27.5-16.4c5.1-3.1 10.8-4.5 16.4-4.5 10.9 0 21.5 5.6 27.5 15.6 9.1 15.1 4.1 34.8-11 43.9L15.6 397.6c-15.2 9.1-20.1 28.7-11 43.9l32.8 54.9c6 10 16.6 15.6 27.5 15.6 5.6 0 11.2-1.5 16.4-4.5L428.6 301c71.7-42.9 104.6-133.5 68.9-209zm-177.7 13l-2.5 1.5L296.8 45c9.7-4.7 19.8-8.1 30.3-10.2l20.6 61.8c-9.8.8-19.4 3.3-27.9 8.4zM145.9 431.8l-60.5-38.5 30.8-18.3 60.5 38.5-30.8 18.3zm107.5-63.9l-60.5-38.5 30.8-18.3 60.5 38.5-30.8 18.3zM364.3 302l-60.5-38.5 30.8-18.3 60.5 38.5-30.8 18.3zm20.4-197.3l46-46c8.4 6.5 16 14.1 22.6 22.6L407.6 127c-5.7-9.3-13.7-16.9-22.9-22.3zm82.1 107.8l-59.5-19.8c3.2-5.3 5.8-10.9 7.4-17.1 1.1-4.5 1.7-9.1 1.8-13.6l60.4 20.1c-2.1 10.4-5.5 20.6-10.1 30.4z"},child:[]}]})(t)}function $9(t){return ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(t)}function X9(t){return ve({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(t)}function J9(t){return ve({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(t)}function W9(t){return ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(t)}function Z9(t){return ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 0C460.22 3.56 96.44 38.2 71.01 287.61c-3.09 26.66-4.84 53.44-5.99 80.24l178.87-178.69c6.25-6.25 16.4-6.25 22.65 0s6.25 16.38 0 22.63L7.04 471.03c-9.38 9.37-9.38 24.57 0 33.94 9.38 9.37 24.59 9.37 33.98 0l57.13-57.07c42.09-.14 84.15-2.53 125.96-7.36 53.48-5.44 97.02-26.47 132.58-56.54H255.74l146.79-48.88c11.25-14.89 21.37-30.71 30.45-47.12h-81.14l106.54-53.21C500.29 132.86 510.19 26.26 512 0z"},child:[]}]})(t)}function eM(t){return ve({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M485.5 0L576 160H474.9L405.7 0h79.8zm-128 0l69.2 160H149.3L218.5 0h139zm-267 0h79.8l-69.2 160H0L90.5 0zM0 192h100.7l123 251.7c1.5 3.1-2.7 5.9-5 3.3L0 192zm148.2 0h279.6l-137 318.2c-1 2.4-4.5 2.4-5.5 0L148.2 192zm204.1 251.7l123-251.7H576L357.3 446.9c-2.3 2.7-6.5-.1-5-3.2z"},child:[]}]})(t)}function tM(t){return ve({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M639.4 433.6c-8.4-20.4-31.8-30.1-52.2-21.6l-22.1 9.2-38.7-101.9c47.9-35 64.8-100.3 34.5-152.8L474.3 16c-8-13.9-25.1-19.7-40-13.6L320 49.8 205.7 2.4c-14.9-6.2-32-.3-40 13.6L79.1 166.5C48.9 219 65.7 284.3 113.6 319.2L74.9 421.1l-22.1-9.2c-20.4-8.5-43.7 1.2-52.2 21.6-1.7 4.1.2 8.8 4.3 10.5l162.3 67.4c4.1 1.7 8.7-.2 10.4-4.3 8.4-20.4-1.2-43.8-21.6-52.3l-22.1-9.2L173.3 342c4.4.5 8.8 1.3 13.1 1.3 51.7 0 99.4-33.1 113.4-85.3l20.2-75.4 20.2 75.4c14 52.2 61.7 85.3 113.4 85.3 4.3 0 8.7-.8 13.1-1.3L506 445.6l-22.1 9.2c-20.4 8.5-30.1 31.9-21.6 52.3 1.7 4.1 6.4 6 10.4 4.3L635.1 444c4-1.7 6-6.3 4.3-10.4zM275.9 162.1l-112.1-46.5 36.5-63.4 94.5 39.2-18.9 70.7zm88.2 0l-18.9-70.7 94.5-39.2 36.5 63.4-112.1 46.5z"},child:[]}]})(t)}function nM(t){return ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(t)}function iM(t){return ve({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(t)}function rM(t){return ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M167.02 309.34c-40.12 2.58-76.53 17.86-97.19 72.3-2.35 6.21-8 9.98-14.59 9.98-11.11 0-45.46-27.67-55.25-34.35C0 439.62 37.93 512 128 512c75.86 0 128-43.77 128-120.19 0-3.11-.65-6.08-.97-9.13l-88.01-73.34zM457.89 0c-15.16 0-29.37 6.71-40.21 16.45C213.27 199.05 192 203.34 192 257.09c0 13.7 3.25 26.76 8.73 38.7l63.82 53.18c7.21 1.8 14.64 3.03 22.39 3.03 62.11 0 98.11-45.47 211.16-256.46 7.38-14.35 13.9-29.85 13.9-45.99C512 20.64 486 0 457.89 0z"},child:[]}]})(t)}function sM(t){return ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M204.3 5C104.9 24.4 24.8 104.3 5.2 203.4c-37 187 131.7 326.4 258.8 306.7 41.2-6.4 61.4-54.6 42.5-91.7-23.1-45.4 9.9-98.4 60.9-98.4h79.7c35.8 0 64.8-29.6 64.9-65.3C511.5 97.1 368.1-26.9 204.3 5zM96 320c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm32-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128-64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"},child:[]}]})(t)}function aM(t){return ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 256h-80v-64c0-35.3 28.7-64 64-64h8c13.3 0 24-10.7 24-24V56c0-13.3-10.7-24-24-24h-8c-88.4 0-160 71.6-160 160v240c0 26.5 21.5 48 48 48h128c26.5 0 48-21.5 48-48V304c0-26.5-21.5-48-48-48zm-288 0H96v-64c0-35.3 28.7-64 64-64h8c13.3 0 24-10.7 24-24V56c0-13.3-10.7-24-24-24h-8C71.6 32 0 103.6 0 192v240c0 26.5 21.5 48 48 48h128c26.5 0 48-21.5 48-48V304c0-26.5-21.5-48-48-48z"},child:[]}]})(t)}function Vg(t){return ve({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(t)}function oM(){const t=new Date().getFullYear();return g.jsx("footer",{className:"bg-maroon text-cream",children:g.jsxs("div",{className:"container-custom py-12",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"font-vibes text-3xl text-gold-light mb-3",children:"Bliss Bridal Mehandi"}),g.jsx("p",{className:"text-cream/70 text-sm leading-relaxed",children:"Creating beautiful henna art for your special moments. Expert bridal, Arabic, and traditional mehandi designs by Prajkta."}),g.jsx("div",{className:"flex gap-4 mt-4",children:g.jsx("a",{href:"https://www.instagram.com/blissbridalmehandi_byprajkta?igsh=dXpicGFhcDdwd2ph",target:"_blank",rel:"noopener noreferrer",className:"text-cream/60 hover:text-gold transition-colors","aria-label":"Instagram",children:g.jsx(Y9,{size:20})})})]}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-playfair text-lg font-semibold text-gold-light mb-4",children:"Quick Links"}),g.jsxs("ul",{className:"space-y-2",children:[g.jsx("li",{children:g.jsx(Br,{to:"/",className:"text-cream/70 hover:text-gold transition-colors text-sm",children:"Home"})}),g.jsx("li",{children:g.jsx(Br,{to:"/gallery",className:"text-cream/70 hover:text-gold transition-colors text-sm",children:"Gallery"})}),g.jsx("li",{children:g.jsx(Br,{to:"/booking",className:"text-cream/70 hover:text-gold transition-colors text-sm",children:"Book Appointment"})})]})]}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-playfair text-lg font-semibold text-gold-light mb-4",children:"Get in Touch"}),g.jsxs("ul",{className:"space-y-3",children:[g.jsxs("li",{className:"flex items-center gap-3 text-cream/70 text-sm",children:[g.jsx(W9,{className:"text-gold flex-shrink-0",size:14}),g.jsx("span",{children:"blissbridalmehandi@gmail.com"})]}),g.jsxs("li",{className:"flex items-start gap-3 text-cream/70 text-sm",children:[g.jsx(iM,{className:"text-gold flex-shrink-0 mt-0.5",size:14}),g.jsx("span",{children:"Mumbai, Maharashtra, India"})]})]})]})]}),g.jsx("div",{className:"border-t border-cream/20 mt-8 pt-6 text-center",children:g.jsxs("p",{className:"text-cream/50 text-xs",children:[" ",t," Bliss Bridal Mehandi by Prajkta. All rights reserved."]})})]})})}function lM(){const{pathname:t}=pr();return V.useEffect(()=>{window.scrollTo(0,0)},[t]),null}function uM(){const{pathname:t}=pr(),e=t.startsWith("/admin");return g.jsxs(g.Fragment,{children:[g.jsx(lM,{}),!e&&g.jsx(K9,{}),g.jsx("main",{className:e?"":"min-h-screen",children:g.jsx(x4,{})}),!e&&g.jsx(oM,{})]})}function hr({children:t,variant:e="primary",to:n,onClick:i,type:r="button",disabled:s=!1,className:a="",...l}){const u="inline-flex items-center justify-center gap-2 px-6 py-3 rounded-full font-poppins font-medium transition-all duration-300 text-sm md:text-base",c={primary:"bg-gold text-white hover:bg-gold-dark shadow-lg hover:shadow-xl hover:-translate-y-0.5",secondary:"bg-maroon text-white hover:bg-maroon-dark shadow-lg hover:shadow-xl hover:-translate-y-0.5",outline:"border-2 border-gold text-gold hover:bg-gold hover:text-white","outline-white":"border-2 border-white text-white hover:bg-white hover:text-maroon",ghost:"text-gold hover:bg-gold/10"},f=`${u} ${c[e]||c.primary} ${s?"opacity-50 cursor-not-allowed":""} ${a}`;return n?g.jsx(Br,{to:n,className:f,...l,children:t}):g.jsx("button",{type:r,onClick:i,disabled:s,className:f,...l,children:t})}function cM(){return g.jsxs("section",{className:"relative min-h-screen flex items-center justify-center overflow-hidden",children:[g.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-maroon-dark via-maroon to-rose-deep"}),g.jsx("div",{className:"absolute inset-0 mehndi-pattern opacity-30"}),g.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_center,_rgba(212,163,56,0.15)_0%,_transparent_70%)]"}),g.jsx("div",{className:"absolute top-20 left-10 w-32 h-32 border border-gold/20 rounded-full"}),g.jsx("div",{className:"absolute bottom-32 right-10 w-48 h-48 border border-gold/10 rounded-full"}),g.jsx("div",{className:"absolute top-1/3 right-1/4 w-20 h-20 border border-gold/15 rounded-full"}),g.jsxs("div",{className:"relative z-10 text-center px-4 max-w-4xl mx-auto",children:[g.jsx("p",{className:"font-vibes text-gold-light text-3xl md:text-5xl mb-4 animate-fade-in",children:"Welcome to"}),g.jsx("h1",{className:"font-playfair text-4xl md:text-6xl lg:text-7xl font-bold text-white mb-4 animate-slide-up",children:"Bliss Bridal Mehandi"}),g.jsx("p",{className:"font-vibes text-gold-light text-2xl md:text-4xl mb-6 animate-fade-in",style:{animationDelay:"0.2s"},children:"by Prajkta"}),g.jsx("p",{className:"font-poppins text-cream/80 text-base md:text-lg max-w-2xl mx-auto mb-8 animate-fade-in",style:{animationDelay:"0.4s"},children:"Adorning your hands with timeless henna artistry. From bridal masterpieces to elegant party designs, every stroke tells a beautiful story."}),g.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4 animate-fade-in",style:{animationDelay:"0.6s"},children:[g.jsx(hr,{to:"/booking",variant:"primary",children:"Book Appointment"}),g.jsx(hr,{to:"/gallery",variant:"outline-white",children:"View Gallery"})]})]}),g.jsx("div",{className:"absolute bottom-0 left-0 right-0",children:g.jsx("svg",{viewBox:"0 0 1440 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-full",children:g.jsx("path",{d:"M0 60L48 55C96 50 192 40 288 38C384 36 480 42 576 50C672 58 768 68 864 65C960 62 1056 46 1152 40C1248 34 1344 38 1392 40L1440 42V100H1392C1344 100 1248 100 1152 100C1056 100 960 100 864 100C768 100 672 100 576 100C480 100 384 100 288 100C192 100 96 100 48 100H0V60Z",fill:"#FEF7EB"})})})]})}function Vl({subtitle:t,title:e,description:n,light:i=!1}){return g.jsxs("div",{className:"text-center mb-12",children:[t&&g.jsx("p",{className:`font-vibes text-2xl md:text-3xl mb-2 ${i?"text-gold-light":"text-gold"}`,children:t}),g.jsx("h2",{className:`font-playfair text-3xl md:text-4xl lg:text-5xl font-bold mb-4 ${i?"text-white":"text-maroon"}`,children:e}),n&&g.jsx("p",{className:`max-w-2xl mx-auto text-base md:text-lg ${i?"text-cream/80":"text-gray-600"}`,children:n}),g.jsxs("div",{className:"flex items-center justify-center gap-2 mt-4",children:[g.jsx("span",{className:`h-[1px] w-12 ${i?"bg-gold-light":"bg-gold"}`}),g.jsx("span",{className:`text-xl ${i?"text-gold-light":"text-gold"}`,children:""}),g.jsx("span",{className:`h-[1px] w-12 ${i?"bg-gold-light":"bg-gold"}`})]})]})}function hM(){return g.jsx("section",{className:"section-padding bg-cream-light",children:g.jsxs("div",{className:"container-custom",children:[g.jsx(Vl,{subtitle:"About the Artist",title:"Meet Prajkta",description:"Passionate henna artist dedicated to creating stunning designs for your most cherished moments."}),g.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center mt-8",children:[g.jsx("div",{className:"scroll-reveal",children:g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"bg-gradient-to-br from-gold/20 to-maroon/20 rounded-2xl p-1",children:g.jsx("div",{className:"bg-cream rounded-2xl overflow-hidden aspect-[3/4] flex items-center justify-center",children:g.jsxs("div",{className:"text-center p-8",children:[g.jsx("div",{className:"w-32 h-32 mx-auto rounded-full bg-gradient-to-br from-gold to-maroon flex items-center justify-center mb-4",children:g.jsx("span",{className:"font-vibes text-white text-5xl",children:"P"})}),g.jsx("p",{className:"font-vibes text-gold text-2xl",children:"Prajkta"}),g.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Mehandi Artist"})]})})}),g.jsx("div",{className:"absolute -top-3 -right-3 w-16 h-16 border-t-2 border-r-2 border-gold rounded-tr-2xl"}),g.jsx("div",{className:"absolute -bottom-3 -left-3 w-16 h-16 border-b-2 border-l-2 border-gold rounded-bl-2xl"})]})}),g.jsxs("div",{className:"scroll-reveal",style:{transitionDelay:"0.2s"},children:[g.jsx("h3",{className:"font-vibes text-gold text-3xl mb-4",children:"My Journey"}),g.jsx("p",{className:"text-gray-600 leading-relaxed mb-4",children:"With years of experience in the art of mehandi, I have had the privilege of being part of countless beautiful celebrations. My passion for henna art began at a young age, and over the years, I have honed my skills to create designs that blend traditional elegance with contemporary style."}),g.jsx("p",{className:"text-gray-600 leading-relaxed mb-6",children:"Every bride deserves to feel special on her big day, and my goal is to create mehandi designs that are as unique and beautiful as the occasion itself. From intricate bridal patterns to elegant Arabic designs, I pour my heart into every creation."}),g.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[g.jsxs("div",{className:"text-center p-4 bg-white rounded-xl shadow-sm",children:[g.jsx(sM,{className:"text-gold mx-auto mb-2",size:24}),g.jsx("p",{className:"font-playfair font-bold text-maroon text-lg",children:"500+"}),g.jsx("p",{className:"text-gray-500 text-xs",children:"Designs Created"})]}),g.jsxs("div",{className:"text-center p-4 bg-white rounded-xl shadow-sm",children:[g.jsx(nM,{className:"text-gold mx-auto mb-2",size:24}),g.jsx("p",{className:"font-playfair font-bold text-maroon text-lg",children:"300+"}),g.jsx("p",{className:"text-gray-500 text-xs",children:"Happy Brides"})]}),g.jsxs("div",{className:"text-center p-4 bg-white rounded-xl shadow-sm",children:[g.jsx(Vg,{className:"text-gold mx-auto mb-2",size:24}),g.jsx("p",{className:"font-playfair font-bold text-maroon text-lg",children:"5+"}),g.jsx("p",{className:"text-gray-500 text-xs",children:"Years Experience"})]})]})]})]})]})})}const Pg=["All","Bridal","Arabic","Traditional","Minimal","Party","Festival"],fM=[{title:"Bridal Mehandi",description:"Exquisite full-hand bridal designs that tell your love story with intricate patterns and personalized motifs.",icon:"GiDiamondRing"},{title:"Arabic Mehandi",description:"Bold, flowing Arabic patterns featuring elegant floral trails and geometric designs.",icon:"GiFlowerPot"},{title:"Traditional Mehandi",description:"Classic Indian mehandi with detailed paisley, peacock, and traditional motifs.",icon:"GiPeacockTail"},{title:"Minimal Mehandi",description:"Contemporary minimalist designs perfect for those who love subtle elegance.",icon:"GiFlowerStar"},{title:"Party Mehandi",description:"Trendy and stylish designs for engagement parties, sangeet, and celebrations.",icon:"GiPartyPopper"},{title:"Festival Mehandi",description:"Beautiful festive designs for Karwa Chauth, Diwali, Eid, and other celebrations.",icon:"GiLanternFlame"}],vs=[{name:"Sneha Patil",event:"Bridal Mehandi",text:"Prajkta did the most beautiful bridal mehandi for my wedding! Every guest complimented the designs. She was patient, professional, and incredibly talented.",rating:5},{name:"Ananya Sharma",event:"Engagement Party",text:"The Arabic design she did for my engagement was stunning. The color came out so dark and lasted for weeks! Highly recommended.",rating:5},{name:"Priya Deshmukh",event:"Karwa Chauth",text:"Loved the intricate traditional design! Prajkta is so creative and her attention to detail is amazing. Will definitely book again.",rating:5},{name:"Ritika Joshi",event:"Wedding Reception",text:"Prajkta made my special day even more beautiful with her mehandi artistry. The designs were exactly what I had envisioned!",rating:5},{name:"Meera Kulkarni",event:"Festival Mehandi",text:"Got mehandi done for Diwali and it was gorgeous! Quick, professional, and the designs were so neat. Love her work!",rating:4}],dM=["Bridal Mehandi","Engagement","Sangeet / Party","Karwa Chauth","Festival","Baby Shower","Other"],s1=["pending","confirmed","completed","cancelled"],mM={GiDiamondRing:eM,GiFlowerPot:rM,GiPeacockTail:Z9,GiFlowerStar:Vg,GiPartyPopper:tM,GiLanternFlame:Q9};function pM(){return g.jsx("section",{className:"section-padding bg-white",children:g.jsxs("div",{className:"container-custom",children:[g.jsx(Vl,{subtitle:"What I Offer",title:"My Services",description:"From bridal masterpieces to everyday elegance, I offer a wide range of mehandi styles to suit every occasion."}),g.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 mt-8",children:fM.map((t,e)=>{const n=mM[t.icon];return g.jsxs("div",{className:"scroll-reveal group bg-cream-light rounded-2xl p-6 text-center hover:shadow-xl transition-all duration-300 hover:-translate-y-1 border border-transparent hover:border-gold/20",style:{transitionDelay:`${e*.1}s`},children:[g.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-gradient-to-br from-gold/20 to-maroon/20 flex items-center justify-center group-hover:from-gold group-hover:to-maroon transition-all duration-300",children:g.jsx(n,{className:"text-gold group-hover:text-white transition-colors",size:28})}),g.jsx("h3",{className:"font-playfair text-xl font-semibold text-maroon mb-2",children:t.title}),g.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:t.description})]},t.title)})})]})})}function gM(){const[t,e]=V.useState(0);V.useEffect(()=>{const s=setInterval(()=>{e(a=>(a+1)%vs.length)},5e3);return()=>clearInterval(s)},[]);const n=()=>e(s=>(s-1+vs.length)%vs.length),i=()=>e(s=>(s+1)%vs.length),r=vs[t];return g.jsxs("section",{className:"section-padding bg-gradient-to-br from-maroon-dark via-maroon to-rose-deep relative overflow-hidden",children:[g.jsx("div",{className:"absolute inset-0 mehndi-pattern opacity-10"}),g.jsxs("div",{className:"container-custom relative z-10",children:[g.jsx(Vl,{subtitle:"Client Love",title:"What Brides Say",light:!0}),g.jsx("div",{className:"max-w-3xl mx-auto mt-8",children:g.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-8 md:p-12 text-center relative",children:[g.jsx(aM,{className:"text-gold/30 absolute top-6 left-6",size:32}),g.jsx("div",{className:"flex justify-center gap-1 mb-4",children:Array.from({length:r.rating},(s,a)=>g.jsx(Vg,{className:"text-gold",size:18},a))}),g.jsxs("p",{className:"text-cream/90 text-base md:text-lg leading-relaxed mb-6 italic",children:["",r.text,""]}),g.jsxs("div",{children:[g.jsx("p",{className:"font-playfair font-semibold text-gold-light text-lg",children:r.name}),g.jsx("p",{className:"text-cream/60 text-sm",children:r.event})]}),g.jsxs("div",{className:"flex items-center justify-center gap-4 mt-6",children:[g.jsx("button",{onClick:n,className:"p-2 rounded-full border border-cream/30 text-cream/60 hover:bg-cream/10 hover:text-gold transition-colors","aria-label":"Previous testimonial",children:g.jsx(X9,{size:14})}),g.jsx("div",{className:"flex gap-2",children:vs.map((s,a)=>g.jsx("button",{onClick:()=>e(a),className:`w-2 h-2 rounded-full transition-all ${a===t?"bg-gold w-6":"bg-cream/30"}`,"aria-label":`Go to testimonial ${a+1}`},a))}),g.jsx("button",{onClick:i,className:"p-2 rounded-full border border-cream/30 text-cream/60 hover:bg-cream/10 hover:text-gold transition-colors","aria-label":"Next testimonial",children:g.jsx(J9,{size:14})})]})]})})]})]})}function yM(){return g.jsxs("section",{className:"section-padding bg-cream-light relative overflow-hidden",children:[g.jsx("div",{className:"absolute inset-0 mehndi-pattern opacity-20"}),g.jsxs("div",{className:"container-custom relative z-10 text-center",children:[g.jsx("p",{className:"font-vibes text-gold text-3xl mb-3",children:"Ready to Get Beautiful Mehandi?"}),g.jsx("h2",{className:"font-playfair text-3xl md:text-4xl lg:text-5xl font-bold text-maroon mb-4",children:"Book Your Appointment Today"}),g.jsx("p",{className:"text-gray-600 max-w-xl mx-auto mb-8",children:"Let me create a stunning mehandi design that you'll cherish forever. Available for weddings, parties, festivals, and all special occasions."}),g.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[g.jsx(hr,{to:"/booking",variant:"secondary",children:"Book Now"}),g.jsx(hr,{to:"/gallery",variant:"outline",children:"Explore Designs"})]})]})]})}function _M(){V.useEffect(()=>{const t=new IntersectionObserver(n=>{n.forEach(i=>{i.isIntersecting&&i.target.classList.add("revealed")})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});return document.querySelectorAll(".scroll-reveal").forEach(n=>t.observe(n)),()=>t.disconnect()},[])}function vM(){return _M(),g.jsxs(g.Fragment,{children:[g.jsx(cM,{}),g.jsx(hM,{}),g.jsx(pM,{}),g.jsx(gM,{}),g.jsx(yM,{})]})}function EM({image:t,onClick:e}){return g.jsx("div",{onClick:e,className:"group cursor-pointer rounded-xl overflow-hidden shadow-md hover:shadow-xl transition-all duration-300 hover:-translate-y-1 bg-white",children:g.jsxs("div",{className:"relative aspect-[3/4] overflow-hidden",children:[g.jsx("img",{src:t.imageUrl,alt:t.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500",loading:"lazy"}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-maroon/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),g.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 translate-y-full group-hover:translate-y-0 transition-transform duration-300",children:[g.jsx("h3",{className:"font-playfair text-white font-semibold text-lg",children:t.title}),g.jsx("p",{className:"text-gold-light text-sm",children:t.category})]})]})})}function TM({images:t,currentIndex:e,onClose:n,onNavigate:i}){const r=t[e],s=V.useCallback(a=>{a.key==="Escape"&&n(),a.key==="ArrowLeft"&&e>0&&i(e-1),a.key==="ArrowRight"&&e<t.length-1&&i(e+1)},[e,t.length,n,i]);return V.useEffect(()=>(document.body.style.overflow="hidden",document.addEventListener("keydown",s),()=>{document.body.style.overflow="",document.removeEventListener("keydown",s)}),[s]),r?g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/90",onClick:n,children:g.jsxs("div",{className:"relative max-w-5xl w-full mx-4",onClick:a=>a.stopPropagation(),children:[g.jsx("button",{onClick:n,className:"absolute -top-12 right-0 text-white/70 hover:text-white transition-colors","aria-label":"Close",children:g.jsx(Mg,{size:28})}),g.jsxs("div",{className:"relative",children:[g.jsx("img",{src:r.imageUrl,alt:r.title,className:"w-full max-h-[80vh] object-contain rounded-lg"}),e>0&&g.jsx("button",{onClick:()=>i(e-1),className:"absolute left-2 top-1/2 -translate-y-1/2 p-2 bg-black/50 rounded-full text-white hover:bg-black/70 transition-colors","aria-label":"Previous image",children:g.jsx(U9,{size:24})}),e<t.length-1&&g.jsx("button",{onClick:()=>i(e+1),className:"absolute right-2 top-1/2 -translate-y-1/2 p-2 bg-black/50 rounded-full text-white hover:bg-black/70 transition-colors","aria-label":"Next image",children:g.jsx(j9,{size:24})})]}),g.jsxs("div",{className:"text-center mt-4",children:[g.jsx("h3",{className:"font-playfair text-white text-xl font-semibold",children:r.title}),g.jsx("p",{className:"text-gold-light text-sm mt-1",children:r.category}),r.description&&g.jsx("p",{className:"text-white/60 text-sm mt-1",children:r.description}),g.jsxs("p",{className:"text-white/40 text-xs mt-2",children:[e+1," / ",t.length]})]})]})}):null}function bM({active:t,onChange:e}){return g.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-8",children:Pg.map(n=>g.jsx("button",{onClick:()=>e(n),className:`px-4 py-2 rounded-full text-sm font-medium transition-all duration-300 ${t===n?"bg-gold text-white shadow-md":"bg-white text-gray-600 hover:bg-gold/10 hover:text-gold border border-gray-200"}`,children:n},n))})}function kh({size:t="md",className:e=""}){const n={sm:"w-5 h-5",md:"w-8 h-8",lg:"w-12 h-12"};return g.jsx("div",{className:`flex items-center justify-center ${e}`,children:g.jsx("div",{className:`${n[t]} border-4 border-cream-dark border-t-gold rounded-full animate-spin`})})}function kg(t,e={}){const[n,i]=V.useState([]),[r,s]=V.useState(!0),[a,l]=V.useState(null);return V.useEffect(()=>{if(!ul||!oi){s(!1),l(null);return}s(!0);let u=[];e.whereField&&e.whereValue&&u.push(K5(e.whereField,"==",e.whereValue)),e.orderByField&&u.push(Y5(e.orderByField,e.orderDirection||"desc"));const c=G5(Ag(oi,t),...u);return J5(c,d=>{const p=d.docs.map(y=>({id:y.id,...y.data()}));i(p),s(!1),l(null)},d=>{console.error(`Firestore error (${t}):`,d),l(d.message),s(!1)})},[t,e.whereField,e.whereValue,e.orderByField,e.orderDirection]),{documents:n,loading:r,error:a}}function AM(){const[t,e]=V.useState("All"),[n,i]=V.useState(null),{documents:r,loading:s,error:a}=kg("gallery",{orderByField:"createdAt",orderDirection:"desc"}),l=V.useMemo(()=>t==="All"?r:r.filter(u=>u.category===t),[r,t]);return s?g.jsx(kh,{size:"lg",className:"py-20"}):a?g.jsx("div",{className:"text-center py-20",children:g.jsx("p",{className:"text-red-500",children:"Failed to load gallery. Please try again later."})}):g.jsxs(g.Fragment,{children:[g.jsx(bM,{active:t,onChange:e}),l.length===0?g.jsxs("div",{className:"text-center py-20",children:[g.jsx("p",{className:"font-vibes text-gold text-3xl mb-2",children:"Coming Soon"}),g.jsx("p",{className:"text-gray-500",children:t==="All"?"Gallery images will appear here once uploaded by the artist.":`No ${t} designs uploaded yet. Check back soon!`})]}):g.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map((u,c)=>g.jsx(EM,{image:u,onClick:()=>i(c)},u.id))}),n!==null&&g.jsx(TM,{images:l,currentIndex:n,onClose:()=>i(null),onNavigate:i})]})}function SM(){return g.jsx("div",{className:"pt-20 md:pt-24",children:g.jsx("section",{className:"section-padding bg-cream-light",children:g.jsxs("div",{className:"container-custom",children:[g.jsx(Vl,{subtitle:"My Portfolio",title:"Design Gallery",description:"Browse through my collection of mehandi designs. Click on any image to view it in full."}),g.jsx(AM,{})]})})})}function wM(t){return!t||t.trim().length<2?"Name must be at least 2 characters":""}function xM(t){const e=t.replace(/\s/g,"");return e?/^[6-9]\d{9}$/.test(e)?"":"Enter a valid 10-digit Indian mobile number":"Mobile number is required"}function RM(t){return!t||t.trim().length<5?"Please enter a valid address":""}function CM(t){if(!t)return"Event date is required";const e=new Date(t),n=new Date;return n.setHours(0,0,0,0),e<n?"Event date cannot be in the past":""}function IM(t){return t?"":"Please select an event type"}function NM(t){const e={},n=wM(t.name);n&&(e.name=n);const i=xM(t.mobile);i&&(e.mobile=i);const r=RM(t.address);r&&(e.address=r);const s=CM(t.eventDate);s&&(e.eventDate=s);const a=IM(t.eventType);return a&&(e.eventType=a),e}function DM({onReset:t}){return g.jsxs("div",{className:"text-center py-12 animate-fade-in",children:[g.jsx($9,{className:"text-green-500 mx-auto mb-4",size:64}),g.jsx("h3",{className:"font-playfair text-2xl md:text-3xl font-bold text-maroon mb-3",children:"Booking Confirmed!"}),g.jsx("p",{className:"text-gray-600 max-w-md mx-auto mb-2",children:"Thank you for choosing Bliss Bridal Mehandi! Your booking request has been received."}),g.jsx("p",{className:"text-gray-500 text-sm mb-8",children:"I will contact you shortly to confirm the details. Stay excited!"}),g.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[g.jsx(hr,{to:"/",variant:"primary",children:"Back to Home"}),g.jsx(hr,{onClick:t,variant:"outline",children:"Book Another"})]})]})}const a1={name:"",mobile:"",address:"",eventDate:"",eventType:"",message:""};function OM(){const[t,e]=V.useState(a1),[n,i]=V.useState({}),[r,s]=V.useState(!1),[a,l]=V.useState(!1),u=p=>{const{name:y,value:C}=p.target;e(M=>({...M,[y]:C})),n[y]&&i(M=>({...M,[y]:""}))},c=async p=>{p.preventDefault();const y=NM(t);if(Object.keys(y).length>0){i(y),ke.error("Please fix the errors in the form");return}if(!ul||!oi){ke.error("Firebase is not configured. Please contact the admin.");return}s(!0);try{await XA(Ag(oi,"bookings"),{...t,mobile:t.mobile.replace(/\s/g,""),status:"pending",createdAt:zc()}),l(!0),ke.success("Booking submitted successfully!")}catch(C){console.error("Booking error:",C),ke.error("Failed to submit booking. Please try again.")}finally{s(!1)}},f=()=>{e(a1),i({}),l(!1)};if(a)return g.jsx(DM,{onReset:f});const d=p=>`w-full px-4 py-3 rounded-lg border ${n[p]?"border-red-400 bg-red-50":"border-gray-200 bg-white"} focus:outline-none focus:ring-2 focus:ring-gold/50 focus:border-gold transition-colors font-poppins text-sm`;return g.jsxs("form",{onSubmit:c,className:"max-w-2xl mx-auto space-y-5",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name *"}),g.jsx("input",{type:"text",name:"name",value:t.name,onChange:u,placeholder:"Enter your full name",className:d("name")}),n.name&&g.jsx("p",{className:"text-red-500 text-xs mt-1",children:n.name})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mobile Number *"}),g.jsxs("div",{className:"flex",children:[g.jsx("span",{className:"inline-flex items-center px-3 rounded-l-lg border border-r-0 border-gray-200 bg-gray-50 text-gray-500 text-sm",children:"+91"}),g.jsx("input",{type:"tel",name:"mobile",value:t.mobile,onChange:u,placeholder:"10-digit mobile number",maxLength:10,className:`${d("mobile")} rounded-l-none`})]}),n.mobile&&g.jsx("p",{className:"text-red-500 text-xs mt-1",children:n.mobile})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address *"}),g.jsx("input",{type:"text",name:"address",value:t.address,onChange:u,placeholder:"Event / home address",className:d("address")}),n.address&&g.jsx("p",{className:"text-red-500 text-xs mt-1",children:n.address})]}),g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-5",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Event Date *"}),g.jsx("input",{type:"date",name:"eventDate",value:t.eventDate,onChange:u,min:new Date().toISOString().split("T")[0],className:d("eventDate")}),n.eventDate&&g.jsx("p",{className:"text-red-500 text-xs mt-1",children:n.eventDate})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Event Type *"}),g.jsxs("select",{name:"eventType",value:t.eventType,onChange:u,className:d("eventType"),children:[g.jsx("option",{value:"",children:"Select event type"}),dM.map(p=>g.jsx("option",{value:p,children:p},p))]}),n.eventType&&g.jsx("p",{className:"text-red-500 text-xs mt-1",children:n.eventType})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Message (Optional)"}),g.jsx("textarea",{name:"message",value:t.message,onChange:u,placeholder:"Any special requests or design preferences...",rows:4,className:d("message")})]}),g.jsx(hr,{type:"submit",variant:"secondary",disabled:r,className:"w-full",children:r?"Submitting...":"Book Appointment"})]})}function MM(){return g.jsx("div",{className:"pt-20 md:pt-24",children:g.jsx("section",{className:"section-padding bg-cream-light min-h-screen",children:g.jsxs("div",{className:"container-custom",children:[g.jsx(Vl,{subtitle:"Get in Touch",title:"Book Your Appointment",description:"Fill out the form below and I will get back to you to confirm your booking."}),g.jsx(OM,{})]})})})}function VM(){const[t,e]=V.useState(""),[n,i]=V.useState(""),[r,s]=V.useState(!1),{login:a}=Ph(),l=async u=>{if(u.preventDefault(),!t||!n){ke.error("Please enter email and password");return}s(!0);try{await a(t,n),ke.success("Welcome back!")}catch(c){console.error("Login error:",c),ke.error("Invalid email or password")}finally{s(!1)}};return g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-maroon-dark to-maroon px-4",children:g.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md",children:[g.jsxs("div",{className:"text-center mb-8",children:[g.jsx("h1",{className:"font-vibes text-gold text-4xl mb-2",children:"Admin Panel"}),g.jsx("p",{className:"text-gray-500 text-sm",children:"Bliss Bridal Mehandi by Prajkta"})]}),g.jsxs("form",{onSubmit:l,className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),g.jsx("input",{type:"email",value:t,onChange:u=>e(u.target.value),placeholder:"admin@example.com",className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-gold/50 focus:border-gold text-sm"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),g.jsx("input",{type:"password",value:n,onChange:u=>i(u.target.value),placeholder:"Enter your password",className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-gold/50 focus:border-gold text-sm"})]}),g.jsx("button",{type:"submit",disabled:r,className:"w-full py-3 rounded-lg bg-gold text-white font-medium hover:bg-gold-dark transition-colors disabled:opacity-50",children:r?"Signing in...":"Sign In"})]})]})})}const PM="dc9gl5gcu",kM="mcosqrod";function LM(){const[t,e]=V.useState(null),[n,i]=V.useState(null),[r,s]=V.useState(""),[a,l]=V.useState(""),[u,c]=V.useState(""),[f,d]=V.useState(0),[p,y]=V.useState(!1),[C,M]=V.useState(!1),D=V.useRef(null),A=k=>{if(k){if(!k.type.startsWith("image/")){ke.error("Please select an image file");return}if(k.size>5*1024*1024){ke.error("Image must be under 5MB");return}e(k),i(URL.createObjectURL(k))}},E=k=>{k.preventDefault(),M(!1);const H=k.dataTransfer.files[0];A(H)},S=async k=>{if(k.preventDefault(),!t||!r||!a){ke.error("Please fill in title, category, and select an image");return}y(!0),d(0);try{const H=new FormData;H.append("file",t),H.append("upload_preset",kM),H.append("folder","gallery");const T=new XMLHttpRequest,v=await new Promise((b,x)=>{T.open("POST",`https://api.cloudinary.com/v1_1/${PM}/image/upload`),T.upload.onprogress=R=>{R.lengthComputable&&d(Math.round(R.loaded/R.total*100))},T.onload=()=>{if(T.status===200){const R=JSON.parse(T.responseText);b(R.secure_url)}else x(new Error("Upload failed"))},T.onerror=()=>x(new Error("Upload failed")),T.send(H)});await XA(Ag(oi,"gallery"),{title:r,category:a,description:u,imageUrl:v,createdAt:zc(),updatedAt:zc()}),ke.success("Image uploaded successfully!"),e(null),i(null),s(""),l(""),c(""),d(0)}catch(H){console.error("Upload error:",H),ke.error("Upload failed. Please try again.")}finally{y(!1)}},I=Pg.filter(k=>k!=="All");return g.jsxs("form",{onSubmit:S,className:"space-y-6",children:[g.jsxs("div",{onDragOver:k=>{k.preventDefault(),M(!0)},onDragLeave:()=>M(!1),onDrop:E,onClick:()=>{var k;return(k=D.current)==null?void 0:k.click()},className:`border-2 border-dashed rounded-xl p-8 text-center cursor-pointer transition-all ${C?"border-gold bg-gold/5":"border-gray-300 hover:border-gold/50"}`,children:[g.jsx("input",{ref:D,type:"file",accept:"image/*",onChange:k=>A(k.target.files[0]),className:"hidden"}),n?g.jsx("img",{src:n,alt:"Preview",className:"max-h-60 mx-auto rounded-lg"}):g.jsxs("div",{className:"py-4",children:[g.jsx(z9,{className:"text-gray-400 mx-auto mb-3",size:48}),g.jsx("p",{className:"text-gray-500 font-medium",children:"Drop an image here or click to browse"}),g.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Max size: 5MB"})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title *"}),g.jsx("input",{type:"text",value:r,onChange:k=>s(k.target.value),placeholder:"E.g. Royal Bridal Full Hand Design",className:"w-full px-4 py-2.5 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-gold/50 focus:border-gold text-sm"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category *"}),g.jsxs("select",{value:a,onChange:k=>l(k.target.value),className:"w-full px-4 py-2.5 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-gold/50 focus:border-gold text-sm",children:[g.jsx("option",{value:"",children:"Select category"}),I.map(k=>g.jsx("option",{value:k,children:k},k))]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),g.jsx("textarea",{value:u,onChange:k=>c(k.target.value),placeholder:"Brief description of the design (optional)",rows:3,className:"w-full px-4 py-2.5 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-gold/50 focus:border-gold text-sm"})]}),p&&g.jsxs("div",{className:"w-full bg-gray-200 rounded-full h-3",children:[g.jsx("div",{className:"gradient-gold h-3 rounded-full transition-all duration-300",style:{width:`${f}%`}}),g.jsxs("p",{className:"text-sm text-gray-500 mt-1 text-center",children:[f,"%"]})]}),g.jsxs("button",{type:"submit",disabled:p,className:"w-full flex items-center justify-center gap-2 py-3 rounded-lg bg-gold text-white font-medium hover:bg-gold-dark transition-colors disabled:opacity-50",children:[g.jsx(iS,{size:18}),p?`Uploading... ${f}%`:"Upload Image"]})]})}function UM(){const{documents:t,loading:e}=kg("gallery",{orderByField:"createdAt",orderDirection:"desc"}),[n,i]=V.useState(null),[r,s]=V.useState({}),a=async d=>{if(window.confirm(`Delete "${d.title}"? This cannot be undone.`))try{await X5(Uc(oi,"gallery",d.id)),ke.success("Image deleted")}catch(p){console.error("Delete error:",p),ke.error("Failed to delete image")}},l=d=>{i(d.id),s({title:d.title,category:d.category,description:d.description||""})},u=()=>{i(null),s({})},c=async d=>{if(!r.title||!r.category){ke.error("Title and category are required");return}try{await $A(Uc(oi,"gallery",d),{...r,updatedAt:zc()}),ke.success("Image updated"),u()}catch(p){console.error("Update error:",p),ke.error("Failed to update image")}},f=Pg.filter(d=>d!=="All");return e?g.jsx(kh,{size:"lg",className:"py-12"}):t.length===0?g.jsx("p",{className:"text-gray-500 text-center py-12",children:"No images uploaded yet."}):g.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(d=>g.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[g.jsx("img",{src:d.imageUrl,alt:d.title,className:"w-full h-48 object-cover"}),g.jsx("div",{className:"p-3",children:n===d.id?g.jsxs("div",{className:"space-y-2",children:[g.jsx("input",{type:"text",value:r.title,onChange:p=>s(y=>({...y,title:p.target.value})),className:"w-full px-2 py-1.5 rounded border border-gray-200 text-sm focus:outline-none focus:border-gold"}),g.jsx("select",{value:r.category,onChange:p=>s(y=>({...y,category:p.target.value})),className:"w-full px-2 py-1.5 rounded border border-gray-200 text-sm focus:outline-none focus:border-gold",children:f.map(p=>g.jsx("option",{value:p,children:p},p))}),g.jsx("textarea",{value:r.description,onChange:p=>s(y=>({...y,description:p.target.value})),rows:2,className:"w-full px-2 py-1.5 rounded border border-gray-200 text-sm focus:outline-none focus:border-gold"}),g.jsxs("div",{className:"flex gap-2",children:[g.jsxs("button",{onClick:()=>c(d.id),className:"flex items-center gap-1 px-3 py-1.5 bg-green-500 text-white rounded text-xs hover:bg-green-600",children:[g.jsx(L9,{size:14})," Save"]}),g.jsxs("button",{onClick:u,className:"flex items-center gap-1 px-3 py-1.5 bg-gray-400 text-white rounded text-xs hover:bg-gray-500",children:[g.jsx(Mg,{size:14})," Cancel"]})]})]}):g.jsxs(g.Fragment,{children:[g.jsx("h4",{className:"font-semibold text-sm text-maroon truncate",children:d.title}),g.jsx("p",{className:"text-xs text-gold",children:d.category}),d.description&&g.jsx("p",{className:"text-xs text-gray-500 mt-1 line-clamp-2",children:d.description}),g.jsxs("div",{className:"flex gap-2 mt-3",children:[g.jsxs("button",{onClick:()=>l(d),className:"flex items-center gap-1 px-3 py-1.5 bg-blue-500 text-white rounded text-xs hover:bg-blue-600",children:[g.jsx(q9,{size:14})," Edit"]}),g.jsxs("button",{onClick:()=>a(d),className:"flex items-center gap-1 px-3 py-1.5 bg-red-500 text-white rounded text-xs hover:bg-red-600",children:[g.jsx(F9,{size:14})," Delete"]})]})]})})]},d.id))})}const o1={pending:"bg-yellow-100 text-yellow-800",confirmed:"bg-blue-100 text-blue-800",completed:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"};function jM(){const{documents:t,loading:e}=kg("bookings",{orderByField:"createdAt",orderDirection:"desc"}),n=async(i,r)=>{try{await $A(Uc(oi,"bookings",i),{status:r}),ke.success(`Booking ${r}`)}catch(s){console.error("Status update error:",s),ke.error("Failed to update status")}};return e?g.jsx(kh,{size:"lg",className:"py-12"}):t.length===0?g.jsx("p",{className:"text-gray-500 text-center py-12",children:"No bookings yet."}):g.jsxs("div",{className:"overflow-x-auto",children:[g.jsxs("table",{className:"w-full text-sm",children:[g.jsx("thead",{children:g.jsxs("tr",{className:"border-b border-gray-200",children:[g.jsx("th",{className:"text-left py-3 px-2 font-semibold text-gray-700",children:"Name"}),g.jsx("th",{className:"text-left py-3 px-2 font-semibold text-gray-700",children:"Mobile"}),g.jsx("th",{className:"text-left py-3 px-2 font-semibold text-gray-700 hidden md:table-cell",children:"Event"}),g.jsx("th",{className:"text-left py-3 px-2 font-semibold text-gray-700",children:"Date"}),g.jsx("th",{className:"text-left py-3 px-2 font-semibold text-gray-700",children:"Status"}),g.jsx("th",{className:"text-left py-3 px-2 font-semibold text-gray-700",children:"Action"})]})}),g.jsx("tbody",{children:t.map(i=>g.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[g.jsx("td",{className:"py-3 px-2",children:g.jsxs("div",{children:[g.jsx("p",{className:"font-medium text-gray-800",children:i.name}),g.jsx("p",{className:"text-xs text-gray-500 hidden sm:block truncate max-w-[150px]",children:i.address})]})}),g.jsx("td",{className:"py-3 px-2 text-gray-600",children:g.jsx("a",{href:`tel:+91${i.mobile}`,className:"text-blue-600 hover:underline",children:i.mobile})}),g.jsx("td",{className:"py-3 px-2 text-gray-600 hidden md:table-cell",children:i.eventType}),g.jsx("td",{className:"py-3 px-2 text-gray-600",children:i.eventDate}),g.jsx("td",{className:"py-3 px-2",children:g.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${o1[i.status]||"bg-gray-100 text-gray-600"}`,children:i.status})}),g.jsx("td",{className:"py-3 px-2",children:g.jsx("select",{value:i.status,onChange:r=>n(i.id,r.target.value),className:"px-2 py-1 rounded border border-gray-200 text-xs focus:outline-none focus:border-gold",children:s1.map(r=>g.jsx("option",{value:r,children:r},r))})})]},i.id))})]}),g.jsx("div",{className:"md:hidden mt-4 space-y-3",children:t.map(i=>g.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 space-y-2",children:[g.jsxs("div",{className:"flex justify-between items-start",children:[g.jsxs("div",{children:[g.jsx("p",{className:"font-semibold text-gray-800",children:i.name}),g.jsx("a",{href:`tel:+91${i.mobile}`,className:"text-blue-600 text-sm",children:i.mobile})]}),g.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${o1[i.status]}`,children:i.status})]}),g.jsxs("p",{className:"text-sm text-gray-600",children:[i.eventType,"  ",i.eventDate]}),g.jsx("p",{className:"text-xs text-gray-500",children:i.address}),i.message&&g.jsx("p",{className:"text-xs text-gray-400 italic",children:i.message}),g.jsx("select",{value:i.status,onChange:r=>n(i.id,r.target.value),className:"w-full px-2 py-1.5 rounded border border-gray-200 text-sm focus:outline-none focus:border-gold",children:s1.map(r=>g.jsx("option",{value:r,children:r},r))})]},`card-${i.id}`))})]})}const zM=[{id:"upload",label:"Upload Image",icon:G9},{id:"manage",label:"Manage Images",icon:iS},{id:"bookings",label:"View Bookings",icon:k9}];function BM(){const[t,e]=V.useState("upload"),{logout:n}=Ph(),i=async()=>{try{await n(),ke.success("Logged out")}catch{ke.error("Failed to log out")}};return g.jsxs("div",{className:"min-h-screen bg-gray-50",children:[g.jsx("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-40",children:g.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex items-center justify-between h-16",children:[g.jsx("h1",{className:"font-vibes text-gold text-2xl",children:"Admin Panel"}),g.jsxs("button",{onClick:i,className:"flex items-center gap-2 text-gray-500 hover:text-red-500 text-sm transition-colors",children:[g.jsx(B9,{size:18}),g.jsx("span",{className:"hidden sm:inline",children:"Logout"})]})]})}),g.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[g.jsx("div",{className:"flex gap-2 mb-6 overflow-x-auto pb-2",children:zM.map(r=>{const s=r.icon;return g.jsxs("button",{onClick:()=>e(r.id),className:`flex items-center gap-2 px-4 py-2.5 rounded-lg text-sm font-medium whitespace-nowrap transition-all ${t===r.id?"bg-gold text-white shadow-md":"bg-white text-gray-600 hover:bg-gray-100 border border-gray-200"}`,children:[g.jsx(s,{size:18}),r.label]},r.id)})}),g.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4 sm:p-6",children:[t==="upload"&&g.jsx(LM,{}),t==="manage"&&g.jsx(UM,{}),t==="bookings"&&g.jsx(jM,{})]})]})]})}function HM({children:t}){const{user:e,loading:n}=Ph();return n?g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-cream-light",children:g.jsx(kh,{size:"lg"})}):e?t:g.jsx(w4,{to:"/admin",replace:!0})}function qM(){const{user:t,loading:e}=Ph();return e?null:t?g.jsx(HM,{children:g.jsx(BM,{})}):g.jsx(VM,{})}function FM(){return g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-cream-light pt-20",children:g.jsxs("div",{className:"text-center px-4",children:[g.jsx("p",{className:"font-vibes text-gold text-6xl mb-4",children:"404"}),g.jsx("h1",{className:"font-playfair text-3xl md:text-4xl font-bold text-maroon mb-4",children:"Page Not Found"}),g.jsx("p",{className:"text-gray-600 mb-8",children:"The page you are looking for does not exist or has been moved."}),g.jsx(hr,{to:"/",variant:"primary",children:"Go Back Home"})]})})}function GM(){return g.jsx(C9,{children:g.jsxs(P4,{basename:"/blissbridalmehandi_byprajkta",children:[g.jsx(xC,{position:"top-center",toastOptions:{duration:3e3,style:{fontFamily:"Poppins, sans-serif",fontSize:"14px"}}}),g.jsxs(C4,{children:[g.jsxs(Or,{element:g.jsx(uM,{}),children:[g.jsx(Or,{path:"/",element:g.jsx(vM,{})}),g.jsx(Or,{path:"/gallery",element:g.jsx(SM,{})}),g.jsx(Or,{path:"/booking",element:g.jsx(MM,{})}),g.jsx(Or,{path:"*",element:g.jsx(FM,{})})]}),g.jsx(Or,{path:"/admin",element:g.jsx(qM,{})})]})]})})}OR.createRoot(document.getElementById("root")).render(g.jsx(V.StrictMode,{children:g.jsx(GM,{})}));
